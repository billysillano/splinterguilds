(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();function at(){}function Qe(l){return l()}function ge(){return Object.create(null)}function Tt(l){l.forEach(Qe)}function el(l){return typeof l=="function"}function St(l,t){return l!=l?t==t:l!==t||l&&typeof l=="object"||typeof l=="function"}let te;function jt(l,t){return te||(te=document.createElement("a")),te.href=t,l===te.href}function ll(l){return Object.keys(l).length===0}function sl(l,...t){if(l==null)return at;const s=l.subscribe(...t);return s.unsubscribe?()=>s.unsubscribe():s}function Mt(l,t,s){l.$$.on_destroy.push(sl(t,s))}function Nt(l,t,s){return l.set(s),t}function e(l,t){l.appendChild(t)}function J(l,t,s){l.insertBefore(t,s||null)}function K(l){l.parentNode.removeChild(l)}function Ht(l,t){for(let s=0;s<l.length;s+=1)l[s]&&l[s].d(t)}function i(l){return document.createElement(l)}function A(l){return document.createTextNode(l)}function m(){return A(" ")}function re(){return A("")}function st(l,t,s,a){return l.addEventListener(t,s,a),()=>l.removeEventListener(t,s,a)}function n(l,t,s){s==null?l.removeAttribute(t):l.getAttribute(t)!==s&&l.setAttribute(t,s)}function ae(l){return l===""?null:+l}function nl(l){return Array.from(l.childNodes)}function I(l,t){t=""+t,l.wholeText!==t&&(l.data=t)}function Ot(l,t){l.value=t==null?"":t}function Pt(l,t,s){l.classList[s?"add":"remove"](t)}let Xt;function Vt(l){Xt=l}function al(){if(!Xt)throw new Error("Function called outside component initialization");return Xt}function ie(l){al().$$.on_mount.push(l)}const Qt=[],we=[],se=[],ve=[],rl=Promise.resolve();let ce=!1;function il(){ce||(ce=!0,rl.then(Ve))}function de(l){se.push(l)}const oe=new Set;let ee=0;function Ve(){const l=Xt;do{for(;ee<Qt.length;){const t=Qt[ee];ee++,Vt(t),ol(t.$$)}for(Vt(null),Qt.length=0,ee=0;we.length;)we.pop()();for(let t=0;t<se.length;t+=1){const s=se[t];oe.has(s)||(oe.add(s),s())}se.length=0}while(Qt.length);for(;ve.length;)ve.pop()();ce=!1,oe.clear(),Vt(l)}function ol(l){if(l.fragment!==null){l.update(),Tt(l.before_update);const t=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,t),l.after_update.forEach(de)}}const ne=new Set;let It;function Wt(){It={r:0,c:[],p:It}}function Dt(){It.r||Tt(It.c),It=It.p}function Y(l,t){l&&l.i&&(ne.delete(l),l.i(t))}function lt(l,t,s,a){if(l&&l.o){if(ne.has(l))return;ne.add(l),It.c.push(()=>{ne.delete(l),a&&(s&&l.d(1),a())}),l.o(t)}else a&&a()}function wt(l){l&&l.c()}function bt(l,t,s,a){const{fragment:r,on_mount:o,on_destroy:u,after_update:c}=l.$$;r&&r.m(t,s),a||de(()=>{const _=o.map(Qe).filter(el);u?u.push(..._):Tt(_),l.$$.on_mount=[]}),c.forEach(de)}function ht(l,t){const s=l.$$;s.fragment!==null&&(Tt(s.on_destroy),s.fragment&&s.fragment.d(t),s.on_destroy=s.fragment=null,s.ctx=[])}function cl(l,t){l.$$.dirty[0]===-1&&(Qt.push(l),il(),l.$$.dirty.fill(0)),l.$$.dirty[t/31|0]|=1<<t%31}function At(l,t,s,a,r,o,u,c=[-1]){const _=Xt;Vt(l);const d=l.$$={fragment:null,ctx:null,props:o,update:at,not_equal:r,bound:ge(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(_?_.$$.context:[])),callbacks:ge(),dirty:c,skip_bound:!1,root:t.target||_.$$.root};u&&u(d.root);let h=!1;if(d.ctx=s?s(l,t.props||{},(b,f,...k)=>{const g=k.length?k[0]:f;return d.ctx&&r(d.ctx[b],d.ctx[b]=g)&&(!d.skip_bound&&d.bound[b]&&d.bound[b](g),h&&cl(l,b)),f}):[],d.update(),h=!0,Tt(d.before_update),d.fragment=a?a(d.ctx):!1,t.target){if(t.hydrate){const b=nl(t.target);d.fragment&&d.fragment.l(b),b.forEach(K)}else d.fragment&&d.fragment.c();t.intro&&Y(l.$$.fragment),bt(l,t.target,t.anchor,t.customElement),Ve()}Vt(_)}class Lt{$destroy(){ht(this,1),this.$destroy=at}$on(t,s){const a=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return a.push(s),()=>{const r=a.indexOf(s);r!==-1&&a.splice(r,1)}}$set(t){this.$$set&&!ll(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const qt=[];function Zt(l,t=at){let s;const a=new Set;function r(c){if(St(l,c)&&(l=c,s)){const _=!qt.length;for(const d of a)d[1](),qt.push(d,l);if(_){for(let d=0;d<qt.length;d+=2)qt[d][0](qt[d+1]);qt.length=0}}}function o(c){r(c(l))}function u(c,_=at){const d=[c,_];return a.add(d),a.size===1&&(s=t(r)||at),c(l),()=>{a.delete(d),a.size===0&&(s(),s=null)}}return{set:r,update:o,subscribe:u}}const ke=Zt([]),Ut=Zt(null),Kt=Zt([]),zt=Zt(!1),Yt=Zt(""),Jt="https://api2.splinterlands.com",ye="https://d36mxiodymuqjm.cloudfront.net/website",le={0:"Novice",1:"Bronze 3",2:"Bronze 2",3:"Bronze 1",4:"Silver 3",5:"Silver 2",6:"Silver 1",7:"Gold 3",8:"Gold 2",9:"Gold 1",10:"Diamond 3",11:"Diamond 2",12:"Diamond 1",13:"Champion 3",14:"Champion 2",15:"Champion 1"},$e=["Preparation Stage","Battle Stage","Result Stage"],Ye={1:{tier:1},2:{tier:1},3:{tier:2},4:{tier:2},5:{tier:3},6:{tier:3},7:{tier:4},8:{tier:4},9:{tier:5},10:{tier:5}},dl={1:["1 All Novice","2	All Novice","3	Chaos + RW Novice","4	U+D+C+RW Novice","5	All Bronze","6	All Bronze","7	Chaos + RW Bronze","8	All Silver","9	All Silver","10	Chaos + RW Silver","11	All	Gold Foil	Bronze","12	Chaos + RW	Gold Foil	Bronze","13	U+D+C+RW	Gold Foil	Bronze"],2:["1 All Novice","2	Chaos + RW Novice","3	All Bronze","4	All Bronze","5	Chaos + RW Bronze","6	A+B+P+R Bronze","7	All Silver","8	All Silver","9	Chaos + RW Silver","10	U+D+C+RW Silver","11	All","12	U+D+C+RW","13	All	Gold Foil	Bronze","14	U+D+C+RW Gold Foil	Bronze","15	All	Gold Foil	Silver","16	U+D+C+RW Gold Foil	Silver"],3:["1	All Bronze","2	U+D+C+RW Bronze","3	All Silver","4	All Silver","5	U+D+C+RW Silver","6	A+B+P+R Silver","7	All","8	All","9	All","10	U+D+C+RW","11	Alpha Beta Promo Reward","12	All Max","13	U+D+C+RW Max","14	All	Gold Foil	Bronze","15	All	Gold Foil	Silver","16	U+D+C+RW	Gold Foil	Silver","17	All	Gold Foil	Gold","18	U+D+C+RW	Gold Foil	Gold"],4:["1	All Silver","2	All Silver","3	U+D+C+RW Silver","4	U+D+C+RW Silver","5	All","6	All","7	All","8	U+D+C+RW","9	U+D+C+RW","10	Alpha","11	All Max","12	All Max","13	U+D+C+RW Max","14	U+D+C+RW Max","15	Alpha Beta Promo Reward Max","16	All	Gold Foil	Bronze","17	All	Gold Foil	Silver","18	U+D+C+RW	Gold Foil	Silver","19	All	Gold Foil	Gold","20	U+D+C+RW	Gold Foil	Gold","21	All	Gold Foil	Max"],5:["1	All Silver","2	U+D+C+RW Silver","3	All","4	All","5	All","6	U+D+C+RW","7	U+D+C+RW","8	U+D+C+RW","9	All Max","10	All Max","11	All Max","12	All Max","13	All Max","14	U+D+C+RW Max","15	U+D+C+RW Max","16	U+D+C+RW Max","17	Alpha Max","18	Alpha Beta Promo Reward Max","19	All	Gold Foil	Silver","20	U+D+C+RW	Gold Foil	Silver","21	All	Gold Foil	Gold","22	U+D+C+RW	Gold Foil	Gold","23	Alpha Beta Promo Reward	Gold Foil	Gold","24	All	Gold Foil	Max","25	U+D+C+RW	Gold Foil	Max"]},ut=function(l){return Intl.NumberFormat("en",{notation:"compact"}).format(Number(l))},ue=(l,t)=>{const s=new URL(window.location.href),a=s.searchParams;a.set(l,t),s.search=a.toString(),window.history.pushState("","",s.search)};function Ce(l,t,s){const a=l.slice();return a[9]=t[s],a}function xe(l){let t,s,a,r,o=l[9].player+"",u,c,_,d,h,b=l[9].join_date+"",f,k,g,y,$=ut(l[9].collection_power)+"",p,w,v,N,M,R=le[l[9].modern_league]+"",W,G,B,C=l[9].modern_rating+"",D,U,H,O,q,L=le[l[9].league]+"",x,S,T,E=l[9].rating+"",j,F,X,tt,P,Z,z,Q=(l[9].crowns?ut(l[9].crowns):0)+"",et,ct,_t,nt,rt,$t,Ft,Ct=(l[9].dec?ut(l[9].dec):0)+"",Et,vt,xt,kt,yt,Rt,Gt,Bt=(l[9].quest_lodge?ut(l[9].quest_lodge):0)+"",pt,dt;return{c(){t=i("tr"),s=i("td"),a=i("div"),r=i("a"),u=A(o),_=m(),d=i("div"),h=A("joined: "),f=A(b),k=m(),g=i("td"),y=i("div"),p=A($),w=m(),v=i("td"),N=i("div"),M=i("div"),W=A(R),G=m(),B=i("div"),D=A(C),U=m(),H=i("td"),O=i("div"),q=i("div"),x=A(L),S=m(),T=i("div"),j=A(E),F=m(),X=i("td"),tt=i("div"),P=i("img"),z=m(),et=A(Q),ct=m(),_t=i("td"),nt=i("div"),rt=i("img"),Ft=m(),Et=A(Ct),vt=m(),xt=i("td"),kt=i("div"),yt=i("img"),Gt=m(),pt=A(Bt),dt=m(),n(r,"class","text-decoration-none text-info"),n(r,"href",c="https://splinterlands.com/?p=collection&a="+l[9].player),n(r,"target","blank"),n(r,"title","view collections on splinterlands.com"),n(d,"class","text-muted"),n(a,"class","py-1 px-3 bg-dark"),n(s,"class","p-0"),n(y,"class","px-3 font-monospace text-center "),n(M,"class","text-muted"),n(M,"title","rating"),n(B,"class","me-2"),n(N,"class","px-3 font-monospace text-center"),n(q,"class","text-muted"),n(q,"title","rating"),n(T,"class",""),n(T,"title","league"),n(O,"class","px-3 font-monospace text-center"),n(P,"width","25px"),n(P,"class","ms-2"),jt(P.src,Z="https://d36mxiodymuqjm.cloudfront.net/website/guilds/img_guild_crown_75.png")||n(P,"src",Z),n(P,"alt","Crowns"),n(tt,"class","px-3 font-monospace text-nowrap"),n(rt,"width","25px"),jt(rt.src,$t="https://d36mxiodymuqjm.cloudfront.net/website/guilds/img_dec.png")||n(rt,"src",$t),n(rt,"alt","DEC"),n(nt,"class","px-3 font-monospace text-nowrap"),n(yt,"width","25px"),n(yt,"class","ms-2"),jt(yt.src,Rt="https://d36mxiodymuqjm.cloudfront.net/website/guilds/img_quest_150.png")||n(yt,"src",Rt),n(yt,"alt","Quest"),n(kt,"class","px-3 font-monospace text-nowrap"),n(t,"class","bg-dark")},m(V,it){J(V,t,it),e(t,s),e(s,a),e(a,r),e(r,u),e(a,_),e(a,d),e(d,h),e(d,f),e(t,k),e(t,g),e(g,y),e(y,p),e(t,w),e(t,v),e(v,N),e(N,M),e(M,W),e(N,G),e(N,B),e(B,D),e(t,U),e(t,H),e(H,O),e(O,q),e(q,x),e(O,S),e(O,T),e(T,j),e(t,F),e(t,X),e(X,tt),e(tt,P),e(tt,z),e(tt,et),e(t,ct),e(t,_t),e(_t,nt),e(nt,rt),e(nt,Ft),e(nt,Et),e(t,vt),e(t,xt),e(xt,kt),e(kt,yt),e(kt,Gt),e(kt,pt),e(t,dt)},p(V,it){it&1&&o!==(o=V[9].player+"")&&I(u,o),it&1&&c!==(c="https://splinterlands.com/?p=collection&a="+V[9].player)&&n(r,"href",c),it&1&&b!==(b=V[9].join_date+"")&&I(f,b),it&1&&$!==($=ut(V[9].collection_power)+"")&&I(p,$),it&1&&R!==(R=le[V[9].modern_league]+"")&&I(W,R),it&1&&C!==(C=V[9].modern_rating+"")&&I(D,C),it&1&&L!==(L=le[V[9].league]+"")&&I(x,L),it&1&&E!==(E=V[9].rating+"")&&I(j,E),it&1&&Q!==(Q=(V[9].crowns?ut(V[9].crowns):0)+"")&&I(et,Q),it&1&&Ct!==(Ct=(V[9].dec?ut(V[9].dec):0)+"")&&I(Et,Ct),it&1&&Bt!==(Bt=(V[9].quest_lodge?ut(V[9].quest_lodge):0)+"")&&I(pt,Bt)},d(V){V&&K(t)}}}function ul(l){let t,s,a,r,o,u,c,_,d,h,b,f,k,g,y,$,p,w,v,N,M,R=l[0],W=[];for(let G=0;G<R.length;G+=1)W[G]=xe(Ce(l,R,G));return{c(){t=i("div"),s=i("table"),a=i("thead"),r=i("tr"),o=i("th"),o.innerHTML='IGN <span class="ms-2">\u2195</span>',u=m(),c=i("th"),c.innerHTML='CP <span class="ms-2">\u2195</span>',_=m(),d=i("th"),d.innerHTML='Modern <span class="ms-2">\u2195</span>',h=m(),b=i("th"),b.innerHTML='Wild <span class="ms-2">\u2195</span>',f=m(),k=i("th"),k.innerHTML='Crown <span class="ms-2">\u2195</span>',g=m(),y=i("th"),y.innerHTML='DEC <span class="ms-2">\u2195</span>',$=m(),p=i("th"),p.innerHTML='Quest <span class="ms-2">\u2195</span>',w=m(),v=i("tbody");for(let G=0;G<W.length;G+=1)W[G].c();n(o,"class","px-3 text-nowrap"),n(o,"role","button"),n(c,"class","px-3 text-nowrap text-center"),n(c,"role","button"),n(d,"class","px-3 text-nowrap text-center"),n(d,"role","button"),n(b,"class","px-3 text-nowrap text-center"),n(b,"role","button"),n(k,"class","px-3 text-nowrap"),n(k,"role","button"),n(y,"class","px-3 text-nowrap"),n(y,"role","button"),n(p,"class","px-3 text-nowrap"),n(p,"role","button"),n(a,"class","sticky-top bg-darker"),n(s,"id","table-members"),n(s,"class","table table-sm align-middle mb-0"),n(t,"class","table-responsive max-h-500 border border-primary")},m(G,B){J(G,t,B),e(t,s),e(s,a),e(a,r),e(r,o),e(r,u),e(r,c),e(r,_),e(r,d),e(r,h),e(r,b),e(r,f),e(r,k),e(r,g),e(r,y),e(r,$),e(r,p),e(s,w),e(s,v);for(let C=0;C<W.length;C+=1)W[C].m(v,null);N||(M=[st(o,"click",l[2]),st(c,"click",l[3]),st(d,"click",l[4]),st(b,"click",l[5]),st(k,"click",l[6]),st(y,"click",l[7]),st(p,"click",l[8])],N=!0)},p(G,[B]){if(B&1){R=G[0];let C;for(C=0;C<R.length;C+=1){const D=Ce(G,R,C);W[C]?W[C].p(D,B):(W[C]=xe(D),W[C].c(),W[C].m(v,null))}for(;C<W.length;C+=1)W[C].d(1);W.length=R.length}},i:at,o:at,d(G){G&&K(t),Ht(W,G),N=!1,Tt(M)}}}function fl(l,t,s){let a;Mt(l,Kt,f=>s(0,a=f));function r(f,k){const g=document.getElementById("table-members"),y=f.target.dataset.order==="desc"?"asc":"desc",$=a.sort((p,w)=>isNaN(p[k])?y==="asc"?w[k].localeCompare(p[k]):p[k].localeCompare(w[k]):y==="asc"?w[k]-p[k]:p[k]-w[k]);Nt(Kt,a=[...$],a),g.querySelectorAll("th").forEach(p=>p.dataset.order=""),f.target.dataset.order=y}return[a,r,f=>r(f,"player"),f=>r(f,"collection_power"),f=>r(f,"modern_rating"),f=>r(f,"rating"),f=>r(f,"crowns"),f=>r(f,"dec"),f=>r(f,"quest_lodge")]}class _l extends Lt{constructor(t){super(),At(this,t,fl,ul,St,{})}}function pl(l){let t,s,a;return{c(){t=i("div"),s=i("img"),jt(s.src,a=l[3])||n(s,"src",a),n(s,"alt",l[1].decal),n(s,"class","guild-crest__decal svelte-16juu1e"),n(t,"class","guild-crest svelte-16juu1e"),n(t,"style",`background-image: url(${l[2]})`),Pt(t,"guild-crest--large",l[0]==="large")},m(r,o){J(r,t,o),e(t,s)},p(r,[o]){o&1&&Pt(t,"guild-crest--large",r[0]==="large")},i:at,o:at,d(r){r&&K(t)}}}function ml(l,t,s){let{data:a}=t,{size:r=""}=t;const o=JSON.parse(a).crest,u=`${ye}/guilds/banners/bg_banner_${o.banner}.png`,c=`${ye}/guilds/decals/img_guild_${o.decal}.png`;return l.$$set=_=>{"data"in _&&s(4,a=_.data),"size"in _&&s(0,r=_.size)},[r,o,u,c,a]}class Xe extends Lt{constructor(t){super(),At(this,t,ml,pl,St,{data:4,size:0})}}const bl=async()=>await(await fetch(`${Jt}/guilds/list`)).json(),hl=async l=>await(await fetch(`${Jt}/guilds/find?id=${l}`)).json(),gl=async l=>{const s=await(await fetch(`${Jt}/guilds/members?guild_id=${l}&status=active`)).json();return s?(s.forEach(a=>{const r=JSON.parse(a.data),{guild_hall:o=0,arena:u={DEC:0,CROWN:0},barracks:c={DEC:0,CROWN:0},guild_shop:_={DEC:0,CROWN:0},quest_lodge:d=0}=r.contributions;a.dec=o+u.DEC+c.DEC+_.DEC,a.quest_lodge=d,a.crowns=u.CROWN+c.CROWN+_.CROWN,a.join_date=new Date(a.join_date).toLocaleDateString()}),s.reverse()):[]},Ze=async({tournament_id:l,id:t})=>await(await fetch(`${Jt}/tournaments/find_brawl?id=${l}&guild_id=${t}`)).json(),wl=async(l,t,s)=>(await(await fetch(`${Jt}/guilds/brawl_records?guild_id=${l}&start_cycle=${t}&end_cycle=${s}`)).json()).results||[],vl=async l=>(await(await fetch(`${Jt}/guilds/brawl_records?tournament_id=${l}`)).json()).results||[];function Me(l,t,s){const a=l.slice();return a[13]=t[s][0],a[14]=t[s][1],a[16]=s,a}function Se(l,t,s){const a=l.slice();return a[17]=t[s][0],a[18]=t[s][1],a}function Ae(l){let t,s,a,r,o=l[18].fray_name+"",u,c,_,d,h=l[18].wins+"",b,f,k,g,y=l[18].losses+"",$,p,w,v,N=l[18].draws+"",M,R,W,G,B=l[18].total_battles+"",C,D,U,H,O=Number(l[18].wins/l[18].entered_battles*100).toFixed(2)+"",q,L,x;return{c(){t=i("tr"),s=i("td"),a=i("div"),r=A("Fray "),u=A(o),c=m(),_=i("td"),d=i("div"),b=A(h),f=m(),k=i("td"),g=i("div"),$=A(y),p=m(),w=i("td"),v=i("div"),M=A(N),R=m(),W=i("td"),G=i("div"),C=A(B),D=m(),U=i("td"),H=i("div"),q=A(O),L=A("%"),x=m(),n(a,"class","px-3 text-extra-small fray-cell text-muted svelte-d5ewdm"),n(d,"class","px-3 fray-cell text-muted svelte-d5ewdm"),n(g,"class","px-3 fray-cell text-muted svelte-d5ewdm"),n(v,"class","px-3 fray-cell text-muted svelte-d5ewdm"),n(G,"class","px-3 fray-cell text-muted svelte-d5ewdm"),n(H,"class","px-3 fray-cell text-muted svelte-d5ewdm")},m(S,T){J(S,t,T),e(t,s),e(s,a),e(a,r),e(a,u),e(t,c),e(t,_),e(_,d),e(d,b),e(t,f),e(t,k),e(k,g),e(g,$),e(t,p),e(t,w),e(w,v),e(v,M),e(t,R),e(t,W),e(W,G),e(G,C),e(t,D),e(t,U),e(U,H),e(H,q),e(H,L),e(t,x)},p(S,T){T&1&&o!==(o=S[18].fray_name+"")&&I(u,o),T&1&&h!==(h=S[18].wins+"")&&I(b,h),T&1&&y!==(y=S[18].losses+"")&&I($,y),T&1&&N!==(N=S[18].draws+"")&&I(M,N),T&1&&B!==(B=S[18].total_battles+"")&&I(C,B),T&1&&O!==(O=Number(S[18].wins/S[18].entered_battles*100).toFixed(2)+"")&&I(q,O)},d(S){S&&K(t)}}}function Le(l){let t,s,a,r,o,u=l[13]+"",c,_,d,h,b=l[14].wins+"",f,k,g,y,$=l[14].losses+"",p,w,v,N,M=l[14].draws+"",R,W,G,B,C=l[14].total_battles+"",D,U,H,O,q=l[14].win_rate+"",L,x,S,T,E,j,F,X=Object.entries(l[14].frays),tt=[];for(let P=0;P<X.length;P+=1)tt[P]=Ae(Se(l,X,P));return{c(){t=i("tr"),s=i("td"),a=i("div"),r=i("span"),r.textContent="\u2B9E",o=m(),c=A(u),_=m(),d=i("td"),h=i("div"),f=A(b),k=m(),g=i("td"),y=i("div"),p=A($),w=m(),v=i("td"),N=i("div"),R=A(M),W=m(),G=i("td"),B=i("div"),D=A(C),U=m(),H=i("td"),O=i("div"),L=A(q),x=A("%"),S=m(),T=i("tr"),E=i("td"),j=i("table");for(let P=0;P<tt.length;P+=1)tt[P].c();F=m(),n(r,"class","me-2 arrow small"),n(a,"class","px-3 text-info"),n(s,"class","text-nowrap"),n(h,"class","px-3"),n(d,"class","text-nowrap"),n(y,"class","px-3"),n(g,"class","text-nowrap"),n(N,"class","px-3"),n(v,"class","text-nowrap"),n(B,"class","px-3"),n(G,"class","text-nowrap"),n(O,"class","px-3"),n(H,"class","text-nowrap"),n(t,"role","button"),n(t,"data-bs-toggle","collapse"),n(t,"data-bs-target","#player-fray-result-"+l[16]),n(t,"aria-expanded","false"),n(t,"class","collapsed"),n(j,"class","table table-sm mb-0 w-100 table-fixed svelte-d5ewdm"),n(E,"colspan","6"),n(T,"id","player-fray-result-"+l[16]),n(T,"class","accordion-collapse collapse")},m(P,Z){J(P,t,Z),e(t,s),e(s,a),e(a,r),e(a,o),e(a,c),e(t,_),e(t,d),e(d,h),e(h,f),e(t,k),e(t,g),e(g,y),e(y,p),e(t,w),e(t,v),e(v,N),e(N,R),e(t,W),e(t,G),e(G,B),e(B,D),e(t,U),e(t,H),e(H,O),e(O,L),e(O,x),J(P,S,Z),J(P,T,Z),e(T,E),e(E,j);for(let z=0;z<tt.length;z+=1)tt[z].m(j,null);e(T,F)},p(P,Z){if(Z&1&&u!==(u=P[13]+"")&&I(c,u),Z&1&&b!==(b=P[14].wins+"")&&I(f,b),Z&1&&$!==($=P[14].losses+"")&&I(p,$),Z&1&&M!==(M=P[14].draws+"")&&I(R,M),Z&1&&C!==(C=P[14].total_battles+"")&&I(D,C),Z&1&&q!==(q=P[14].win_rate+"")&&I(L,q),Z&1){X=Object.entries(P[14].frays);let z;for(z=0;z<X.length;z+=1){const Q=Se(P,X,z);tt[z]?tt[z].p(Q,Z):(tt[z]=Ae(Q),tt[z].c(),tt[z].m(j,null))}for(;z<tt.length;z+=1)tt[z].d(1);tt.length=X.length}},d(P){P&&K(t),P&&K(S),P&&K(T),Ht(tt,P)}}}function kl(l){let t,s,a,r,o,u,c,_,d,h,b=l[1].brawl_rank+"",f,k,g,y,$,p=l[1].wins+"",w,v,N,M,R,W=l[1].battles+"",G,B,C,D,U,H=l[1].win_rate+"",O,q,L,x,S,T,E=l[2].brawl_stats.start_cycle+"",j,F,X=l[2].brawl_stats.end_cycle+"",tt,P,Z,z,Q,et,ct,_t,nt,rt,$t,Ft,Ct,Et,vt,xt,kt,yt,Rt,Gt,Bt,pt=Object.entries(l[0]),dt=[];for(let V=0;V<pt.length;V+=1)dt[V]=Le(Me(l,pt,V));return{c(){t=i("div"),s=i("div"),a=i("div"),r=i("button"),o=i("div"),u=i("div"),c=A(`Last 10 brawls\r
            `),_=i("span"),d=i("span"),d.textContent="Avg placement:",h=m(),f=A(b),k=m(),g=i("span"),y=i("span"),y.textContent="Wins:",$=m(),w=A(p),v=m(),N=i("span"),M=i("span"),M.textContent="Battles:",R=m(),G=A(W),B=m(),C=i("span"),D=i("span"),D.textContent="Win rate:",U=m(),O=A(H),q=A("%"),L=m(),x=i("div"),S=i("p"),T=A("Showing brawl cycles "),j=A(E),F=A(" to "),tt=A(X),P=m(),Z=i("div"),z=i("table"),Q=i("thead"),et=i("tr"),ct=i("th"),ct.innerHTML='IGN <span class="ms-2">\u2195</span>',_t=m(),nt=i("th"),nt.innerHTML='Wins<span class="ms-2">\u2195</span>',rt=m(),$t=i("th"),$t.innerHTML='Losses<span class="ms-2">\u2195</span>',Ft=m(),Ct=i("th"),Ct.innerHTML='Draws<span class="ms-2">\u2195</span>',Et=m(),vt=i("th"),vt.innerHTML='Battles<span class="ms-2">\u2195</span>',xt=m(),kt=i("th"),kt.innerHTML='Win rate<span class="ms-2">\u2195</span>',yt=m(),Rt=i("tbody");for(let V=0;V<dt.length;V+=1)dt[V].c();n(d,"class","text-muted"),n(_,"class","ms-3 badge bg-primary"),n(y,"class","text-muted"),n(g,"class","ms-3 badge bg-primary"),n(M,"class","text-muted"),n(N,"class","ms-3 badge bg-primary"),n(D,"class","text-muted"),n(C,"class","ms-3 badge bg-primary"),n(u,"class","h5 mb-0"),n(o,"class","d-flex flex-wrap"),n(r,"class","accordion-button bg-dark"),n(r,"data-bs-toggle","collapse"),n(r,"data-bs-target","#player-brawl-result"),n(r,"aria-expanded","true"),n(r,"aria-controls","player-brawl-result"),n(a,"class","accordion-header"),n(a,"id","player-brawl-results-heading"),n(S,"class","px-4"),n(ct,"class","px-3 text-nowrap"),n(ct,"role","button"),n(nt,"class","px-3 text-nowrap"),n(nt,"role","button"),n($t,"class","px-3 text-nowrap"),n($t,"role","button"),n(Ct,"class","px-3 text-nowrap"),n(Ct,"role","button"),n(vt,"class","px-3 text-nowrap"),n(vt,"role","button"),n(kt,"class","px-3 text-nowrap"),n(et,"class","sticky-top bg-darker"),n(z,"id","table-brawl-stats"),n(z,"class","table table-hover table-sm align-middle table-fixed mb-0 svelte-d5ewdm"),n(Z,"class","table-responsive max-h-500 border border-primary"),n(x,"id","player-brawl-result"),n(x,"class","accordion-collapse collapse show"),n(s,"class","accordion-item"),n(t,"class","accordion accordion-flush mb-3")},m(V,it){J(V,t,it),e(t,s),e(s,a),e(a,r),e(r,o),e(o,u),e(u,c),e(u,_),e(_,d),e(_,h),e(_,f),e(u,k),e(u,g),e(g,y),e(g,$),e(g,w),e(u,v),e(u,N),e(N,M),e(N,R),e(N,G),e(u,B),e(u,C),e(C,D),e(C,U),e(C,O),e(C,q),e(s,L),e(s,x),e(x,S),e(S,T),e(S,j),e(S,F),e(S,tt),e(x,P),e(x,Z),e(Z,z),e(z,Q),e(Q,et),e(et,ct),e(et,_t),e(et,nt),e(et,rt),e(et,$t),e(et,Ft),e(et,Ct),e(et,Et),e(et,vt),e(et,xt),e(et,kt),e(z,yt),e(z,Rt);for(let ft=0;ft<dt.length;ft+=1)dt[ft].m(Rt,null);Gt||(Bt=[st(ct,"click",l[4]),st(nt,"click",l[5]),st($t,"click",l[6]),st(Ct,"click",l[7]),st(vt,"click",l[8]),st(kt,"click",l[9])],Gt=!0)},p(V,[it]){if(it&2&&b!==(b=V[1].brawl_rank+"")&&I(f,b),it&2&&p!==(p=V[1].wins+"")&&I(w,p),it&2&&W!==(W=V[1].battles+"")&&I(G,W),it&2&&H!==(H=V[1].win_rate+"")&&I(O,H),it&4&&E!==(E=V[2].brawl_stats.start_cycle+"")&&I(j,E),it&4&&X!==(X=V[2].brawl_stats.end_cycle+"")&&I(tt,X),it&1){pt=Object.entries(V[0]);let ft;for(ft=0;ft<pt.length;ft+=1){const mt=Me(V,pt,ft);dt[ft]?dt[ft].p(mt,it):(dt[ft]=Le(mt),dt[ft].c(),dt[ft].m(Rt,null))}for(;ft<dt.length;ft+=1)dt[ft].d(1);dt.length=pt.length}},i:at,o:at,d(V){V&&K(t),Ht(dt,V),Gt=!1,Tt(Bt)}}}function yl(l,t,s){let a;Mt(l,Ut,$=>s(2,a=$));let r={},o={brawl_rank:0,battles:0,win_rate:0,draws:0,losses:0,wins:0},u;const c=($,p)=>{var M;const w=((M=Ye[p])==null?void 0:M.tier)||0;return w?dl[w][$]:""},_=async()=>{u=[...a.brawl_stats.results].reverse();const $={};u.forEach(p=>{s(1,o.brawl_rank+=p.brawl_rank,o),s(1,o.battles+=p.draws+p.losses+p.wins,o),s(1,o.wins+=p.wins,o)}),s(1,o.brawl_rank=Math.round(o.brawl_rank/u.length),o),s(1,o.win_rate=Math.round(o.wins/o.battles*100),o);for await(let p of u){const w=await Ze({tournament_id:p.tournament_id,id:p.guild_id});p.brawl_info=w,w&&w.players&&w.players.forEach(v=>{const{brawl_level:N,draws:M,entered_battles:R,finish:W,fray_index:G,losses:B,meta_pts:C,total_battles:D,wins:U,player:H}=v;$[H]||($[H]=[]),$[H]=[...$[H],{brawl_level:N,draws:M,entered_battles:R,finish:W,fray_index:G,losses:B,meta_pts:C,total_battles:D,wins:U}]})}for(const p in $)r[p]||s(0,r[p]={},r),$[p].reduce(function(w,v){return w||(w={draws:0,entered_battles:0,finish:0,losses:0,meta_pts:0,total_battles:0,wins:0,win_rate:0,frays:{},player:p},s(0,r[p]=w,r)),w.draws+=v.draws,w.entered_battles+=v.entered_battles,w.finish+=v.finish,w.losses+=v.losses,w.meta_pts+=v.meta_pts,w.total_battles+=v.total_battles,w.wins+=v.wins,w.frays[v.fray_index]||(w.frays[v.fray_index]={brawl_level:0,draws:0,entered_battles:0,finish:0,losses:0,meta_pts:0,total_battles:0,wins:0,fray_name:""}),w.frays[v.fray_index].draws+=v.draws,w.frays[v.fray_index].entered_battles+=v.entered_battles,w.frays[v.fray_index].finish+=v.finish,w.frays[v.fray_index].losses+=v.losses,w.frays[v.fray_index].meta_pts+=v.meta_pts,w.frays[v.fray_index].total_battles+=v.total_battles,w.frays[v.fray_index].wins+=v.wins,w.frays[v.fray_index].fray_name=c(v.fray_index,v.brawl_level),w},null),s(0,r[p].win_rate=Number(r[p].wins/r[p].entered_battles*100).toFixed(2),r)};function d($,p){const w=document.getElementById("table-brawl-stats"),v=$.target.dataset.order==="desc"?"asc":"desc",N=Object.entries(r).sort(([,M],[,R])=>isNaN(M[p])?v==="asc"?R[p].localeCompare(M[p]):M[p].localeCompare(R[p]):v==="asc"?R[p]-M[p]:M[p]-R[p]).reduce((M,[R,W])=>({...M,[R]:W}),{});s(0,r=N),w.querySelectorAll("th").forEach(M=>M.dataset.order=""),$.target.dataset.order=v}return _(),[r,o,a,d,$=>d($,"player"),$=>d($,"wins"),$=>d($,"losses"),$=>d($,"draws"),$=>d($,"total_battles"),$=>d($,"win_rate")]}class $l extends Lt{constructor(t){super(),At(this,t,yl,kl,St,{})}}function Re(l,t,s){const a=l.slice();return a[2]=t[s],a}function Cl(l){let t;return{c(){t=i("span"),t.textContent="\u{1F4A9}"},m(s,a){J(s,t,a)},p:at,d(s){s&&K(t)}}}function xl(l){let t,s=l[0],a=[];for(let r=0;r<s.length;r+=1)a[r]=Ge(Re(l,s,r));return{c(){t=i("span");for(let r=0;r<a.length;r+=1)a[r].c()},m(r,o){J(r,t,o);for(let u=0;u<a.length;u+=1)a[u].m(t,null)},p(r,o){if(o&1){const u=s.length;s=r[0];let c;for(c=u;c<s.length;c+=1)Re(r,s,c),a[c]||(a[c]=Ge(),a[c].c(),a[c].m(t,null));for(c=s.length;c<u;c+=1)a[c].d(1);a.length=s.length}},d(r){r&&K(t),Ht(a,r)}}}function Ge(l){let t;return{c(){t=A("\u2B50")},m(s,a){J(s,t,a)},d(s){s&&K(t)}}}function Ml(l){let t;function s(o,u){return o[0].length?xl:Cl}let a=s(l),r=a(l);return{c(){r.c(),t=re()},m(o,u){r.m(o,u),J(o,t,u)},p(o,[u]){a===(a=s(o))&&r?r.p(o,u):(r.d(1),r=a(o),r&&(r.c(),r.m(t.parentNode,t)))},i:at,o:at,d(o){r.d(o),o&&K(t)}}}function Sl(l,t,s){let{level:a}=t,r=[];return ie(()=>{var u;const o=((u=Ye[a])==null?void 0:u.tier)||0;s(0,r=Array(o))}),l.$$set=o=>{"level"in o&&s(1,a=o.level)},[r,a]}class fe extends Lt{constructor(t){super(),At(this,t,Sl,Ml,St,{level:1})}}function Be(l,t,s){const a=l.slice();return a[2]=t[s],a[4]=s,a}function Ne(l){let t,s,a,r,o,u=l[0],c=[];for(let _=0;_<u.length;_+=1)c[_]=We(Be(l,u,_));return{c(){t=i("div"),s=i("table"),a=i("thead"),a.innerHTML=`<tr><th><div class="px-2">Guild</div></th> 
        <th><div class="px-2">Place</div></th> 
        <th><div class="px-2">Wins</div></th> 
        <th><div class="px-2">Losses</div></th> 
        <th><div class="px-2">Draws</div></th> 
        <th><div class="px-2">Crowns</div></th> 
        <th><div class="px-2">SPS</div></th> 
        <th><div class="px-2">Merits</div></th></tr>`,r=m(),o=i("tbody");for(let _=0;_<c.length;_+=1)c[_].c();n(a,"class","bg-darker"),n(s,"class","table table-sm small"),n(t,"class","p-3 bg-dark")},m(_,d){J(_,t,d),e(t,s),e(s,a),e(s,r),e(s,o);for(let h=0;h<c.length;h+=1)c[h].m(o,null)},p(_,d){if(d&1){u=_[0];let h;for(h=0;h<u.length;h+=1){const b=Be(_,u,h);c[h]?c[h].p(b,d):(c[h]=We(b),c[h].c(),c[h].m(o,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=u.length}},d(_){_&&K(t),Ht(c,_)}}}function We(l){let t,s,a,r=l[2].name+"",o,u,c,_,d=l[4]+1+"",h,b,f,k,g=l[2].wins+"",y,$,p,w,v=l[2].losses+"",N,M,R,W,G=l[2].draws+"",B,C,D,U,H,O,q=ut(l[2].other_payout)+"",L,x,S,T,E,j,F=ut(l[2].member_sps_payout)+"",X,tt,P,Z,z,Q,et=ut(l[2].member_merits_payout)+"",ct,_t;return{c(){t=i("tr"),s=i("td"),a=i("div"),o=A(r),u=m(),c=i("td"),_=i("div"),h=A(d),b=m(),f=i("td"),k=i("div"),y=A(g),$=m(),p=i("td"),w=i("div"),N=A(v),M=m(),R=i("td"),W=i("div"),B=A(G),C=m(),D=i("td"),U=i("div"),H=i("img"),L=A(q),x=m(),S=i("td"),T=i("div"),E=i("img"),X=A(F),tt=m(),P=i("td"),Z=i("div"),z=i("img"),ct=A(et),_t=m(),n(a,"class","px-2"),n(_,"class","px-2"),n(k,"class","px-2"),n(w,"class","px-2"),n(W,"class","px-2"),n(H,"width","25px"),n(H,"class","me-2"),jt(H.src,O="https://d36mxiodymuqjm.cloudfront.net/website/guilds/img_guild_crown_75.png")||n(H,"src",O),n(H,"alt","Crowns"),n(U,"class","px-2"),n(E,"width","25px"),n(E,"class","me-2"),jt(E.src,j="https://d36mxiodymuqjm.cloudfront.net/website/ui_elements/shop/cl/img_sps-shard_128.png")||n(E,"src",j),n(E,"alt","SPS"),n(T,"class","px-2"),n(z,"width","25px"),n(z,"class","me-2"),jt(z.src,Q="https://d36mxiodymuqjm.cloudfront.net/website/icons/img_merit_256.png")||n(z,"src",Q),n(z,"alt","Merrits"),n(Z,"class","px-2")},m(nt,rt){J(nt,t,rt),e(t,s),e(s,a),e(a,o),e(t,u),e(t,c),e(c,_),e(_,h),e(t,b),e(t,f),e(f,k),e(k,y),e(t,$),e(t,p),e(p,w),e(w,N),e(t,M),e(t,R),e(R,W),e(W,B),e(t,C),e(t,D),e(D,U),e(U,H),e(U,L),e(t,x),e(t,S),e(S,T),e(T,E),e(T,X),e(t,tt),e(t,P),e(P,Z),e(Z,z),e(Z,ct),e(t,_t)},p(nt,rt){rt&1&&r!==(r=nt[2].name+"")&&I(o,r),rt&1&&g!==(g=nt[2].wins+"")&&I(y,g),rt&1&&v!==(v=nt[2].losses+"")&&I(N,v),rt&1&&G!==(G=nt[2].draws+"")&&I(B,G),rt&1&&q!==(q=ut(nt[2].other_payout)+"")&&I(L,q),rt&1&&F!==(F=ut(nt[2].member_sps_payout)+"")&&I(X,F),rt&1&&et!==(et=ut(nt[2].member_merits_payout)+"")&&I(ct,et)},d(nt){nt&&K(t)}}}function Al(l){let t,s=l[0]&&l[0].length&&Ne(l);return{c(){s&&s.c(),t=re()},m(a,r){s&&s.m(a,r),J(a,t,r)},p(a,[r]){a[0]&&a[0].length?s?s.p(a,r):(s=Ne(a),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},i:at,o:at,d(a){s&&s.d(a),a&&K(t)}}}function Ll(l,t,s){let{brawl:a}=t,r=[];return ie(()=>{s(0,r=a)}),l.$$set=o=>{"brawl"in o&&s(1,a=o.brawl)},[r,a]}class tl extends Lt{constructor(t){super(),At(this,t,Ll,Al,St,{brawl:1})}}function Rl(l){let t;return{c(){t=i("div"),n(t,"class","spinner-border spinner-primary"),n(t,"role","status")},m(s,a){J(s,t,a)},p:at,i:at,o:at,d(s){s&&K(t)}}}class _e extends Lt{constructor(t){super(),At(this,t,null,Rl,St,{})}}function De(l,t,s){const a=l.slice();return a[29]=t[s][0],a[30]=t[s][1],a[32]=s,a}function Te(l,t,s){const a=l.slice();return a[33]=t[s],a}function Ee(l){let t,s,a,r=l[6].brawl_rank+"",o,u,c,_,d,h=l[6].wins+"",b,f,k,g,y,$=l[6].battles+"",p,w,v,N,M,R=l[6].win_rate+"",W,G;return{c(){t=i("span"),s=i("span"),s.textContent="Ave placement:",a=m(),o=A(r),u=m(),c=i("span"),_=i("span"),_.textContent="Wins:",d=m(),b=A(h),f=m(),k=i("span"),g=i("span"),g.textContent="Battles:",y=m(),p=A($),w=m(),v=i("span"),N=i("span"),N.textContent="Win rate:",M=m(),W=A(R),G=A("%"),n(s,"class","text-muted"),n(t,"class","ms-3 badge bg-primary"),n(_,"class","text-muted"),n(c,"class","ms-3 badge bg-primary"),n(g,"class","text-muted"),n(k,"class","ms-3 badge bg-primary"),n(N,"class","text-muted"),n(v,"class","ms-3 badge bg-primary")},m(B,C){J(B,t,C),e(t,s),e(t,a),e(t,o),J(B,u,C),J(B,c,C),e(c,_),e(c,d),e(c,b),J(B,f,C),J(B,k,C),e(k,g),e(k,y),e(k,p),J(B,w,C),J(B,v,C),e(v,N),e(v,M),e(v,W),e(v,G)},p(B,C){C[0]&64&&r!==(r=B[6].brawl_rank+"")&&I(o,r),C[0]&64&&h!==(h=B[6].wins+"")&&I(b,h),C[0]&64&&$!==($=B[6].battles+"")&&I(p,$),C[0]&64&&R!==(R=B[6].win_rate+"")&&I(W,R)},d(B){B&&K(t),B&&K(u),B&&K(c),B&&K(f),B&&K(k),B&&K(w),B&&K(v)}}}function je(l){let t,s,a,r,o,u,c,_,d,h,b=l[0]&&Fe();const f=[Bl,Gl],k=[];function g(w,v){return w[2].length?0:w[0]?-1:1}~(s=g(l))&&(a=k[s]=f[s](l));function y(w,v){if(v[0]&8&&(_=null),_==null&&(_=!!Object.entries(w[3]).length),_)return Wl;if(!w[0])return Nl}let $=y(l,[-1,-1]),p=$&&$(l);return{c(){b&&b.c(),t=m(),a&&a.c(),r=m(),o=i("div"),u=i("div"),u.textContent="Members",c=m(),p&&p.c(),n(u,"class","px-3 mb-3 h5"),n(o,"id","player-brawl-result"),n(o,"class",d="accordion-collapse collapse show mt-4 "+(l[0]&&"d-none"))},m(w,v){b&&b.m(w,v),J(w,t,v),~s&&k[s].m(w,v),J(w,r,v),J(w,o,v),e(o,u),e(o,c),p&&p.m(o,null),h=!0},p(w,v){w[0]?b?v[0]&1&&Y(b,1):(b=Fe(),b.c(),Y(b,1),b.m(t.parentNode,t)):b&&(Wt(),lt(b,1,1,()=>{b=null}),Dt());let N=s;s=g(w),s===N?~s&&k[s].p(w,v):(a&&(Wt(),lt(k[N],1,1,()=>{k[N]=null}),Dt()),~s?(a=k[s],a?a.p(w,v):(a=k[s]=f[s](w),a.c()),Y(a,1),a.m(r.parentNode,r)):a=null),$===($=y(w,v))&&p?p.p(w,v):(p&&p.d(1),p=$&&$(w),p&&(p.c(),p.m(o,null))),(!h||v[0]&1&&d!==(d="accordion-collapse collapse show mt-4 "+(w[0]&&"d-none")))&&n(o,"class",d)},i(w){h||(Y(b),Y(a),h=!0)},o(w){lt(b),lt(a),h=!1},d(w){b&&b.d(w),w&&K(t),~s&&k[s].d(w),w&&K(r),w&&K(o),p&&p.d()}}}function Fe(l){let t,s,a;return s=new _e({}),{c(){t=i("div"),wt(s.$$.fragment),n(t,"class","text-center small pb-4")},m(r,o){J(r,t,o),bt(s,t,null),a=!0},i(r){a||(Y(s.$$.fragment,r),a=!0)},o(r){lt(s.$$.fragment,r),a=!1},d(r){r&&K(t),ht(s)}}}function Gl(l){let t;return{c(){t=i("p"),t.textContent="No record found",n(t,"class","text-center p-3")},m(s,a){J(s,t,a)},p:at,i:at,o:at,d(s){s&&K(t)}}}function Bl(l){let t,s,a,r,o,u,c,_,d,h,b,f,k,g,y,$,p,w,v,N,M,R,W,G,B,C,D,U,H,O=l[2],q=[];for(let x=0;x<O.length;x+=1)q[x]=Ue(Te(l,O,x));const L=x=>lt(q[x],1,1,()=>{q[x]=null});return{c(){t=i("div"),s=i("table"),a=i("thead"),r=i("tr"),o=i("th"),o.innerHTML='Cycle <span class="ms-2">\u2195</span>',u=m(),c=i("th"),c.innerHTML='ID <span class="ms-2">\u2195</span>',_=m(),d=i("th"),d.innerHTML='Tier <span class="ms-2">\u2195</span>',h=m(),b=i("th"),b.innerHTML='Place <span class="ms-2">\u2195</span>',f=m(),k=i("th"),k.innerHTML='Wins <span class="ms-2">\u2195</span>',g=m(),y=i("th"),y.innerHTML='Losses <span class="ms-2">\u2195</span>',$=m(),p=i("th"),p.innerHTML='Draws <span class="ms-2">\u2195</span>',w=m(),v=i("th"),v.innerHTML='Crowns <span class="ms-2">\u2195</span>',N=m(),M=i("th"),M.innerHTML='SPS <span class="ms-2">\u2195</span>',R=m(),W=i("th"),W.innerHTML='Merits <span class="ms-2">\u2195</span>',G=m(),B=i("tbody");for(let x=0;x<q.length;x+=1)q[x].c();n(o,"class","px-3 text-nowrap"),n(o,"role","button"),n(c,"class","px-3 text-nowrap"),n(c,"role","button"),n(d,"class","px-3 text-nowrap text-center"),n(d,"role","button"),n(b,"class","px-3 text-nowrap"),n(b,"role","button"),n(k,"class","px-3 text-nowrap"),n(k,"role","button"),n(y,"class","px-3 text-nowrap"),n(y,"role","button"),n(p,"class","px-3 text-nowrap"),n(p,"role","button"),n(v,"class","px-3 text-nowrap"),n(v,"role","button"),n(M,"class","px-3 text-nowrap"),n(M,"role","button"),n(W,"class","px-3 text-nowrap"),n(W,"role","button"),n(r,"class","bg-darker"),n(s,"id","table-past-brawls"),n(s,"class","table table-sm table-hover align-middle mb-0"),n(t,"class",C="table-responsive max-h-500 border border-primary "+(l[0]&&"d-none"))},m(x,S){J(x,t,S),e(t,s),e(s,a),e(a,r),e(r,o),e(r,u),e(r,c),e(r,_),e(r,d),e(r,h),e(r,b),e(r,f),e(r,k),e(r,g),e(r,y),e(r,$),e(r,p),e(r,w),e(r,v),e(r,N),e(r,M),e(r,R),e(r,W),e(s,G),e(s,B);for(let T=0;T<q.length;T+=1)q[T].m(B,null);D=!0,U||(H=[st(o,"click",l[12]),st(c,"click",l[13]),st(d,"click",l[14]),st(b,"click",l[15]),st(k,"click",l[16]),st(y,"click",l[17]),st(p,"click",l[18]),st(v,"click",l[19]),st(M,"click",l[20]),st(W,"click",l[21])],U=!0)},p(x,S){if(S[0]&4){O=x[2];let T;for(T=0;T<O.length;T+=1){const E=Te(x,O,T);q[T]?(q[T].p(E,S),Y(q[T],1)):(q[T]=Ue(E),q[T].c(),Y(q[T],1),q[T].m(B,null))}for(Wt(),T=O.length;T<q.length;T+=1)L(T);Dt()}(!D||S[0]&1&&C!==(C="table-responsive max-h-500 border border-primary "+(x[0]&&"d-none")))&&n(t,"class",C)},i(x){if(!D){for(let S=0;S<O.length;S+=1)Y(q[S]);D=!0}},o(x){q=q.filter(Boolean);for(let S=0;S<q.length;S+=1)lt(q[S]);D=!1},d(x){x&&K(t),Ht(q,x),U=!1,Tt(H)}}}function Ue(l){var pe;let t,s,a,r,o,u,c=l[33].cycle+"",_,d,h,b,f=l[33].tournament_id+"",k,g,y,$,p,w,v,N,M=l[33].brawl_rank+"",R,W,G,B,C=l[33].wins+"",D,U,H,O,q=l[33].losses+"",L,x,S,T,E=l[33].draws+"",j,F,X,tt,P,Z,z=ut(l[33].other_payout)+"",Q,et,ct,_t,nt,rt,$t=ut(l[33].member_sps_payout)+"",Ft,Ct,Et,vt,xt,kt,yt=ut(l[33].member_merits_payout)+"",Rt,Gt,Bt,pt,dt,V,it,ft,mt;return p=new fe({props:{level:l[33].brawl_level}}),V=new tl({props:{brawl:((pe=l[33].brawl_info)==null?void 0:pe.guilds)||[]}}),{c(){t=i("tr"),s=i("td"),a=i("div"),r=i("span"),r.textContent="\u2B9E",o=m(),u=i("span"),_=A(c),d=m(),h=i("td"),b=i("div"),k=A(f),g=m(),y=i("td"),$=i("div"),wt(p.$$.fragment),w=m(),v=i("td"),N=i("div"),R=A(M),W=m(),G=i("td"),B=i("div"),D=A(C),U=m(),H=i("td"),O=i("div"),L=A(q),x=m(),S=i("td"),T=i("div"),j=A(E),F=m(),X=i("td"),tt=i("div"),P=i("img"),Q=A(z),et=m(),ct=i("td"),_t=i("div"),nt=i("img"),Ft=A($t),Ct=m(),Et=i("td"),vt=i("div"),xt=i("img"),Rt=A(yt),Bt=m(),pt=i("tr"),dt=i("td"),wt(V.$$.fragment),it=m(),n(r,"class","me-2 arrow small"),n(u,"class","text-info"),n(a,"class","px-3"),n(b,"class","px-3 text-nowrap small"),n($,"class","px-3 text-nowrap text-center"),n(N,"class","px-3 text-nowrap"),n(B,"class","px-3 text-nowrap"),n(O,"class","px-3 text-nowrap"),n(T,"class","px-3 text-nowrap"),n(P,"width","25px"),n(P,"class","me-2"),jt(P.src,Z="https://d36mxiodymuqjm.cloudfront.net/website/guilds/img_guild_crown_75.png")||n(P,"src",Z),n(P,"alt","Crowns"),n(tt,"class","px-3 text-nowrap"),n(nt,"width","25px"),n(nt,"class","me-2"),jt(nt.src,rt="https://d36mxiodymuqjm.cloudfront.net/website/ui_elements/shop/cl/img_sps-shard_128.png")||n(nt,"src",rt),n(nt,"alt","SPS"),n(_t,"class","px-3 text-nowrap"),n(xt,"width","25px"),n(xt,"class","me-2"),jt(xt.src,kt="https://d36mxiodymuqjm.cloudfront.net/website/icons/img_merit_256.png")||n(xt,"src",kt),n(xt,"alt","Merrits"),n(vt,"class","px-3 text-nowrap"),n(t,"role","button"),n(t,"data-bs-toggle","collapse"),n(t,"data-bs-target",Gt="#brawl-summary-"+l[33].tournament_id),n(t,"aria-expanded","false"),n(t,"class","collapsed"),n(dt,"colspan","10"),n(pt,"id",ft="brawl-summary-"+l[33].tournament_id),n(pt,"class","accordion-collapse collapse")},m(ot,gt){J(ot,t,gt),e(t,s),e(s,a),e(a,r),e(a,o),e(a,u),e(u,_),e(t,d),e(t,h),e(h,b),e(b,k),e(t,g),e(t,y),e(y,$),bt(p,$,null),e(t,w),e(t,v),e(v,N),e(N,R),e(t,W),e(t,G),e(G,B),e(B,D),e(t,U),e(t,H),e(H,O),e(O,L),e(t,x),e(t,S),e(S,T),e(T,j),e(t,F),e(t,X),e(X,tt),e(tt,P),e(tt,Q),e(t,et),e(t,ct),e(ct,_t),e(_t,nt),e(_t,Ft),e(t,Ct),e(t,Et),e(Et,vt),e(vt,xt),e(vt,Rt),J(ot,Bt,gt),J(ot,pt,gt),e(pt,dt),bt(V,dt,null),e(pt,it),mt=!0},p(ot,gt){var he;(!mt||gt[0]&4)&&c!==(c=ot[33].cycle+"")&&I(_,c),(!mt||gt[0]&4)&&f!==(f=ot[33].tournament_id+"")&&I(k,f);const me={};gt[0]&4&&(me.level=ot[33].brawl_level),p.$set(me),(!mt||gt[0]&4)&&M!==(M=ot[33].brawl_rank+"")&&I(R,M),(!mt||gt[0]&4)&&C!==(C=ot[33].wins+"")&&I(D,C),(!mt||gt[0]&4)&&q!==(q=ot[33].losses+"")&&I(L,q),(!mt||gt[0]&4)&&E!==(E=ot[33].draws+"")&&I(j,E),(!mt||gt[0]&4)&&z!==(z=ut(ot[33].other_payout)+"")&&I(Q,z),(!mt||gt[0]&4)&&$t!==($t=ut(ot[33].member_sps_payout)+"")&&I(Ft,$t),(!mt||gt[0]&4)&&yt!==(yt=ut(ot[33].member_merits_payout)+"")&&I(Rt,yt),(!mt||gt[0]&4&&Gt!==(Gt="#brawl-summary-"+ot[33].tournament_id))&&n(t,"data-bs-target",Gt);const be={};gt[0]&4&&(be.brawl=((he=ot[33].brawl_info)==null?void 0:he.guilds)||[]),V.$set(be),(!mt||gt[0]&4&&ft!==(ft="brawl-summary-"+ot[33].tournament_id))&&n(pt,"id",ft)},i(ot){mt||(Y(p.$$.fragment,ot),Y(V.$$.fragment,ot),mt=!0)},o(ot){lt(p.$$.fragment,ot),lt(V.$$.fragment,ot),mt=!1},d(ot){ot&&K(t),ht(p),ot&&K(Bt),ot&&K(pt),ht(V)}}}function Nl(l){let t;return{c(){t=i("p"),t.textContent="No record found",n(t,"class","text-center p-3")},m(s,a){J(s,t,a)},p:at,d(s){s&&K(t)}}}function Wl(l){let t,s,a,r,o,u,c,_,d,h,b,f,k,g,y,$,p,w,v,N=Object.entries(l[3]),M=[];for(let R=0;R<N.length;R+=1)M[R]=He(De(l,N,R));return{c(){t=i("div"),s=i("table"),a=i("thead"),r=i("tr"),o=i("th"),o.innerHTML='IGN  <span class="ms-2">\u2195</span>',u=m(),c=i("th"),c.innerHTML='Wins  <span class="ms-2">\u2195</span>',_=m(),d=i("th"),d.innerHTML='Losses  <span class="ms-2">\u2195</span>',h=m(),b=i("th"),b.innerHTML='Draws  <span class="ms-2">\u2195</span>',f=m(),k=i("th"),k.innerHTML='Battles  <span class="ms-2">\u2195</span>',g=m(),y=i("th"),y.innerHTML='Win rate  <span class="ms-2">\u2195</span>',$=m(),p=i("tbody");for(let R=0;R<M.length;R+=1)M[R].c();n(o,"class","px-3 text-nowrap"),n(o,"role","button"),n(c,"class","px-3 text-nowrap"),n(c,"role","button"),n(d,"class","px-3 text-nowrap"),n(d,"role","button"),n(b,"class","px-3 text-nowrap"),n(b,"role","button"),n(k,"class","px-3 text-nowrap"),n(k,"role","button"),n(y,"class","px-3 text-nowrap"),n(y,"role","button"),n(r,"class","sticky-top bg-darker"),n(s,"id","table-past-brawls-members"),n(s,"class","table table-sm align-middle table-fixed mb-0"),n(t,"class","table-responsive max-h-500 border border-primary")},m(R,W){J(R,t,W),e(t,s),e(s,a),e(a,r),e(r,o),e(r,u),e(r,c),e(r,_),e(r,d),e(r,h),e(r,b),e(r,f),e(r,k),e(r,g),e(r,y),e(s,$),e(s,p);for(let G=0;G<M.length;G+=1)M[G].m(p,null);w||(v=[st(o,"click",l[22]),st(c,"click",l[23]),st(d,"click",l[24]),st(b,"click",l[25]),st(k,"click",l[26]),st(y,"click",l[27])],w=!0)},p(R,W){if(W[0]&8){N=Object.entries(R[3]);let G;for(G=0;G<N.length;G+=1){const B=De(R,N,G);M[G]?M[G].p(B,W):(M[G]=He(B),M[G].c(),M[G].m(p,null))}for(;G<M.length;G+=1)M[G].d(1);M.length=N.length}},d(R){R&&K(t),Ht(M,R),w=!1,Tt(v)}}}function He(l){let t,s,a,r=l[29]+"",o,u,c,_,d=l[30].wins+"",h,b,f,k,g=l[30].losses+"",y,$,p,w,v=l[30].draws+"",N,M,R,W,G=l[30].total_battles+"",B,C,D,U,H=l[30].win_rate+"",O,q,L;return{c(){t=i("tr"),s=i("td"),a=i("div"),o=A(r),u=m(),c=i("td"),_=i("div"),h=A(d),b=m(),f=i("td"),k=i("div"),y=A(g),$=m(),p=i("td"),w=i("div"),N=A(v),M=m(),R=i("td"),W=i("div"),B=A(G),C=m(),D=i("td"),U=i("div"),O=A(H),q=A("%"),L=m(),n(a,"class","px-3"),n(s,"class","text-nowrap"),n(_,"class","px-3"),n(c,"class","text-nowrap"),n(k,"class","px-3"),n(f,"class","text-nowrap"),n(w,"class","px-3"),n(p,"class","text-nowrap"),n(W,"class","px-3"),n(R,"class","text-nowrap"),n(U,"class","px-3"),n(D,"class","text-nowrap")},m(x,S){J(x,t,S),e(t,s),e(s,a),e(a,o),e(t,u),e(t,c),e(c,_),e(_,h),e(t,b),e(t,f),e(f,k),e(k,y),e(t,$),e(t,p),e(p,w),e(w,N),e(t,M),e(t,R),e(R,W),e(W,B),e(t,C),e(t,D),e(D,U),e(U,O),e(U,q),e(t,L)},p(x,S){S[0]&8&&r!==(r=x[29]+"")&&I(o,r),S[0]&8&&d!==(d=x[30].wins+"")&&I(h,d),S[0]&8&&g!==(g=x[30].losses+"")&&I(y,g),S[0]&8&&v!==(v=x[30].draws+"")&&I(N,v),S[0]&8&&G!==(G=x[30].total_battles+"")&&I(B,G),S[0]&8&&H!==(H=x[30].win_rate+"")&&I(O,H)},d(x){x&&K(t)}}}function Dl(l){let t,s,a,r,o,u,c,_,d,h,b,f,k,g,y,$,p,w,v,N,M,R,W,G,B,C=l[2].length&&Ee(l),D=l[1]&&je(l);return{c(){t=i("div"),s=i("div"),a=i("div"),r=i("button"),o=i("div"),u=i("div"),u.textContent="Past brawls",c=m(),C&&C.c(),_=m(),d=i("div"),h=i("p"),h.textContent="Enter the cycle range that you want to view (recommended) or click apply to get all (slow).",b=m(),f=i("div"),k=i("strong"),k.textContent="Cycle",g=m(),y=i("div"),$=i("input"),p=m(),w=i("div"),v=i("input"),N=m(),M=i("button"),M.textContent="Apply",R=m(),D&&D.c(),n(u,"class","text-nowrap"),n(o,"class","d-flex flex-wrap h5 mb-0"),n(r,"class","accordion-button mb-0 text-light bg-dark"),n(r,"type","button"),n(r,"data-bs-toggle","collapse"),n(r,"data-bs-target","#brawl-cycle"),n(r,"aria-expanded","true"),n(r,"aria-controls","guild-brawl-results"),n(a,"class","accordion-header"),n(a,"id","brawl-cycle-heading"),n(h,"class","px-3 small"),n(k,"class","mb-0 me-3"),n($,"id","cycleStart"),n($,"type","number"),n($,"class","form-control form-control-sm bg-dark text-light"),n($,"placeholder","From"),n(y,"class","me-2 d-flex align-items-center"),n(v,"id","cycleEnd"),n(v,"type","number"),n(v,"class","form-control form-control-sm bg-dark text-light"),n(v,"placeholder","To"),n(w,"class","me-2 d-flex align-items-center"),n(M,"class","btn btn-sm btn-primary"),n(f,"class","d-flex justify-content-end align-items-center px-3 pb-3"),n(d,"id","brawl-cycle"),n(d,"class","accordion-collapse collapse show"),n(s,"class","accordion-item"),n(t,"class","accordion accordion-flush border border-primary mb-3")},m(U,H){J(U,t,H),e(t,s),e(s,a),e(a,r),e(r,o),e(o,u),e(o,c),C&&C.m(o,null),e(s,_),e(s,d),e(d,h),e(d,b),e(d,f),e(f,k),e(f,g),e(f,y),e(y,$),Ot($,l[4]),e(f,p),e(f,w),e(w,v),Ot(v,l[5]),e(f,N),e(f,M),e(d,R),D&&D.m(d,null),W=!0,G||(B=[st($,"input",l[10]),st(v,"input",l[11]),st(M,"click",l[7])],G=!0)},p(U,H){U[2].length?C?C.p(U,H):(C=Ee(U),C.c(),C.m(o,null)):C&&(C.d(1),C=null),H[0]&16&&ae($.value)!==U[4]&&Ot($,U[4]),H[0]&32&&ae(v.value)!==U[5]&&Ot(v,U[5]),U[1]?D?(D.p(U,H),H[0]&2&&Y(D,1)):(D=je(U),D.c(),Y(D,1),D.m(d,null)):D&&(Wt(),lt(D,1,1,()=>{D=null}),Dt())},i(U){W||(Y(D),W=!0)},o(U){lt(D),W=!1},d(U){U&&K(t),C&&C.d(),D&&D.d(),G=!1,Tt(B)}}}function Tl(l,t,s){let a;Mt(l,Ut,L=>s(28,a=L));let r=!1,o=!1,u=[],c={},_="",d="",h={brawl_rank:0,battles:0,win_rate:0,draws:0,losses:0,wins:0};const b=async()=>{const L=a.id,x=_,S=d;if(Number(S)<Number(x)){alert("Invalid cycle from or cycle to value");return}s(1,o=!0),s(0,r=!0);const T=await wl(L,x,S);s(6,h={brawl_rank:0,battles:0,win_rate:0,draws:0,losses:0,wins:0}),s(3,c={}),T.forEach(j=>{s(6,h.brawl_rank+=j.brawl_rank,h),s(6,h.battles+=j.draws+j.losses+j.wins,h),s(6,h.wins+=j.wins,h)}),s(6,h.brawl_rank=Math.round(h.brawl_rank/T.length),h),s(6,h.win_rate=Math.round(h.wins/h.battles*100),h);const E={};for await(let j of T){const F=await Ze({tournament_id:j.tournament_id,id:j.guild_id});j.brawl_info=F,F&&F.players&&F.players.forEach(X=>{const{brawl_level:tt,draws:P,entered_battles:Z,finish:z,fray_index:Q,losses:et,meta_pts:ct,total_battles:_t,wins:nt,player:rt}=X;E[rt]||(E[rt]=[]),E[rt]=[...E[rt],{brawl_level:tt,draws:P,entered_battles:Z,finish:z,fray_index:Q,losses:et,meta_pts:ct,total_battles:_t,wins:nt}]})}for(const j in E)c[j]||s(3,c[j]={},c),E[j].reduce((F,X)=>(F||(F={draws:0,entered_battles:0,finish:0,losses:0,meta_pts:0,total_battles:0,wins:0,frays:{},player:j},s(3,c[j]=F,c)),F.draws+=X.draws,F.entered_battles+=X.entered_battles,F.finish+=X.finish,F.losses+=X.losses,F.meta_pts+=X.meta_pts,F.total_battles+=X.total_battles,F.wins+=X.wins,F),null),s(3,c[j].win_rate=Number(c[j].wins/c[j].entered_battles*100).toFixed(2),c);s(2,u=T),s(0,r=!1)};function f(L,x){const S=document.getElementById("table-past-brawls"),T=L.target.dataset.order==="desc"?"asc":"desc",E=u.sort((j,F)=>isNaN(j[x])?T==="asc"?F[x].localeCompare(j[x]):j[x].localeCompare(F[x]):T==="asc"?F[x]-j[x]:j[x]-F[x]);s(2,u=[...E]),S.querySelectorAll("th").forEach(j=>j.dataset.order=""),L.target.dataset.order=T}function k(L,x){const S=document.getElementById("table-past-brawls-members"),T=L.target.dataset.order==="desc"?"asc":"desc",E=Object.entries(c).sort(([,j],[,F])=>isNaN(j[x])?T==="asc"?F[x].localeCompare(j[x]):j[x].localeCompare(F[x]):T==="asc"?F[x]-j[x]:j[x]-F[x]).reduce((j,[F,X])=>({...j,[F]:X}),{});s(3,c=E),S.querySelectorAll("th").forEach(j=>j.dataset.order=""),L.target.dataset.order=T}function g(){_=ae(this.value),s(4,_)}function y(){d=ae(this.value),s(5,d)}return[r,o,u,c,_,d,h,b,f,k,g,y,L=>f(L,"cycle"),L=>f(L,"tournament_id"),L=>f(L,"brawl_level"),L=>f(L,"brawl_rank"),L=>f(L,"wins"),L=>f(L,"losses"),L=>f(L,"draws"),L=>f(L,"other_payout"),L=>f(L,"member_sps_payout"),L=>f(L,"member_merits_payout"),L=>k(L,"player"),L=>k(L,"wins"),L=>k(L,"losses"),L=>k(L,"draws"),L=>k(L,"total_battles"),L=>k(L,"win_rate")]}class El extends Lt{constructor(t){super(),At(this,t,Tl,Dl,St,{},null,[-1,-1])}}function jl(l){let t;return{c(){t=i("div"),t.textContent="Current Brawl: No participation",n(t,"class","p-3 bg-dark")},m(s,a){J(s,t,a)},p:at,i:at,o:at,d(s){s&&K(t)}}}function Fl(l){let t,s,a,r,o,u,c,_=$e[l[2].tournament_status]+"",d,h,b,f,k;const g=[Hl,Ul],y=[];function $(p,w){return p[1]?0:p[0]&&p[0].length?1:-1}return~(b=$(l))&&(f=y[b]=g[b](l)),{c(){t=i("div"),s=i("div"),a=i("div"),r=i("button"),o=i("div"),u=i("strong"),u.textContent="Current Brawl",c=A(" : "),d=A(_),h=m(),f&&f.c(),n(o,"class","h5"),n(r,"class","accordion-button text-light bg-dark"),n(r,"data-bs-toggle","collapse"),n(r,"data-bs-target","#guild-brawl-latest"),n(r,"aria-expanded","true"),n(r,"aria-controls","guild-brawl-latest"),n(a,"class","accordion-header"),n(s,"class","accordion-item"),n(t,"class","accordion accordion-flush mb-3")},m(p,w){J(p,t,w),e(t,s),e(s,a),e(a,r),e(r,o),e(o,u),e(o,c),e(o,d),e(s,h),~b&&y[b].m(s,null),k=!0},p(p,w){(!k||w&4)&&_!==(_=$e[p[2].tournament_status]+"")&&I(d,_);let v=b;b=$(p),b===v?~b&&y[b].p(p,w):(f&&(Wt(),lt(y[v],1,1,()=>{y[v]=null}),Dt()),~b?(f=y[b],f?f.p(p,w):(f=y[b]=g[b](p),f.c()),Y(f,1),f.m(s,null)):f=null)},i(p){k||(Y(f),k=!0)},o(p){lt(f),k=!1},d(p){p&&K(t),~b&&y[b].d()}}}function Ul(l){let t,s,a,r=l[2].tournament_id+"",o,u,c=l[0][0].cycle+"",_,d,h,b;return h=new tl({props:{brawl:l[0]}}),{c(){t=i("div"),s=i("p"),a=A("ID: "),o=A(r),u=A(" - Cycle: #"),_=A(c),d=m(),wt(h.$$.fragment),n(s,"class","px-3"),n(t,"id","guild-brawl-latest"),n(t,"class","accordion-collapse collapse show")},m(f,k){J(f,t,k),e(t,s),e(s,a),e(s,o),e(s,u),e(s,_),e(t,d),bt(h,t,null),b=!0},p(f,k){(!b||k&4)&&r!==(r=f[2].tournament_id+"")&&I(o,r),(!b||k&1)&&c!==(c=f[0][0].cycle+"")&&I(_,c);const g={};k&1&&(g.brawl=f[0]),h.$set(g)},i(f){b||(Y(h.$$.fragment,f),b=!0)},o(f){lt(h.$$.fragment,f),b=!1},d(f){f&&K(t),ht(h)}}}function Hl(l){let t,s,a;return s=new _e({}),{c(){t=i("div"),wt(s.$$.fragment),n(t,"class","text-center p-2")},m(r,o){J(r,t,o),bt(s,t,null),a=!0},p:at,i(r){a||(Y(s.$$.fragment,r),a=!0)},o(r){lt(s.$$.fragment,r),a=!1},d(r){r&&K(t),ht(s)}}}function Il(l){let t,s,a,r;const o=[Fl,jl],u=[];function c(_,d){return _[2].tournament_status||_[2].tournament_status===0?0:1}return t=c(l),s=u[t]=o[t](l),{c(){s.c(),a=re()},m(_,d){u[t].m(_,d),J(_,a,d),r=!0},p(_,[d]){let h=t;t=c(_),t===h?u[t].p(_,d):(Wt(),lt(u[h],1,1,()=>{u[h]=null}),Dt(),s=u[t],s?s.p(_,d):(s=u[t]=o[t](_),s.c()),Y(s,1),s.m(a.parentNode,a))},i(_){r||(Y(s),r=!0)},o(_){lt(s),r=!1},d(_){u[t].d(_),_&&K(a)}}}function ql(l,t,s){let a;Mt(l,Ut,u=>s(2,a=u));let r=[],o=!0;return ie(async()=>{const u=a.tournament_id;s(0,r=await vl(u)),s(1,o=!1)}),[r,o,a]}class zl extends Lt{constructor(t){super(),At(this,t,ql,Il,St,{})}}function Ie(l){let t,s,a,r,o=l[0].name+"",u,c,_,d,h,b,f,k,g,y,$,p,w,v,N,M,R=l[0].rank+"",W,G,B,C,D,U=ut(l[0].rating)+"",H,O,q,L,x,S,T,E,j,F,X,tt,P;f=new Xe({props:{data:l[0].data,size:"large"}}),y=new fe({props:{level:l[0].brawl_level}});let Z=l[0].description&&qe(l),z=l[1]&&l[1].length&&ze(l);return S=new zl({}),E=new $l({}),F=new El({}),{c(){t=i("div"),s=i("div"),a=i("div"),r=i("h2"),u=A(o),c=m(),_=i("button"),_.innerHTML='<span aria-hidden="true">\xD7</span>',d=m(),h=i("div"),b=i("div"),wt(f.$$.fragment),k=m(),g=i("h2"),wt(y.$$.fragment),$=m(),p=i("div"),w=i("div"),v=i("span"),N=A("Rank: "),M=i("strong"),W=A(R),G=m(),B=i("span"),C=A("Rating: \xA0"),D=i("strong"),H=A(U),O=m(),Z&&Z.c(),q=m(),L=i("div"),z&&z.c(),x=m(),wt(S.$$.fragment),T=m(),wt(E.$$.fragment),j=m(),wt(F.$$.fragment),n(r,"class","h2 text-info"),n(_,"class","btn btn-sm btn-primary ms-auto close"),n(_,"aria-label","close"),n(a,"class","d-flex py-2 px-3 align-items-center"),n(g,"class","h2 text-center"),n(M,"class","text-info"),n(v,"class","me-2"),n(D,"class","text-info"),n(w,"class","mb-2"),n(p,"class","px-3"),n(h,"class","d-flex mb-4 p-3 rounded"),n(s,"class","bg-dark"),n(L,"class","accordion accordion-flush mb-3"),n(t,"class","mb-5")},m(Q,et){J(Q,t,et),e(t,s),e(s,a),e(a,r),e(r,u),e(a,c),e(a,_),e(s,d),e(s,h),e(h,b),bt(f,b,null),e(b,k),e(b,g),bt(y,g,null),e(h,$),e(h,p),e(p,w),e(w,v),e(v,N),e(v,M),e(M,W),e(w,G),e(w,B),e(B,C),e(B,D),e(D,H),e(p,O),Z&&Z.m(p,null),e(t,q),e(t,L),z&&z.m(L,null),e(t,x),bt(S,t,null),e(t,T),bt(E,t,null),e(t,j),bt(F,t,null),X=!0,tt||(P=st(_,"click",l[2]),tt=!0)},p(Q,et){(!X||et&1)&&o!==(o=Q[0].name+"")&&I(u,o);const ct={};et&1&&(ct.data=Q[0].data),f.$set(ct);const _t={};et&1&&(_t.level=Q[0].brawl_level),y.$set(_t),(!X||et&1)&&R!==(R=Q[0].rank+"")&&I(W,R),(!X||et&1)&&U!==(U=ut(Q[0].rating)+"")&&I(H,U),Q[0].description?Z?Z.p(Q,et):(Z=qe(Q),Z.c(),Z.m(p,null)):Z&&(Z.d(1),Z=null),Q[1]&&Q[1].length?z?(z.p(Q,et),et&2&&Y(z,1)):(z=ze(Q),z.c(),Y(z,1),z.m(L,null)):z&&(Wt(),lt(z,1,1,()=>{z=null}),Dt())},i(Q){X||(Y(f.$$.fragment,Q),Y(y.$$.fragment,Q),Y(z),Y(S.$$.fragment,Q),Y(E.$$.fragment,Q),Y(F.$$.fragment,Q),X=!0)},o(Q){lt(f.$$.fragment,Q),lt(y.$$.fragment,Q),lt(z),lt(S.$$.fragment,Q),lt(E.$$.fragment,Q),lt(F.$$.fragment,Q),X=!1},d(Q){Q&&K(t),ht(f),ht(y),Z&&Z.d(),z&&z.d(),ht(S),ht(E),ht(F),tt=!1,P()}}}function qe(l){let t,s=l[0].description+"",a;return{c(){t=i("div"),a=A(s),n(t,"class","small")},m(r,o){J(r,t,o),e(t,a)},p(r,o){o&1&&s!==(s=r[0].description+"")&&I(a,s)},d(r){r&&K(t)}}}function ze(l){let t,s,a,r,o,u,c,_=l[0].num_members+"",d,h,b,f,k;return f=new _l({}),{c(){t=i("div"),s=i("div"),a=i("button"),r=i("div"),o=A("Members "),u=i("span"),c=i("span"),c.textContent="total ",d=A(_),h=m(),b=i("div"),wt(f.$$.fragment),n(c,"class","text-muted"),n(u,"class","mx-3 badge bg-primary"),n(r,"class","h5 mb-0"),n(a,"class","accordion-button text-light bg-dark"),n(a,"data-bs-toggle","collapse"),n(a,"data-bs-target","#guild-members"),n(a,"aria-expanded","true"),n(a,"aria-controls","guild-members"),n(s,"class","accordion-header"),n(b,"id","guild-members"),n(b,"class","accordion-collapse collapse show"),n(t,"class","accordion-item")},m(g,y){J(g,t,y),e(t,s),e(s,a),e(a,r),e(r,o),e(r,u),e(u,c),e(u,d),e(t,h),e(t,b),bt(f,b,null),k=!0},p(g,y){(!k||y&1)&&_!==(_=g[0].num_members+"")&&I(d,_)},i(g){k||(Y(f.$$.fragment,g),k=!0)},o(g){lt(f.$$.fragment,g),k=!1},d(g){g&&K(t),ht(f)}}}function Ol(l){let t,s,a=l[0]&&Ie(l);return{c(){a&&a.c(),t=re()},m(r,o){a&&a.m(r,o),J(r,t,o),s=!0},p(r,[o]){r[0]?a?(a.p(r,o),o&1&&Y(a,1)):(a=Ie(r),a.c(),Y(a,1),a.m(t.parentNode,t)):a&&(Wt(),lt(a,1,1,()=>{a=null}),Dt())},i(r){s||(Y(a),s=!0)},o(r){lt(a),s=!1},d(r){a&&a.d(r),r&&K(t)}}}function Pl(l,t,s){let a,r,o;return Mt(l,Yt,c=>s(3,a=c)),Mt(l,Ut,c=>s(0,r=c)),Mt(l,Kt,c=>s(1,o=c)),[r,o,()=>{Nt(Kt,o=[],o),Nt(Ut,r=null,r),Nt(Yt,a="",a),ue("guild","")}]}class Kl extends Lt{constructor(t){super(),At(this,t,Pl,Ol,St,{})}}function Jl(l){let t,s,a,r,o=l[0].guild_hall.level+"",u,c,_,d,h,b=l[0].quest_lodge.level+"",f,k,g,y,$,p=l[0].arena.level+"",w,v,N,M,R,W=l[0].barracks.level+"",G,B,C,D,U,H=l[0].guild_shop.level+"",O;return{c(){t=i("div"),s=i("div"),a=i("span"),a.textContent="Hall",r=m(),u=A(o),c=m(),_=i("div"),d=i("span"),d.textContent="Lodge",h=m(),f=A(b),k=m(),g=i("div"),y=i("span"),y.textContent="Arena",$=m(),w=A(p),v=m(),N=i("div"),M=i("span"),M.textContent="Barracks",R=m(),G=A(W),B=m(),C=i("div"),D=i("span"),D.textContent="Shop",U=m(),O=A(H),n(a,"class","text-muted me-2"),n(s,"class","me-2 text-nowrap badge bg-primary"),n(d,"class","text-muted me-2"),n(_,"class","me-2 text-nowrap badge bg-primary"),n(y,"class","text-muted me-2"),n(g,"class","me-2 text-nowrap badge bg-primary"),n(M,"class","text-muted me-2"),n(N,"class","me-2 text-nowrap badge bg-primary"),n(D,"class","text-muted me-2"),n(C,"class","me-2 text-nowrap badge bg-primary"),n(t,"class","h5 d-flex justify-content-center")},m(q,L){J(q,t,L),e(t,s),e(s,a),e(s,r),e(s,u),e(t,c),e(t,_),e(_,d),e(_,h),e(_,f),e(t,k),e(t,g),e(g,y),e(g,$),e(g,w),e(t,v),e(t,N),e(N,M),e(N,R),e(N,G),e(t,B),e(t,C),e(C,D),e(C,U),e(C,O)},p:at,i:at,o:at,d(q){q&&K(t)}}}function Ql(l,t,s){let{buildings:a}=t;const r=JSON.parse(a);return l.$$set=o=>{"buildings"in o&&s(1,a=o.buildings)},[r,a]}class Vl extends Lt{constructor(t){super(),At(this,t,Ql,Jl,St,{buildings:1})}}function Oe(l,t,s){const a=l.slice();return a[11]=t[s],a}function Pe(l){let t,s,a,r,o,u=l[11].name+"",c,_,d,h=l[11].rank+"",b,f,k,g,y,$,p=(Number(l[11].rating)/1e3).toFixed(1)+"",w,v,N,M,R,W,G,B=l[11].num_members+"",C,D,U,H,O;r=new Xe({props:{data:l[11].data}}),g=new fe({props:{level:l[11].brawl_level}}),R=new Vl({props:{buildings:l[11].buildings}});function q(){return l[8](l[11])}return{c(){t=i("tr"),s=i("td"),a=i("div"),wt(r.$$.fragment),o=m(),c=A(u),_=m(),d=i("td"),b=A(h),f=m(),k=i("td"),wt(g.$$.fragment),y=m(),$=i("td"),w=A(p),v=A("K"),N=m(),M=i("td"),wt(R.$$.fragment),W=m(),G=i("td"),C=A(B),D=m(),n(a,"class","px-3"),n(s,"class","text-nowrap"),n(d,"class","text-center"),n(k,"class","text-center"),n($,"class","text-center"),n(M,"class","text-nowrap"),n(G,"class","text-center"),n(t,"class","pointer"),Pt(t,"d-none",!String(l[11].name).trim().toLowerCase().includes(l[2].trim().toLowerCase()))},m(L,x){J(L,t,x),e(t,s),e(s,a),bt(r,a,null),e(a,o),e(a,c),e(t,_),e(t,d),e(d,b),e(t,f),e(t,k),bt(g,k,null),e(t,y),e(t,$),e($,w),e($,v),e(t,N),e(t,M),bt(R,M,null),e(t,W),e(t,G),e(G,C),e(t,D),U=!0,H||(O=st(t,"click",q),H=!0)},p(L,x){l=L;const S={};x&8&&(S.data=l[11].data),r.$set(S),(!U||x&8)&&u!==(u=l[11].name+"")&&I(c,u),(!U||x&8)&&h!==(h=l[11].rank+"")&&I(b,h);const T={};x&8&&(T.level=l[11].brawl_level),g.$set(T),(!U||x&8)&&p!==(p=(Number(l[11].rating)/1e3).toFixed(1)+"")&&I(w,p);const E={};x&8&&(E.buildings=l[11].buildings),R.$set(E),(!U||x&8)&&B!==(B=l[11].num_members+"")&&I(C,B),x&12&&Pt(t,"d-none",!String(l[11].name).trim().toLowerCase().includes(l[2].trim().toLowerCase()))},i(L){U||(Y(r.$$.fragment,L),Y(g.$$.fragment,L),Y(R.$$.fragment,L),U=!0)},o(L){lt(r.$$.fragment,L),lt(g.$$.fragment,L),lt(R.$$.fragment,L),U=!1},d(L){L&&K(t),ht(r),ht(g),ht(R),H=!1,O()}}}function Yl(l){let t,s,a,r,o,u,c,_,d,h,b,f,k,g,y=l[0].length+"",$,p,w,v,N,M,R,W,G,B,C,D,U,H,O,q,L,x=l[3],S=[];for(let E=0;E<x.length;E+=1)S[E]=Pe(Oe(l,x,E));const T=E=>lt(S[E],1,1,()=>{S[E]=null});return{c(){t=i("div"),s=i("div"),a=i("h1"),a.textContent="Splinterlands Guilds",r=m(),o=i("label"),o.textContent="Search guild name:",u=m(),c=i("input"),_=m(),d=i("div"),h=i("table"),b=i("thead"),f=i("tr"),k=i("th"),g=i("div"),$=A(y),p=A(" Guilds"),w=m(),v=i("th"),v.textContent="Rank",N=m(),M=i("th"),M.textContent="Tier",R=m(),W=i("th"),W.textContent="Rating",G=m(),B=i("th"),B.textContent="Buildings",C=m(),D=i("th"),D.textContent="Members",U=m(),H=i("tbody");for(let E=0;E<S.length;E+=1)S[E].c();n(a,"class","h4 mb-0"),n(o,"for",""),n(o,"class","ms-auto me-2"),n(c,"class","form-control-sm"),n(c,"type","text"),n(c,"placeholder","Search"),n(s,"class","d-flex justify-content-between align-items-center mb-2"),n(g,"class","px-3"),n(v,"class","text-center"),n(M,"class","text-center"),n(W,"class","text-center"),n(B,"class","text-center"),n(D,"class","text-center"),n(b,"class","sticky-top bg-darker"),n(h,"id","table-guilds"),n(h,"class","table table-hover align-middle mb-0"),n(d,"class","table-responsive bg-dark max-h-500"),n(t,"class","mb-5 svelte-faikiu"),Pt(t,"disabled",l[1])},m(E,j){J(E,t,j),e(t,s),e(s,a),e(s,r),e(s,o),e(s,u),e(s,c),Ot(c,l[2]),e(t,_),e(t,d),e(d,h),e(h,b),e(b,f),e(f,k),e(k,g),e(g,$),e(g,p),e(f,w),e(f,v),e(f,N),e(f,M),e(f,R),e(f,W),e(f,G),e(f,B),e(f,C),e(f,D),e(h,U),e(h,H);for(let F=0;F<S.length;F+=1)S[F].m(H,null);O=!0,q||(L=[st(c,"input",l[6]),st(c,"input",l[7])],q=!0)},p(E,[j]){if(j&4&&c.value!==E[2]&&Ot(c,E[2]),(!O||j&1)&&y!==(y=E[0].length+"")&&I($,y),j&44){x=E[3];let F;for(F=0;F<x.length;F+=1){const X=Oe(E,x,F);S[F]?(S[F].p(X,j),Y(S[F],1)):(S[F]=Pe(X),S[F].c(),Y(S[F],1),S[F].m(H,null))}for(Wt(),F=x.length;F<S.length;F+=1)T(F);Dt()}j&2&&Pt(t,"disabled",E[1])},i(E){if(!O){for(let j=0;j<x.length;j+=1)Y(S[j]);O=!0}},o(E){S=S.filter(Boolean);for(let j=0;j<S.length;j+=1)lt(S[j]);O=!1},d(E){E&&K(t),Ht(S,E),q=!1,Tt(L)}}}function Xl(l,t,s){let a,r,o,u,c;Mt(l,zt,g=>s(1,a=g)),Mt(l,Ut,g=>s(9,r=g)),Mt(l,Yt,g=>s(2,o=g)),Mt(l,Kt,g=>s(10,u=g)),Mt(l,ke,g=>s(3,c=g));let _=[];ie(async()=>{Nt(zt,a=!0,a);const g=await bl();ke.set(g);const $=new URLSearchParams(window.location.search).get("guild");$&&(await h($),ue("guild",$)),d(),Nt(zt,a=!1,a)});const d=()=>{s(0,_=c.filter(g=>String(g.name).trim().toLowerCase().includes(o.trim().toLowerCase())))},h=async g=>{Nt(zt,a=!0,a),Nt(Ut,r=await hl(g),r),Nt(Kt,u=await gl(g),u),Nt(Yt,o=r.name,o),ue("guild",g),Nt(zt,a=!1,a)};function b(){o=this.value,Yt.set(o)}return[_,a,o,c,d,h,b,()=>d(),g=>h(g.id)]}class Zl extends Lt{constructor(t){super(),At(this,t,Xl,Yl,St,{})}}function Ke(l){let t,s;return t=new Kl({}),{c(){wt(t.$$.fragment)},m(a,r){bt(t,a,r),s=!0},i(a){s||(Y(t.$$.fragment,a),s=!0)},o(a){lt(t.$$.fragment,a),s=!1},d(a){ht(t,a)}}}function Je(l){let t,s,a;return s=new _e({}),{c(){t=i("div"),wt(s.$$.fragment),n(t,"class","text-center my-5")},m(r,o){J(r,t,o),bt(s,t,null),a=!0},i(r){a||(Y(s.$$.fragment,r),a=!0)},o(r){lt(s.$$.fragment,r),a=!1},d(r){r&&K(t),ht(s)}}}function ts(l){let t,s,a,r,o,u,c,_,d,h,b,f,k;a=new Zl({});let g=l[0]&&!l[1]&&Ke(),y=l[1]&&Je();return{c(){t=i("main"),s=i("div"),wt(a.$$.fragment),r=m(),g&&g.c(),o=m(),y&&y.c(),u=m(),c=i("footer"),_=i("div"),d=A(`IGN:\r
        `),h=i("span"),h.textContent="NEVERMELTICE",n(h,"role","button"),n(h,"class","badge bg-primary text-secondary"),n(h,"title","click to copy"),n(_,"class","text-end text-muted my-5"),n(s,"class","container"),n(t,"class","bg-primary pt-3 text-body min-vh-100 font-monospace")},m($,p){J($,t,p),e(t,s),bt(a,s,null),e(s,r),g&&g.m(s,null),e(s,o),y&&y.m(s,null),e(s,u),e(s,c),e(c,_),e(_,d),e(_,h),b=!0,f||(k=st(h,"click",es),f=!0)},p($,[p]){$[0]&&!$[1]?g?p&3&&Y(g,1):(g=Ke(),g.c(),Y(g,1),g.m(s,o)):g&&(Wt(),lt(g,1,1,()=>{g=null}),Dt()),$[1]?y?p&2&&Y(y,1):(y=Je(),y.c(),Y(y,1),y.m(s,u)):y&&(Wt(),lt(y,1,1,()=>{y=null}),Dt())},i($){b||(Y(a.$$.fragment,$),Y(g),Y(y),b=!0)},o($){lt(a.$$.fragment,$),lt(g),lt(y),b=!1},d($){$&&K(t),ht(a),g&&g.d(),y&&y.d(),f=!1,k()}}}function es(){navigator.clipboard.writeText("nevermeltice"),alert("Copied!")}function ls(l,t,s){let a,r;return Mt(l,Ut,o=>s(0,a=o)),Mt(l,zt,o=>s(1,r=o)),[a,r]}class ss extends Lt{constructor(t){super(),At(this,t,ls,ts,St,{})}}new ss({target:document.getElementById("app")});
