(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function l(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(a){if(a.ep)return;a.ep=!0;const r=l(a);fetch(a.href,r)}})();function le(){}function Et(t){return t()}function ut(){return Object.create(null)}function Ue(t){t.forEach(Et)}function Jt(t){return typeof t=="function"}function ge(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Pe;function Ke(t,e){return Pe||(Pe=document.createElement("a")),Pe.href=e,t===Pe.href}function Vt(t){return Object.keys(t).length===0}function Kt(t,...e){if(t==null)return le;const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function ue(t,e,l){t.$$.on_destroy.push(Kt(e,l))}function be(t,e,l){return t.set(l),e}function n(t,e){t.appendChild(e)}function D(t,e,l){t.insertBefore(e,l||null)}function M(t){t.parentNode.removeChild(t)}function Ge(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function o(t){return document.createElement(t)}function k(t){return document.createTextNode(t)}function b(){return k(" ")}function Qt(){return k("")}function Me(t,e,l,s){return t.addEventListener(e,l,s),()=>t.removeEventListener(e,l,s)}function i(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function Yt(t){return Array.from(t.childNodes)}function N(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function dt(t,e){t.value=e==null?"":e}function We(t,e,l){t.classList[l?"add":"remove"](e)}let Ne;function Le(t){Ne=t}function Xt(){if(!Ne)throw new Error("Function called outside component initialization");return Ne}function Ot(t){Xt().$$.on_mount.push(t)}const Be=[],ct=[],Te=[],ft=[],Zt=Promise.resolve();let et=!1;function el(){et||(et=!0,Zt.then(Pt))}function tt(t){Te.push(t)}const Ze=new Set;let qe=0;function Pt(){const t=Ne;do{for(;qe<Be.length;){const e=Be[qe];qe++,Le(e),tl(e.$$)}for(Le(null),Be.length=0,qe=0;ct.length;)ct.pop()();for(let e=0;e<Te.length;e+=1){const l=Te[e];Ze.has(l)||(Ze.add(l),l())}Te.length=0}while(Be.length);for(;ft.length;)ft.pop()();et=!1,Ze.clear(),Le(t)}function tl(t){if(t.fragment!==null){t.update(),Ue(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(tt)}}const He=new Set;let Ce;function me(){Ce={r:0,c:[],p:Ce}}function _e(){Ce.r||Ue(Ce.c),Ce=Ce.p}function T(t,e){t&&t.i&&(He.delete(t),t.i(e))}function ee(t,e,l,s){if(t&&t.o){if(He.has(t))return;He.add(t),Ce.c.push(()=>{He.delete(t),s&&(l&&t.d(1),s())}),t.o(e)}else s&&s()}function pe(t){t&&t.c()}function de(t,e,l,s){const{fragment:a,on_mount:r,on_destroy:u,after_update:d}=t.$$;a&&a.m(e,l),s||tt(()=>{const c=r.map(Et).filter(Jt);u?u.push(...c):Ue(c),t.$$.on_mount=[]}),d.forEach(tt)}function ce(t,e){const l=t.$$;l.fragment!==null&&(Ue(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function ll(t,e){t.$$.dirty[0]===-1&&(Be.push(t),el(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function he(t,e,l,s,a,r,u,d=[-1]){const c=Ne;Le(t);const f=t.$$={fragment:null,ctx:null,props:r,update:le,not_equal:a,bound:ut(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:ut(),dirty:d,skip_bound:!1,root:e.target||c.$$.root};u&&u(f.root);let p=!1;if(f.ctx=l?l(t,e.props||{},(g,m,...y)=>{const _=y.length?y[0]:m;return f.ctx&&a(f.ctx[g],f.ctx[g]=_)&&(!f.skip_bound&&f.bound[g]&&f.bound[g](_),p&&ll(t,g)),m}):[],f.update(),p=!0,Ue(f.before_update),f.fragment=s?s(f.ctx):!1,e.target){if(e.hydrate){const g=Yt(e.target);f.fragment&&f.fragment.l(g),g.forEach(M)}else f.fragment&&f.fragment.c();e.intro&&T(t.$$.fragment),de(t,e.target,e.anchor,e.customElement),Pt()}Le(c)}class ve{$destroy(){ce(this,1),this.$destroy=le}$on(e,l){const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(l),()=>{const a=s.indexOf(l);a!==-1&&s.splice(a,1)}}$set(e){this.$$set&&!Vt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const xe=[];function ze(t,e=le){let l;const s=new Set;function a(d){if(ge(t,d)&&(t=d,l)){const c=!xe.length;for(const f of s)f[1](),xe.push(f,t);if(c){for(let f=0;f<xe.length;f+=2)xe[f][0](xe[f+1]);xe.length=0}}}function r(d){a(d(t))}function u(d,c=le){const f=[d,c];return s.add(f),s.size===1&&(l=e(a)||le),d(t),()=>{s.delete(f),s.size===0&&(l(),l=null)}}return{set:a,update:r,subscribe:u}}const pt=ze([]),Ae=ze(null),Fe=ze([]),Se=ze(!1),Je=ze(null),lt="https://api2.splinterlands.com",qt="https://game-api.splinterlands.io",mt="https://d36mxiodymuqjm.cloudfront.net/website",ke={0:"Novice",1:"Bronze 3",2:"Bronze 2",3:"Bronze 1",4:"Silver 3",5:"Silver 2",6:"Silver 1",7:"Gold 3",8:"Gold 2",9:"Gold 1",10:"Diamond 3",11:"Diamond 2",12:"Diamond 1",13:"Champion 3",14:"Champion 2",15:"Champion 1"},Ve=["Preparation Stage","Battle Stage","Result Stage"],nl={1:{tier:1},2:{tier:1},3:{tier:2},4:{tier:2},5:{tier:3},6:{tier:3},7:{tier:4},8:{tier:4},9:{tier:5},10:{tier:5}},sl=[["1 All	Regular	Novice","2	All	Regular	Novice","3	Chaos + RW	Regular	Novice","4	U+D+C+RW	Regular	Novice","5	All	Regular	Bronze","6	All	Regular	Bronze","7	Chaos + RW	Regular	Bronze","8	All	Regular	Silver","9	All	Regular	Silver","10	Chaos + RW	Regular	Silver","11	All	Gold Foil	Bronze","12	Chaos + RW	Gold Foil	Bronze","13	U+D+C+RW	Gold Foil	Bronze"],["1 All	Regular	Novice","2	Chaos + RW	Regular	Novice","3	All	Regular	Bronze","4	All	Regular	Bronze","5	Chaos + RW	Regular	Bronze","6	A+B+P+R Regular	Bronze","7	All	Regular	Silver","8	All	Regular	Silver","9	Chaos + RW	Regular	Silver","10	U+D+C+RW Regular	Silver","11	All	Regular	Gold","12	U+D+C+RW Regular	Gold","13	All	Gold Foil	Bronze","14	U+D+C+RW Gold Foil	Bronze","15	All	Gold Foil	Silver","16	U+D+C+RW Gold Foil	Silver"],["1	All	Regular	Bronze","2	U+D+C+RW Regular	Bronze","3	All	Regular	Silver","4	All	Regular	Silver","5	U+D+C+RW Regular	Silver","6	A+B+P+R	Regular	Silver","7	All	Regular	Gold","8	All	Regular	Gold","9	All	Regular	Gold","10	U+D+C+RW Regular	Gold","11	Alpha Beta Promo Reward	Regular	Gold","12	All	Regular	Max","13	U+D+C+RW	Regular	Max","14	All	Gold Foil	Bronze","15	All	Gold Foil	Silver","16	U+D+C+RW	Gold Foil	Silver","17	All	Gold Foil	Gold","18	U+D+C+RW	Gold Foil	Gold"],["1	All	Regular	Silver","2	All	Regular	Silver","3	U+D+C+RW	Regular	Silver","4	U+D+C+RW	Regular	Silver","5	All	Regular	Gold","6	All	Regular	Gold","7	All	Regular	Gold","8	U+D+C+RW	Regular	Gold","9	U+D+C+RW	Regular	Gold","10	Alpha	Regular	Gold","11	All	Regular	Max","12	All	Regular	Max","13	U+D+C+RW Regular	Max","14	U+D+C+RW	Regular	Max","15	Alpha Beta Promo Reward	Regular	Max","16	All	Gold Foil	Bronze","17	All	Gold Foil	Silver","18	U+D+C+RW	Gold Foil	Silver","19	All	Gold Foil	Gold","20	U+D+C+RW	Gold Foil	Gold","21	All	Gold Foil	Max"],"1	All	Regular	Silver","2	U+D+C+RW	Regular	Silver","3	All	Regular	Gold","4	All	Regular	Gold","5	All	Regular	Gold","6	U+D+C+RW	Regular	Gold","7	U+D+C+RW	Regular	Gold","8	U+D+C+RW	Regular	Gold","9	All	Regular	Max","10	All	Regular	Max","11	All	Regular	Max","12	All	Regular	Max","13	All	Regular	Max","14	U+D+C+RW	Regular	Max","15	U+D+C+RW	Regular	Max","16	U+D+C+RW	Regular	Max","17	Alpha	Regular	Max","18	Alpha Beta Promo Reward	Regular	Max","19	All	Gold Foil	Silver","20	U+D+C+RW	Gold Foil	Silver","21	All	Gold Foil	Gold","22	U+D+C+RW	Gold Foil	Gold","23	Alpha Beta Promo Reward	Gold Foil	Gold","24	All	Gold Foil	Max","25	U+D+C+RW	Gold Foil	Max"];function _t(t,e,l){const s=t.slice();return s[1]=e[l],s}function gt(t){let e=t[1].dec+"",l,s,a,r;return{c(){l=k(e),s=b(),a=o("img"),i(a,"width","25px"),i(a,"class","me-2"),Ke(a.src,r="https://d36mxiodymuqjm.cloudfront.net/website/guilds/img_dec.png")||i(a,"src",r),i(a,"alt","DEC")},m(u,d){D(u,l,d),D(u,s,d),D(u,a,d)},p(u,d){d&1&&e!==(e=u[1].dec+"")&&N(l,e)},d(u){u&&M(l),u&&M(s),u&&M(a)}}}function bt(t){let e=t[1].quest_lodge+"",l,s,a,r;return{c(){l=k(e),s=b(),a=o("img"),i(a,"width","25px"),i(a,"class","me-2"),Ke(a.src,r="https://d36mxiodymuqjm.cloudfront.net/website/guilds/img_quest_150.png")||i(a,"src",r),i(a,"alt","Quest")},m(u,d){D(u,l,d),D(u,s,d),D(u,a,d)},p(u,d){d&1&&e!==(e=u[1].quest_lodge+"")&&N(l,e)},d(u){u&&M(l),u&&M(s),u&&M(a)}}}function ht(t){let e=t[1].crowns+"",l,s,a,r;return{c(){l=k(e),s=b(),a=o("img"),i(a,"width","25px"),Ke(a.src,r="https://d36mxiodymuqjm.cloudfront.net/website/guilds/img_guild_crown_75.png")||i(a,"src",r),i(a,"alt","Crowns")},m(u,d){D(u,l,d),D(u,s,d),D(u,a,d)},p(u,d){d&1&&e!==(e=u[1].crowns+"")&&N(l,e)},d(u){u&&M(l),u&&M(s),u&&M(a)}}}function vt(t){let e,l,s,a,r=t[1].player+"",u,d,c,f,p,g=t[1].join_date+"",m,y,_,h,w=t[1].collection_power+"",j,G,R,$,E,O=t[1].modern_rating+"",V,F,U,x=ke[t[1].modern_league]+"",L,K,A,S,v,B=t[1].rating+"",H,C,W,z=ke[t[1].league]+"",X,P,q,te,Y,Z,fe,ne=t[1].dec&&gt(t),ae=t[1].quest_lodge&&bt(t),I=t[1].crowns&&ht(t);return{c(){e=o("tr"),l=o("td"),s=o("div"),a=o("a"),u=k(r),c=b(),f=o("div"),p=k("joined: "),m=k(g),y=b(),_=o("td"),h=o("div"),j=k(w),G=b(),R=o("td"),$=o("div"),E=o("span"),V=k(O),F=b(),U=o("span"),L=k(x),K=b(),A=o("td"),S=o("div"),v=o("span"),H=k(B),C=b(),W=o("span"),X=k(z),P=b(),q=o("td"),te=o("div"),ne&&ne.c(),Y=b(),ae&&ae.c(),Z=b(),I&&I.c(),fe=b(),i(a,"class","text-decoration-none"),i(a,"href",d="https://splinterlands.com/?p=collection&a="+t[1].player),i(a,"target","blank"),i(a,"title","view collections on splinterlands.com"),i(f,"class","text-muted"),i(s,"class","py-1 px-3 bg-dark"),i(l,"class","sticky-left p-0"),i(h,"class","px-3 font-monospace me-3 me-2"),i(E,"class","me-2"),i(U,"class","text-muted"),i(U,"title","rating"),i($,"class","px-3 font-monospace me-3 me-2"),i(v,"class",""),i(v,"title","league"),i(W,"class","text-muted"),i(W,"title","rating"),i(S,"class","px-3 font-monospace me-3 me-2"),i(te,"class","px-3 font-monospace me-3 me-2 text-nowrap"),i(e,"class","bg-dark")},m(Q,ie){D(Q,e,ie),n(e,l),n(l,s),n(s,a),n(a,u),n(s,c),n(s,f),n(f,p),n(f,m),n(e,y),n(e,_),n(_,h),n(h,j),n(e,G),n(e,R),n(R,$),n($,E),n(E,V),n($,F),n($,U),n(U,L),n(e,K),n(e,A),n(A,S),n(S,v),n(v,H),n(S,C),n(S,W),n(W,X),n(e,P),n(e,q),n(q,te),ne&&ne.m(te,null),n(te,Y),ae&&ae.m(te,null),n(te,Z),I&&I.m(te,null),n(e,fe)},p(Q,ie){ie&1&&r!==(r=Q[1].player+"")&&N(u,r),ie&1&&d!==(d="https://splinterlands.com/?p=collection&a="+Q[1].player)&&i(a,"href",d),ie&1&&g!==(g=Q[1].join_date+"")&&N(m,g),ie&1&&w!==(w=Q[1].collection_power+"")&&N(j,w),ie&1&&O!==(O=Q[1].modern_rating+"")&&N(V,O),ie&1&&x!==(x=ke[Q[1].modern_league]+"")&&N(L,x),ie&1&&B!==(B=Q[1].rating+"")&&N(H,B),ie&1&&z!==(z=ke[Q[1].league]+"")&&N(X,z),Q[1].dec?ne?ne.p(Q,ie):(ne=gt(Q),ne.c(),ne.m(te,Y)):ne&&(ne.d(1),ne=null),Q[1].quest_lodge?ae?ae.p(Q,ie):(ae=bt(Q),ae.c(),ae.m(te,Z)):ae&&(ae.d(1),ae=null),Q[1].crowns?I?I.p(Q,ie):(I=ht(Q),I.c(),I.m(te,null)):I&&(I.d(1),I=null)},d(Q){Q&&M(e),ne&&ne.d(),ae&&ae.d(),I&&I.d()}}}function al(t){let e,l,s,a,r,u=t[0],d=[];for(let c=0;c<u.length;c+=1)d[c]=vt(_t(t,u,c));return{c(){e=o("div"),l=o("table"),s=o("thead"),s.innerHTML=`<tr><th class="px-3">IGN</th> 
        <th class="px-3">CP</th> 
        <th class="px-3">Modern</th> 
        <th class="px-3">Wild</th> 
        <th class="px-3">Contributed</th></tr>`,a=b(),r=o("tbody");for(let c=0;c<d.length;c+=1)d[c].c();i(s,"class","sticky-top bg-dark"),i(l,"class","table table-sm align-middle mb-0"),i(e,"class","table-responsive max-h-500 border border-primary")},m(c,f){D(c,e,f),n(e,l),n(l,s),n(l,a),n(l,r);for(let p=0;p<d.length;p+=1)d[p].m(r,null)},p(c,[f]){if(f&1){u=c[0];let p;for(p=0;p<u.length;p+=1){const g=_t(c,u,p);d[p]?d[p].p(g,f):(d[p]=vt(g),d[p].c(),d[p].m(r,null))}for(;p<d.length;p+=1)d[p].d(1);d.length=u.length}},i:le,o:le,d(c){c&&M(e),Ge(d,c)}}}function il(t,e,l){let s;return ue(t,Fe,a=>l(0,s=a)),[s]}class rl extends ve{constructor(e){super(),he(this,e,il,al,ge,{})}}function ol(t){let e,l,s,a,r=t[0].guild_hall.level+"",u,d,c,f,p,g=t[0].quest_lodge.level+"",m,y,_,h,w,j=t[0].arena.level+"",G,R,$,E,O,V=t[0].barracks.level+"",F,U,x,L,K,A=t[0].guild_shop.level+"",S;return{c(){e=o("div"),l=o("div"),s=o("span"),s.textContent="Hall",a=b(),u=k(r),d=b(),c=o("div"),f=o("span"),f.textContent="Lodge",p=b(),m=k(g),y=b(),_=o("div"),h=o("span"),h.textContent="Arena",w=b(),G=k(j),R=b(),$=o("div"),E=o("span"),E.textContent="Barracks",O=b(),F=k(V),U=b(),x=o("div"),L=o("span"),L.textContent="Shop",K=b(),S=k(A),i(s,"class","small text-muted me-2"),i(l,"class","me-2 text-nowrap badge bg-dark"),i(f,"class","small text-muted me-2"),i(c,"class","me-2 text-nowrap badge bg-dark"),i(h,"class","small text-muted me-2"),i(_,"class","me-2 text-nowrap badge bg-dark"),i(E,"class","small text-muted me-2"),i($,"class","me-2 text-nowrap badge bg-dark"),i(L,"class","small text-muted me-2"),i(x,"class","me-2 text-nowrap badge bg-dark"),i(e,"class","d-flex flex-wrap")},m(v,B){D(v,e,B),n(e,l),n(l,s),n(l,a),n(l,u),n(e,d),n(e,c),n(c,f),n(c,p),n(c,m),n(e,y),n(e,_),n(_,h),n(_,w),n(_,G),n(e,R),n(e,$),n($,E),n($,O),n($,F),n(e,U),n(e,x),n(x,L),n(x,K),n(x,S)},p:le,i:le,o:le,d(v){v&&M(e)}}}function ul(t,e,l){let{buildings:s}=e;const a=JSON.parse(s);return t.$$set=r=>{"buildings"in r&&l(1,s=r.buildings)},[a,s]}class dl extends ve{constructor(e){super(),he(this,e,ul,ol,ge,{buildings:1})}}function cl(t){let e,l,s;return{c(){e=o("div"),l=o("img"),Ke(l.src,s=t[3])||i(l,"src",s),i(l,"alt",t[1].decal),i(l,"class","guild-crest__decal svelte-1vkkaiw"),i(e,"class","guild-crest svelte-1vkkaiw"),i(e,"style",`background-image: url(${t[2]})`),We(e,"guild-crest--large",t[0]==="large")},m(a,r){D(a,e,r),n(e,l)},p(a,[r]){r&1&&We(e,"guild-crest--large",a[0]==="large")},i:le,o:le,d(a){a&&M(e)}}}function fl(t,e,l){let{data:s}=e,{size:a=""}=e;const r=JSON.parse(s).crest,u=`${mt}/guilds/banners/bg_banner_${r.banner}.png`,d=`${mt}/guilds/decals/img_guild_${r.decal}.png`;return t.$$set=c=>{"data"in c&&l(4,s=c.data),"size"in c&&l(0,a=c.size)},[a,r,u,d,s]}class Tt extends ve{constructor(e){super(),he(this,e,fl,cl,ge,{data:4,size:0})}}const pl=async()=>await(await fetch(`${lt}/guilds/list`)).json(),ml=async t=>await(await fetch(`${lt}/guilds/find?id=${t}`)).json(),_l=async t=>{const l=await(await fetch(`${qt}/guilds/members?guild_id=${t}&status=active`)).json();return l?(l.forEach(s=>{const a=JSON.parse(s.data),{guild_hall:r=0,arena:u={DEC:0,CROWN:0},barracks:d={DEC:0,CROWN:0},guild_shop:c={DEC:0,CROWN:0},quest_lodge:f=0}=a.contributions;s.dec=r+u.DEC+d.DEC+c.DEC,s.quest_lodge=f,s.crowns=u.CROWN+d.CROWN+c.CROWN,s.join_date=new Date(s.join_date).toLocaleDateString()}),l.reverse()):[]},Ht=async({tournament_id:t,id:e})=>await(await fetch(`${lt}/tournaments/find_brawl?id=${t}&guild_id=${e}`)).json(),gl=async t=>await(await fetch(`${qt}/players/details?name=${t}`)).json();function wt(t,e,l){const s=t.slice();return s[5]=e[l][0],s[6]=e[l][1],s}function yt(t,e,l){const s=t.slice();return s[9]=e[l][0],s[10]=e[l][1],s}function kt(t){let e,l,s,a,r=t[10].fray_name+"",u,d,c,f,p=t[10].wins+"",g,m,y,_,h=t[10].losses+"",w,j,G,R,$=t[10].draws+"",E,O,V,F,U=t[10].total_battles+"",x,L,K,A,S=Number(t[10].wins/t[10].entered_battles*100).toFixed(2)+"",v,B,H;return{c(){e=o("tr"),l=o("td"),s=o("div"),a=k("Fray "),u=k(r),d=b(),c=o("td"),f=o("div"),g=k(p),m=b(),y=o("td"),_=o("div"),w=k(h),j=b(),G=o("td"),R=o("div"),E=k($),O=b(),V=o("td"),F=o("div"),x=k(U),L=b(),K=o("td"),A=o("div"),v=k(S),B=k("%"),H=b(),i(s,"class","px-3 text-extra-small fray-cell text-muted svelte-zw867j"),i(f,"class","px-3 fray-cell text-muted svelte-zw867j"),i(_,"class","px-3 fray-cell text-muted svelte-zw867j"),i(R,"class","px-3 fray-cell text-muted svelte-zw867j"),i(F,"class","px-3 fray-cell text-muted svelte-zw867j"),i(A,"class","px-3 fray-cell text-muted svelte-zw867j")},m(C,W){D(C,e,W),n(e,l),n(l,s),n(s,a),n(s,u),n(e,d),n(e,c),n(c,f),n(f,g),n(e,m),n(e,y),n(y,_),n(_,w),n(e,j),n(e,G),n(G,R),n(R,E),n(e,O),n(e,V),n(V,F),n(F,x),n(e,L),n(e,K),n(K,A),n(A,v),n(A,B),n(e,H)},p(C,W){W&1&&r!==(r=C[10].fray_name+"")&&N(u,r),W&1&&p!==(p=C[10].wins+"")&&N(g,p),W&1&&h!==(h=C[10].losses+"")&&N(w,h),W&1&&$!==($=C[10].draws+"")&&N(E,$),W&1&&U!==(U=C[10].total_battles+"")&&N(x,U),W&1&&S!==(S=Number(C[10].wins/C[10].entered_battles*100).toFixed(2)+"")&&N(v,S)},d(C){C&&M(e)}}}function Rt(t){let e,l,s,a=t[5]+"",r,u,d,c,f=t[6].wins+"",p,g,m,y,_=t[6].losses+"",h,w,j,G,R=t[6].draws+"",$,E,O,V,F=t[6].total_battles+"",U,x,L,K,A=Number(t[6].wins/t[6].entered_battles*100).toFixed(2)+"",S,v,B,H,C,W,z,X=Object.entries(t[6].frays),P=[];for(let q=0;q<X.length;q+=1)P[q]=kt(yt(t,X,q));return{c(){e=o("tr"),l=o("td"),s=o("div"),r=k(a),u=b(),d=o("td"),c=o("div"),p=k(f),g=b(),m=o("td"),y=o("div"),h=k(_),w=b(),j=o("td"),G=o("div"),$=k(R),E=b(),O=o("td"),V=o("div"),U=k(F),x=b(),L=o("td"),K=o("div"),S=k(A),v=k("%"),B=b(),H=o("tr"),C=o("td"),W=o("table");for(let q=0;q<P.length;q+=1)P[q].c();z=b(),i(s,"class","py-1 px-3 bg-dark"),i(l,"class","text-nowrap sticky-left p-0"),i(c,"class","px-3"),i(d,"class","text-nowrap"),i(y,"class","px-3"),i(m,"class","text-nowrap"),i(G,"class","px-3"),i(j,"class","text-nowrap"),i(V,"class","px-3"),i(O,"class","text-nowrap"),i(K,"class","px-3"),i(L,"class","text-nowrap"),i(W,"class","table table-sm mb-0 w-100 table-fixed svelte-zw867j"),i(C,"colspan","6"),i(H,"id","player-fray-result"),i(H,"class","accordion-collapse collapse")},m(q,te){D(q,e,te),n(e,l),n(l,s),n(s,r),n(e,u),n(e,d),n(d,c),n(c,p),n(e,g),n(e,m),n(m,y),n(y,h),n(e,w),n(e,j),n(j,G),n(G,$),n(e,E),n(e,O),n(O,V),n(V,U),n(e,x),n(e,L),n(L,K),n(K,S),n(K,v),D(q,B,te),D(q,H,te),n(H,C),n(C,W);for(let Y=0;Y<P.length;Y+=1)P[Y].m(W,null);n(H,z)},p(q,te){if(te&1&&a!==(a=q[5]+"")&&N(r,a),te&1&&f!==(f=q[6].wins+"")&&N(p,f),te&1&&_!==(_=q[6].losses+"")&&N(h,_),te&1&&R!==(R=q[6].draws+"")&&N($,R),te&1&&F!==(F=q[6].total_battles+"")&&N(U,F),te&1&&A!==(A=Number(q[6].wins/q[6].entered_battles*100).toFixed(2)+"")&&N(S,A),te&1){X=Object.entries(q[6].frays);let Y;for(Y=0;Y<X.length;Y+=1){const Z=yt(q,X,Y);P[Y]?P[Y].p(Z,te):(P[Y]=kt(Z),P[Y].c(),P[Y].m(W,null))}for(;Y<P.length;Y+=1)P[Y].d(1);P.length=X.length}},d(q){q&&M(e),q&&M(B),q&&M(H),Ge(P,q)}}}function bl(t){let e,l,s,a,r,u,d,c,f=t[1].brawl_rank+"",p,g,m,y,_=t[1].wins+"",h,w,j,G,R=t[1].battles+"",$,E,O,V,F=t[1].win_rate+"",U,x,L,K,A,S,v,B,H,C=Object.entries(t[0]),W=[];for(let z=0;z<C.length;z+=1)W[z]=Rt(wt(t,C,z));return{c(){e=o("div"),l=o("div"),l.textContent="Stats for the last 10 brawls",s=b(),a=o("button"),a.innerHTML='<span aria-hidden="true" class="dropdown-toggle"></span>',r=b(),u=o("div"),d=o("span"),c=k("Ave rank: "),p=k(f),g=b(),m=o("span"),y=k("Wins: "),h=k(_),w=b(),j=o("span"),G=k("Battles: "),$=k(R),E=b(),O=o("span"),V=k("Win rate: "),U=k(F),x=k("%"),L=b(),K=o("div"),A=o("div"),S=o("table"),v=o("thead"),v.innerHTML=`<tr class="sticky-top bg-dark"><th class="px-3 bg-dark"><button class="btn btn-sm btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#player-fray-result" aria-expanded="true" aria-controls="guild-brawl-result">Display frays <span aria-hidden="true" class="dropdown-toggle"></span></button></th> 
          <th class="px-3 bg-dark">Wins</th> 
          <th class="px-3 bg-dark">Losses</th> 
          <th class="px-3 bg-dark">Draws</th> 
          <th class="px-3 bg-dark">Battles</th> 
          
          <th class="px-3 bg-dark">Win rate</th></tr>`,B=b(),H=o("tbody");for(let z=0;z<W.length;z+=1)W[z].c();i(l,"class","h5"),i(a,"class","btn btn-sm btn-primary ms-auto"),i(a,"type","button"),i(a,"data-bs-toggle","collapse"),i(a,"data-bs-target","#guild-brawl-result"),i(a,"aria-expanded","true"),i(a,"aria-controls","guild-brawl-result"),i(d,"class",""),i(m,"class","ms-3"),i(j,"class","ms-3"),i(O,"class","ms-3"),i(u,"class","px-2 mt-2 bg-primary flex-grow-1 w-100"),i(e,"class","accordion-header d-flex flex-wrap align-items-center py-2 px-3"),i(S,"class","table table-sm align-middle mb-0 table-fixed svelte-zw867j"),i(A,"class","table-responsive max-h-500 border border-primary"),i(K,"id","guild-brawl-result"),i(K,"class","accordion-collapse collapse show")},m(z,X){D(z,e,X),n(e,l),n(e,s),n(e,a),n(e,r),n(e,u),n(u,d),n(d,c),n(d,p),n(u,g),n(u,m),n(m,y),n(m,h),n(u,w),n(u,j),n(j,G),n(j,$),n(u,E),n(u,O),n(O,V),n(O,U),n(O,x),D(z,L,X),D(z,K,X),n(K,A),n(A,S),n(S,v),n(S,B),n(S,H);for(let P=0;P<W.length;P+=1)W[P].m(H,null)},p(z,[X]){if(X&2&&f!==(f=z[1].brawl_rank+"")&&N(p,f),X&2&&_!==(_=z[1].wins+"")&&N(h,_),X&2&&R!==(R=z[1].battles+"")&&N($,R),X&2&&F!==(F=z[1].win_rate+"")&&N(U,F),X&1){C=Object.entries(z[0]);let P;for(P=0;P<C.length;P+=1){const q=wt(z,C,P);W[P]?W[P].p(q,X):(W[P]=Rt(q),W[P].c(),W[P].m(H,null))}for(;P<W.length;P+=1)W[P].d(1);W.length=C.length}},i:le,o:le,d(z){z&&M(e),z&&M(L),z&&M(K),Ge(W,z)}}}function hl(t,e,l){let s;ue(t,Ae,c=>l(2,s=c));let a={},r={brawl_rank:0,battles:0,win_rate:0,draws:0,losses:0,wins:0};const u=(c,f)=>{const p=nl[f-1].tier;return sl[p][c]};return(async()=>{const c=s.brawl_stats.results,f={};c.forEach(p=>{l(1,r.brawl_rank+=p.brawl_rank,r),l(1,r.battles+=p.draws+p.losses+p.wins,r),l(1,r.wins+=p.wins,r)}),l(1,r.brawl_rank=Math.round(r.brawl_rank/c.length),r),l(1,r.win_rate=Math.round(r.wins/r.battles*100),r);for await(let p of c){const g=await Ht({tournament_id:p.tournament_id,id:p.guild_id});g&&g.players&&g.players.forEach(m=>{const{brawl_level:y,draws:_,entered_battles:h,finish:w,fray_index:j,losses:G,meta_pts:R,total_battles:$,wins:E,player:O}=m;f[O]||(f[O]=[]),f[O]=[...f[O],{brawl_level:y,draws:_,entered_battles:h,finish:w,fray_index:j,losses:G,meta_pts:R,total_battles:$,wins:E}]})}for(const p in f)a[p]||l(0,a[p]={},a),f[p].reduce(function(g,m){return g||(g={draws:0,entered_battles:0,finish:0,losses:0,meta_pts:0,total_battles:0,wins:0,frays:{}},l(0,a[p]=g,a)),g.draws+=m.draws,g.entered_battles+=m.entered_battles,g.finish+=m.finish,g.losses+=m.losses,g.meta_pts+=m.meta_pts,g.total_battles+=m.total_battles,g.wins+=m.wins,g.frays[m.fray_index]||(g.frays[m.fray_index]={brawl_level:0,draws:0,entered_battles:0,finish:0,losses:0,meta_pts:0,total_battles:0,wins:0,fray_name:""}),g.frays[m.fray_index].draws+=m.draws,g.frays[m.fray_index].entered_battles+=m.entered_battles,g.frays[m.fray_index].finish+=m.finish,g.frays[m.fray_index].losses+=m.losses,g.frays[m.fray_index].meta_pts+=m.meta_pts,g.frays[m.fray_index].total_battles+=m.total_battles,g.frays[m.fray_index].wins+=m.wins,g.frays[m.fray_index].fray_name=u(m.fray_index,m.brawl_level),g},null)})(),[a,r]}class vl extends ve{constructor(e){super(),he(this,e,hl,bl,ge,{})}}function wl(t){let e;return{c(){e=o("span"),e.textContent="--",i(e,"class","text-muted")},m(l,s){D(l,e,s)},d(l){l&&M(e)}}}function yl(t){let e;return{c(){e=o("span"),e.textContent="\u2022",i(e,"class","text-warning me-1")},m(l,s){D(l,e,s)},d(l){l&&M(e)}}}function kl(t){let e;return{c(){e=o("span"),e.textContent="\u2022",i(e,"class","text-danger me-1")},m(l,s){D(l,e,s)},d(l){l&&M(e)}}}function Rl(t){let e;return{c(){e=o("span"),e.textContent="\u2022",i(e,"class","text-success me-1")},m(l,s){D(l,e,s)},d(l){l&&M(e)}}}function $l(t){let e;return{c(){e=o("span"),i(e,"class","small text-muted")},m(l,s){D(l,e,s)},p:le,d(l){l&&M(e)}}}function Cl(t){let e,l,s;return{c(){e=o("span"),e.textContent=`${t[1].player}`,i(e,"class","small text-muted"),i(e,"role","button"),i(e,"data-bs-toggle","modal"),i(e,"data-bs-target","#playerInfo")},m(a,r){D(a,e,r),l||(s=Me(e,"click",t[5]),l=!0)},p:le,d(a){a&&M(e),l=!1,s()}}}function Gl(t){let e,l;function s(f,p){return f[0]===1?Rl:f[0]===2?kl:f[0]===3?yl:wl}let a=s(t),r=a(t);function u(f,p){return f[1]&&f[1].player?Cl:$l}let c=u(t)(t);return{c(){e=o("div"),r.c(),l=b(),c.c(),i(e,"class","text-nowrap")},m(f,p){D(f,e,p),r.m(e,null),n(e,l),c.m(e,null)},p(f,[p]){a!==(a=s(f))&&(r.d(1),r=a(f),r&&(r.c(),r.m(e,l))),c.p(f,p)},i:le,o:le,d(f){f&&M(e),r.d(),c.d()}}}function Al(t,e,l){let s;ue(t,Je,p=>l(6,s=p));let{players:a,champion:r}=e;const u=a.find(p=>p.fray_index===r.fray_index);let d=0;u&&r.defeated&&(r.defeated.includes(u.player)&&(d=1),!r.defeated.includes(u.player)&&u.defeated&&u.defeated.includes(r.player)&&(d=2),d||(d=3));const c=async p=>{const g=await gl(p.player);be(Je,s=g,s)},f=()=>c(u);return t.$$set=p=>{"players"in p&&l(3,a=p.players),"champion"in p&&l(4,r=p.champion)},[d,u,c,a,r,f]}class xl extends ve{constructor(e){super(),he(this,e,Al,Gl,ge,{players:3,champion:4})}}function Sl(t){let e;return{c(){e=o("div"),i(e,"class","spinner-border spinner-primary"),i(e,"role","status")},m(l,s){D(l,e,s)},p:le,i:le,o:le,d(l){l&&M(e)}}}class nt extends ve{constructor(e){super(),he(this,e,null,Sl,ge,{})}}function $t(t,e,l){const s=t.slice();return s[7]=e[l],s}function Ct(t,e,l){const s=t.slice();return s[10]=e[l],s}function Gt(t,e,l){const s=t.slice();return s[10]=e[l],s}function At(t){let e,l,s;return l=new nt({}),{c(){e=o("div"),pe(l.$$.fragment),i(e,"class","text-center p-2")},m(a,r){D(a,e,r),de(l,e,null),s=!0},i(a){s||(T(l.$$.fragment,a),s=!0)},o(a){ee(l.$$.fragment,a),s=!1},d(a){a&&M(e),ce(l)}}}function xt(t){let e,l,s,a,r,u=(t[1][t[0].guildId]||"--")+"",d,c,f,p,g,m,y,_,h,w,j,G,R,$,E,O,V=t[2],F=[];for(let v=0;v<V.length;v+=1)F[v]=St(Gt(t,V,v));let U=t[0].players,x=[];for(let v=0;v<U.length;v+=1)x[v]=Mt($t(t,U,v));const L=v=>ee(x[v],1,1,()=>{x[v]=null}),K=[Ml,Wl],A=[];function S(v,B){return v[4]?0:1}return G=S(t),R=A[G]=K[G](t),{c(){e=o("div"),l=o("table"),s=o("thead"),a=o("tr"),r=o("th"),d=k(u),c=b();for(let v=0;v<F.length;v+=1)F[v].c();f=b(),p=o("tbody");for(let v=0;v<x.length;v+=1)x[v].c();g=b(),m=o("div"),y=o("div"),_=o("div"),h=o("div"),w=o("button"),j=b(),R.c(),i(r,"class","text-nowrap sticky-left px-3 bg-dark"),i(a,"class","sticky-top bg-dark"),i(l,"class","table table-sm align-middle mb-0"),i(e,"class","table-responsive max-h-500 border border-primary"),i(w,"type","button"),i(w,"class","btn-close float-end"),i(w,"data-bs-dismiss","modal"),i(w,"aria-label","Close"),i(h,"class","modal-body"),i(_,"class","modal-content"),i(y,"class","modal-dialog modal-dialog-centered"),i(m,"class","modal fade"),i(m,"id","playerInfo"),i(m,"tabindex","-1"),i(m,"aria-labelledby","playerInfoLabel"),i(m,"aria-hidden","true")},m(v,B){D(v,e,B),n(e,l),n(l,s),n(s,a),n(a,r),n(r,d),n(a,c);for(let H=0;H<F.length;H+=1)F[H].m(a,null);n(l,f),n(l,p);for(let H=0;H<x.length;H+=1)x[H].m(p,null);D(v,g,B),D(v,m,B),n(m,y),n(y,_),n(_,h),n(h,w),n(h,j),A[G].m(h,null),$=!0,E||(O=Me(w,"click",t[6]),E=!0)},p(v,B){if((!$||B&3)&&u!==(u=(v[1][v[0].guildId]||"--")+"")&&N(d,u),B&6){V=v[2];let C;for(C=0;C<V.length;C+=1){const W=Gt(v,V,C);F[C]?F[C].p(W,B):(F[C]=St(W),F[C].c(),F[C].m(a,null))}for(;C<F.length;C+=1)F[C].d(1);F.length=V.length}if(B&5){U=v[0].players;let C;for(C=0;C<U.length;C+=1){const W=$t(v,U,C);x[C]?(x[C].p(W,B),T(x[C],1)):(x[C]=Mt(W),x[C].c(),T(x[C],1),x[C].m(p,null))}for(me(),C=U.length;C<x.length;C+=1)L(C);_e()}let H=G;G=S(v),G===H?A[G].p(v,B):(me(),ee(A[H],1,1,()=>{A[H]=null}),_e(),R=A[G],R?R.p(v,B):(R=A[G]=K[G](v),R.c()),T(R,1),R.m(h,null))},i(v){if(!$){for(let B=0;B<U.length;B+=1)T(x[B]);T(R),$=!0}},o(v){x=x.filter(Boolean);for(let B=0;B<x.length;B+=1)ee(x[B]);ee(R),$=!1},d(v){v&&M(e),Ge(F,v),Ge(x,v),v&&M(g),v&&M(m),A[G].d(),E=!1,O()}}}function St(t){let e,l=(t[1][t[10].guildId]||"--")+"",s,a;return{c(){e=o("th"),s=k(l),a=b(),i(e,"class","px-3 bg-dark text-nowrap")},m(r,u){D(r,e,u),n(e,s),n(e,a)},p(r,u){u&6&&l!==(l=(r[1][r[10].guildId]||"--")+"")&&N(s,l)},d(r){r&&M(e)}}}function Wt(t){let e,l,s,a;return s=new xl({props:{players:t[10].players,champion:t[7]}}),{c(){e=o("td"),l=o("div"),pe(s.$$.fragment),i(l,"class","px-3")},m(r,u){D(r,e,u),n(e,l),de(s,l,null),a=!0},p(r,u){const d={};u&4&&(d.players=r[10].players),u&1&&(d.champion=r[7]),s.$set(d)},i(r){a||(T(s.$$.fragment,r),a=!0)},o(r){ee(s.$$.fragment,r),a=!1},d(r){r&&M(e),ce(s)}}}function Mt(t){let e,l,s,a,r=t[7].player+"",u,d,c,f,p=t[7].wins+"",g,m,y,_,h=t[7].losses+"",w,j,G,R,$=t[7].draws+"",E,O,V,F,U,x=t[2],L=[];for(let A=0;A<x.length;A+=1)L[A]=Wt(Ct(t,x,A));const K=A=>ee(L[A],1,1,()=>{L[A]=null});return{c(){e=o("tr"),l=o("td"),s=o("div"),a=o("span"),u=k(r),d=b(),c=o("span"),f=o("span"),g=k(p),m=k(" W"),y=b(),_=o("span"),w=k(h),j=k(" L"),G=b(),R=o("span"),E=k($),O=k(" D"),V=b();for(let A=0;A<L.length;A+=1)L[A].c();F=b(),i(a,"class","me-2"),i(f,"class","text-success ms-1"),i(_,"class","text-danger ms-1"),i(R,"class","text-warning ms-1"),i(c,"class","ms-auto text-muted badge"),i(s,"class","py-1 px-3 d-flex flex-wrap text-nowrap bg-dark"),i(l,"class","p-0 sticky-left")},m(A,S){D(A,e,S),n(e,l),n(l,s),n(s,a),n(a,u),n(s,d),n(s,c),n(c,f),n(f,g),n(f,m),n(c,y),n(c,_),n(_,w),n(_,j),n(c,G),n(c,R),n(R,E),n(R,O),n(e,V);for(let v=0;v<L.length;v+=1)L[v].m(e,null);n(e,F),U=!0},p(A,S){if((!U||S&1)&&r!==(r=A[7].player+"")&&N(u,r),(!U||S&1)&&p!==(p=A[7].wins+"")&&N(g,p),(!U||S&1)&&h!==(h=A[7].losses+"")&&N(w,h),(!U||S&1)&&$!==($=A[7].draws+"")&&N(E,$),S&5){x=A[2];let v;for(v=0;v<x.length;v+=1){const B=Ct(A,x,v);L[v]?(L[v].p(B,S),T(L[v],1)):(L[v]=Wt(B),L[v].c(),T(L[v],1),L[v].m(e,F))}for(me(),v=x.length;v<L.length;v+=1)K(v);_e()}},i(A){if(!U){for(let S=0;S<x.length;S+=1)T(L[S]);U=!0}},o(A){L=L.filter(Boolean);for(let S=0;S<L.length;S+=1)ee(L[S]);U=!1},d(A){A&&M(e),Ge(L,A)}}}function Wl(t){let e,l;return e=new nt({}),{c(){pe(e.$$.fragment)},m(s,a){de(e,s,a),l=!0},p:le,i(s){l||(T(e.$$.fragment,s),l=!0)},o(s){ee(e.$$.fragment,s),l=!1},d(s){ce(e,s)}}}function Ml(t){let e,l,s,a=t[4].name+"",r,u,d,c,f,p=t[4].collection_power+"",g,m,y,_,h,w,j,G,R,$,E,O,V=ke[t[4].league]+"",F,U,x,L,K,A=t[4].rating+"",S,v,B,H,C,W=Number(t[4].wins/t[4].battles*100).toFixed(2)+"",z,X,P,q,te,Y,Z,fe,ne,ae,I=ke[t[4].modern_league]+"",Q,ie,we,ye,st,Ie=t[4].modern_rating+"",Qe,at,Re,je,it,Ee=Number(t[4].modern_wins/t[4].modern_battles*100).toFixed(2)+"",Ye,rt,Xe,De,$e,ot,Oe,re=t[4].title_post&&Dt(t),oe=t[4].champion_points&&Bt(t);return{c(){e=o("p"),l=o("span"),l.textContent="Name:",s=b(),r=k(a),u=b(),d=o("p"),c=o("span"),c.textContent="Collection power:",f=b(),g=k(p),m=b(),re&&re.c(),y=b(),oe&&oe.c(),_=b(),h=o("div"),w=o("div"),j=o("div"),j.textContent="Wild",G=b(),R=o("div"),$=o("div"),E=o("span"),E.textContent="League:",O=b(),F=k(V),U=b(),x=o("div"),L=o("span"),L.textContent="Rating:",K=b(),S=k(A),v=b(),B=o("div"),H=o("span"),H.textContent="Win rate:",C=b(),z=k(W),X=k("%"),P=b(),q=o("div"),te=o("div"),te.textContent="Modern",Y=b(),Z=o("div"),fe=o("div"),ne=o("span"),ne.textContent="League:",ae=b(),Q=k(I),ie=b(),we=o("div"),ye=o("span"),ye.textContent="Rating:",st=b(),Qe=k(Ie),at=b(),Re=o("div"),je=o("span"),je.textContent="Win rate:",it=b(),Ye=k(Ee),rt=k("%"),Xe=b(),De=o("div"),$e=o("a"),ot=k("View collections on splinterlands.com"),i(l,"class","text-muted me-2"),i(c,"class","text-muted me-2"),i(j,"class","card-header"),i(E,"class","text-muted me-2"),i($,"class","list-group-item"),i(L,"class","text-muted me-2"),i(x,"class","list-group-item"),i(H,"class","text-muted me-2"),i(B,"class","list-group-item"),i(R,"class","list-group list-group-flush"),i(w,"class","card flex-fill"),i(te,"class","card-header"),i(ne,"class","text-muted me-2"),i(fe,"class","list-group-item"),i(ye,"class","text-muted me-2"),i(we,"class","list-group-item"),i(je,"class","text-muted me-2"),i(Re,"class","list-group-item"),i(Z,"class","list-group list-group-flush"),i(q,"class","card flex-fill"),i(h,"class","d-md-flex"),i($e,"class","text-info text-decoration-none"),i($e,"href",Oe="https://splinterlands.com/?p=collection&a="+t[4].name),i($e,"target","blank"),i(De,"class","mt-3")},m(J,se){D(J,e,se),n(e,l),n(e,s),n(e,r),D(J,u,se),D(J,d,se),n(d,c),n(d,f),n(d,g),D(J,m,se),re&&re.m(J,se),D(J,y,se),oe&&oe.m(J,se),D(J,_,se),D(J,h,se),n(h,w),n(w,j),n(w,G),n(w,R),n(R,$),n($,E),n($,O),n($,F),n(R,U),n(R,x),n(x,L),n(x,K),n(x,S),n(R,v),n(R,B),n(B,H),n(B,C),n(B,z),n(B,X),n(h,P),n(h,q),n(q,te),n(q,Y),n(q,Z),n(Z,fe),n(fe,ne),n(fe,ae),n(fe,Q),n(Z,ie),n(Z,we),n(we,ye),n(we,st),n(we,Qe),n(Z,at),n(Z,Re),n(Re,je),n(Re,it),n(Re,Ye),n(Re,rt),D(J,Xe,se),D(J,De,se),n(De,$e),n($e,ot)},p(J,se){se&16&&a!==(a=J[4].name+"")&&N(r,a),se&16&&p!==(p=J[4].collection_power+"")&&N(g,p),J[4].title_post?re?re.p(J,se):(re=Dt(J),re.c(),re.m(y.parentNode,y)):re&&(re.d(1),re=null),J[4].champion_points?oe?oe.p(J,se):(oe=Bt(J),oe.c(),oe.m(_.parentNode,_)):oe&&(oe.d(1),oe=null),se&16&&V!==(V=ke[J[4].league]+"")&&N(F,V),se&16&&A!==(A=J[4].rating+"")&&N(S,A),se&16&&W!==(W=Number(J[4].wins/J[4].battles*100).toFixed(2)+"")&&N(z,W),se&16&&I!==(I=ke[J[4].modern_league]+"")&&N(Q,I),se&16&&Ie!==(Ie=J[4].modern_rating+"")&&N(Qe,Ie),se&16&&Ee!==(Ee=Number(J[4].modern_wins/J[4].modern_battles*100).toFixed(2)+"")&&N(Ye,Ee),se&16&&Oe!==(Oe="https://splinterlands.com/?p=collection&a="+J[4].name)&&i($e,"href",Oe)},i:le,o:le,d(J){J&&M(e),J&&M(u),J&&M(d),J&&M(m),re&&re.d(J),J&&M(y),oe&&oe.d(J),J&&M(_),J&&M(h),J&&M(Xe),J&&M(De)}}}function Dt(t){let e,l,s,a=t[4].title_post+"",r;return{c(){e=o("p"),l=o("span"),l.textContent="title:",s=b(),r=k(a),i(l,"class","text-muted me-2")},m(u,d){D(u,e,d),n(e,l),n(e,s),n(e,r)},p(u,d){d&16&&a!==(a=u[4].title_post+"")&&N(r,a)},d(u){u&&M(e)}}}function Bt(t){let e,l,s,a=t[4].champion_points+"",r;return{c(){e=o("p"),l=o("span"),l.textContent="Champion points:",s=b(),r=k(a),i(l,"class","text-muted me-2")},m(u,d){D(u,e,d),n(e,l),n(e,s),n(e,r)},p(u,d){d&16&&a!==(a=u[4].champion_points+"")&&N(r,a)},d(u){u&&M(e)}}}function Dl(t){let e,l,s,a,r=Ve[t[5].tournament_status]+"",u,d,c,f,p,g,m,y=t[3]&&At(),_=t[0]&&t[5]&&!t[3]&&xt(t);return{c(){e=o("div"),l=o("div"),s=o("strong"),s.textContent="Current Brawl",a=k(" : "),u=k(r),d=b(),c=o("button"),c.innerHTML='<span aria-hidden="true" class="dropdown-toggle"></span>',f=b(),p=o("div"),y&&y.c(),g=b(),_&&_.c(),i(c,"class","btn btn-sm btn-primary ms-auto"),i(c,"type","button"),i(c,"data-bs-toggle","collapse"),i(c,"data-bs-target","#guild-brawl-latest"),i(c,"aria-expanded","true"),i(c,"aria-controls","guild-brawl-result"),i(e,"class","accordion-header d-flex align-items-center py-2 px-3"),i(p,"id","guild-brawl-latest"),i(p,"class","accordion-collapse collapse show")},m(h,w){D(h,e,w),n(e,l),n(l,s),n(l,a),n(l,u),n(e,d),n(e,c),D(h,f,w),D(h,p,w),y&&y.m(p,null),n(p,g),_&&_.m(p,null),m=!0},p(h,[w]){(!m||w&32)&&r!==(r=Ve[h[5].tournament_status]+"")&&N(u,r),h[3]?y?w&8&&T(y,1):(y=At(),y.c(),T(y,1),y.m(p,g)):y&&(me(),ee(y,1,1,()=>{y=null}),_e()),h[0]&&h[5]&&!h[3]?_?(_.p(h,w),w&41&&T(_,1)):(_=xt(h),_.c(),T(_,1),_.m(p,null)):_&&(me(),ee(_,1,1,()=>{_=null}),_e())},i(h){m||(T(y),T(_),m=!0)},o(h){ee(y),ee(_),m=!1},d(h){h&&M(e),h&&M(f),h&&M(p),y&&y.d(),_&&_.d()}}}function Bl(t,e,l){let s,a;ue(t,Je,p=>l(4,s=p)),ue(t,Ae,p=>l(5,a=p));let r=null,u={},d=[],c=!1;return Ot(async()=>{l(3,c=!0);const p=JSON.parse(a.tournament_data);for await(let g of p.guilds){const m=await Ht({tournament_id:a.tournament_id,id:g});g===a.id?l(0,r={guildId:g,...m}):l(2,d=[...d,{guildId:g,players:m.players}])}r.guilds.forEach(g=>{l(1,u[g.id]=g.name,u)}),l(3,c=!1)}),[r,u,d,c,s,a,()=>be(Je,s=null,s)]}class Ll extends ve{constructor(e){super(),he(this,e,Bl,Dl,ge,{})}}function Lt(t){let e,l,s,a=t[0].name+"",r,u,d,c,f,p,g,m,y,_,h,w=t[0].rank+"",j,G,R,$,E=t[0].rating+"",O,V,F,U,x,L,K,A,S,v,B,H,C,W,z,X,P,q,te;p=new Tt({props:{data:t[0].data,size:"large"}}),U=new dl({props:{buildings:t[0].buildings}});let Y=t[0].description&&Nt(t),Z=t[1]&&t[1].length&&Ft(t);B=new vl({});const fe=[Ul,Fl,Nl],ne=[];function ae(I,Q){return I[0].tournament_status?0:I[0].tournament_status===0?1:2}return z=ae(t),X=ne[z]=fe[z](t),{c(){e=o("div"),l=o("div"),s=o("h2"),r=k(a),u=b(),d=o("button"),d.innerHTML='<span aria-hidden="true">\xD7</span>',c=b(),f=o("div"),pe(p.$$.fragment),g=b(),m=o("div"),y=o("div"),_=o("span"),h=k("Rank: "),j=k(w),G=b(),R=o("span"),$=k("Rating: "),O=k(E),V=b(),F=o("div"),pe(U.$$.fragment),x=b(),Y&&Y.c(),L=b(),K=o("div"),Z&&Z.c(),A=b(),S=o("div"),v=o("div"),pe(B.$$.fragment),H=b(),C=o("div"),W=o("div"),X.c(),i(s,"class","h5"),i(d,"class","btn btn-sm btn-primary py-0 ms-auto close"),i(d,"aria-label","close"),i(l,"class","d-flex bg-dark py-2 px-3"),i(_,"class","me-2"),i(y,"class","mb-2"),i(F,"class","mb-2"),i(m,"class","px-3"),i(f,"class","d-flex mb-4 p-3 bg-black rounded"),i(K,"class","accordion mb-3"),i(v,"class","accordion-item"),i(S,"class","accordion mb-3"),i(W,"class","accordion-item"),i(C,"class","accordion mb-3"),i(e,"class","mb-5")},m(I,Q){D(I,e,Q),n(e,l),n(l,s),n(s,r),n(l,u),n(l,d),n(e,c),n(e,f),de(p,f,null),n(f,g),n(f,m),n(m,y),n(y,_),n(_,h),n(_,j),n(y,G),n(y,R),n(R,$),n(R,O),n(m,V),n(m,F),de(U,F,null),n(m,x),Y&&Y.m(m,null),n(e,L),n(e,K),Z&&Z.m(K,null),n(e,A),n(e,S),n(S,v),de(B,v,null),n(e,H),n(e,C),n(C,W),ne[z].m(W,null),P=!0,q||(te=Me(d,"click",t[2]),q=!0)},p(I,Q){(!P||Q&1)&&a!==(a=I[0].name+"")&&N(r,a);const ie={};Q&1&&(ie.data=I[0].data),p.$set(ie),(!P||Q&1)&&w!==(w=I[0].rank+"")&&N(j,w),(!P||Q&1)&&E!==(E=I[0].rating+"")&&N(O,E);const we={};Q&1&&(we.buildings=I[0].buildings),U.$set(we),I[0].description?Y?Y.p(I,Q):(Y=Nt(I),Y.c(),Y.m(m,null)):Y&&(Y.d(1),Y=null),I[1]&&I[1].length?Z?(Z.p(I,Q),Q&2&&T(Z,1)):(Z=Ft(I),Z.c(),T(Z,1),Z.m(K,null)):Z&&(me(),ee(Z,1,1,()=>{Z=null}),_e());let ye=z;z=ae(I),z===ye?ne[z].p(I,Q):(me(),ee(ne[ye],1,1,()=>{ne[ye]=null}),_e(),X=ne[z],X?X.p(I,Q):(X=ne[z]=fe[z](I),X.c()),T(X,1),X.m(W,null))},i(I){P||(T(p.$$.fragment,I),T(U.$$.fragment,I),T(Z),T(B.$$.fragment,I),T(X),P=!0)},o(I){ee(p.$$.fragment,I),ee(U.$$.fragment,I),ee(Z),ee(B.$$.fragment,I),ee(X),P=!1},d(I){I&&M(e),ce(p),ce(U),Y&&Y.d(),Z&&Z.d(),ce(B),ne[z].d(),q=!1,te()}}}function Nt(t){let e,l=t[0].description+"",s;return{c(){e=o("div"),s=k(l),i(e,"class","small")},m(a,r){D(a,e,r),n(e,s)},p(a,r){r&1&&l!==(l=a[0].description+"")&&N(s,l)},d(a){a&&M(e)}}}function Ft(t){let e,l,s,a,r,u=t[0].num_members+"",d,c,f,p,g,m,y;return m=new rl({}),{c(){e=o("div"),l=o("div"),s=o("span"),s.textContent="Members",a=b(),r=o("span"),d=k(u),c=b(),f=o("button"),f.innerHTML='<span aria-hidden="true" class="dropdown-toggle"></span>',p=b(),g=o("div"),pe(m.$$.fragment),i(s,"class","h5"),i(r,"class","mx-3 badge bg-primary"),i(f,"class","btn btn-sm btn-primary ms-auto"),i(f,"type","button"),i(f,"data-bs-toggle","collapse"),i(f,"data-bs-target","#guild-members"),i(f,"aria-expanded","true"),i(f,"aria-controls","guild-members"),i(l,"class","accordion-header d-flex align-items-center py-2 px-3"),i(g,"id","guild-members"),i(g,"class","accordion-collapse collapse show"),i(e,"class","accordion-item")},m(_,h){D(_,e,h),n(e,l),n(l,s),n(l,a),n(l,r),n(r,d),n(l,c),n(l,f),n(e,p),n(e,g),de(m,g,null),y=!0},p(_,h){(!y||h&1)&&u!==(u=_[0].num_members+"")&&N(d,u)},i(_){y||(T(m.$$.fragment,_),y=!0)},o(_){ee(m.$$.fragment,_),y=!1},d(_){_&&M(e),ce(m)}}}function Nl(t){let e;return{c(){e=o("div"),e.textContent="No participation",i(e,"class","h1 text-center")},m(l,s){D(l,e,s)},p:le,i:le,o:le,d(l){l&&M(e)}}}function Fl(t){let e,l=Ve[t[0].tournament_status]+"",s;return{c(){e=o("div"),s=k(l),i(e,"class","h1 text-center")},m(a,r){D(a,e,r),n(e,s)},p(a,r){r&1&&l!==(l=Ve[a[0].tournament_status]+"")&&N(s,l)},i:le,o:le,d(a){a&&M(e)}}}function Ul(t){let e,l;return e=new Ll({}),{c(){pe(e.$$.fragment)},m(s,a){de(e,s,a),l=!0},p:le,i(s){l||(T(e.$$.fragment,s),l=!0)},o(s){ee(e.$$.fragment,s),l=!1},d(s){ce(e,s)}}}function zl(t){let e,l,s=t[0]&&Lt(t);return{c(){s&&s.c(),e=Qt()},m(a,r){s&&s.m(a,r),D(a,e,r),l=!0},p(a,[r]){a[0]?s?(s.p(a,r),r&1&&T(s,1)):(s=Lt(a),s.c(),T(s,1),s.m(e.parentNode,e)):s&&(me(),ee(s,1,1,()=>{s=null}),_e())},i(a){l||(T(s),l=!0)},o(a){ee(s),l=!1},d(a){s&&s.d(a),a&&M(e)}}}function Il(t,e,l){let s,a;return ue(t,Ae,u=>l(0,s=u)),ue(t,Fe,u=>l(1,a=u)),[s,a,()=>{be(Fe,a=[],a),be(Ae,s=null,s)}]}class jl extends ve{constructor(e){super(),he(this,e,Il,zl,ge,{})}}function Ut(t,e,l){const s=t.slice();return s[9]=e[l],s}function zt(t){let e,l,s,a=t[9].rank+"",r,u,d,c,f,p,g=t[9].name+"",m,y,_,h=t[9].owner+"",w,j,G,R=t[9].level+"",$,E,O,V=t[9].rating+"",F,U,x,L=t[9].num_members+"",K,A,S,v,B;c=new Tt({props:{data:t[9].data}});function H(){return t[5](t[9])}return{c(){e=o("tr"),l=o("td"),s=o("span"),r=k(a),u=b(),d=o("td"),pe(c.$$.fragment),f=b(),p=o("td"),m=k(g),y=b(),_=o("div"),w=k(h),j=b(),G=o("td"),$=k(R),E=b(),O=o("td"),F=k(V),U=b(),x=o("td"),K=k(L),A=b(),i(s,"class","badge bg-primary"),i(l,"class","text-center"),i(d,"class","sticky-left text-center"),i(_,"class","small text-muted"),i(G,"class","text-center"),i(O,"class","text-center"),i(x,"class","text-center"),i(e,"class","pointer"),We(e,"d-none",!String(t[9].name).trim().toLowerCase().includes(t[0].trim().toLowerCase()))},m(C,W){D(C,e,W),n(e,l),n(l,s),n(s,r),n(e,u),n(e,d),de(c,d,null),n(e,f),n(e,p),n(p,m),n(p,y),n(p,_),n(_,w),n(e,j),n(e,G),n(G,$),n(e,E),n(e,O),n(O,F),n(e,U),n(e,x),n(x,K),n(e,A),S=!0,v||(B=Me(e,"click",H),v=!0)},p(C,W){t=C,(!S||W&4)&&a!==(a=t[9].rank+"")&&N(r,a);const z={};W&4&&(z.data=t[9].data),c.$set(z),(!S||W&4)&&g!==(g=t[9].name+"")&&N(m,g),(!S||W&4)&&h!==(h=t[9].owner+"")&&N(w,h),(!S||W&4)&&R!==(R=t[9].level+"")&&N($,R),(!S||W&4)&&V!==(V=t[9].rating+"")&&N(F,V),(!S||W&4)&&L!==(L=t[9].num_members+"")&&N(K,L),W&5&&We(e,"d-none",!String(t[9].name).trim().toLowerCase().includes(t[0].trim().toLowerCase()))},i(C){S||(T(c.$$.fragment,C),S=!0)},o(C){ee(c.$$.fragment,C),S=!1},d(C){C&&M(e),ce(c),v=!1,B()}}}function El(t){let e,l,s,a,r,u,d,c,f,p,g,m,y,_,h=t[2],w=[];for(let G=0;G<h.length;G+=1)w[G]=zt(Ut(t,h,G));const j=G=>ee(w[G],1,1,()=>{w[G]=null});return{c(){e=o("div"),l=o("div"),s=o("h1"),s.textContent="Splinterlands Guilds",a=b(),r=o("input"),u=b(),d=o("div"),c=o("table"),f=o("thead"),f.innerHTML=`<tr><th class="text-center svelte-1oulo3m">Rank</th> 
          <th class="sticky-left bg-primary text-center svelte-1oulo3m">Guilds</th> 
          <th class="svelte-1oulo3m"></th> 
          <th class="text-center svelte-1oulo3m">Level</th> 
          <th class="text-center svelte-1oulo3m">Rating</th> 
          
          <th class="text-center svelte-1oulo3m">Members</th></tr>`,p=b(),g=o("tbody");for(let G=0;G<w.length;G+=1)w[G].c();i(s,"class","h4 mb-0"),i(r,"class","form-control-sm"),i(r,"type","text"),i(r,"placeholder","Search"),i(l,"class","d-flex justify-content-between align-items-end mb-2"),i(f,"class","sticky-top bg-primary"),i(c,"class","table table-hover align-middle mb-0 svelte-1oulo3m"),i(d,"class","table-responsive max-h-500"),i(e,"class","mb-5 svelte-1oulo3m"),We(e,"disabled",t[1])},m(G,R){D(G,e,R),n(e,l),n(l,s),n(l,a),n(l,r),dt(r,t[0]),n(e,u),n(e,d),n(d,c),n(c,f),n(c,p),n(c,g);for(let $=0;$<w.length;$+=1)w[$].m(g,null);m=!0,y||(_=Me(r,"input",t[4]),y=!0)},p(G,[R]){if(R&1&&r.value!==G[0]&&dt(r,G[0]),R&13){h=G[2];let $;for($=0;$<h.length;$+=1){const E=Ut(G,h,$);w[$]?(w[$].p(E,R),T(w[$],1)):(w[$]=zt(E),w[$].c(),T(w[$],1),w[$].m(g,null))}for(me(),$=h.length;$<w.length;$+=1)j($);_e()}R&2&&We(e,"disabled",G[1])},i(G){if(!m){for(let R=0;R<h.length;R+=1)T(w[R]);m=!0}},o(G){w=w.filter(Boolean);for(let R=0;R<w.length;R+=1)ee(w[R]);m=!1},d(G){G&&M(e),Ge(w,G),y=!1,_()}}}function Ol(t,e,l){let s,a,r,u;ue(t,Se,m=>l(1,s=m)),ue(t,Ae,m=>l(6,a=m)),ue(t,Fe,m=>l(7,r=m)),ue(t,pt,m=>l(2,u=m));let d="";const c=m=>{const y=new URL(window.location.href),_=y.searchParams;_.set("guild",m),y.search=_.toString(),window.history.pushState("","",y.search)};Ot(async()=>{be(Se,s=!0,s);const m=await pl();pt.set(m);const _=new URLSearchParams(window.location.search).get("guild");_&&(await f(_),c(_)),be(Se,s=!1,s)});const f=async m=>{be(Se,s=!0,s),be(Ae,a=await ml(m),a),be(Fe,r=await _l(m),r),l(0,d=a.name),c(m),be(Se,s=!1,s)};function p(){d=this.value,l(0,d)}return[d,s,u,f,p,m=>f(m.id)]}class Pl extends ve{constructor(e){super(),he(this,e,Ol,El,ge,{})}}function It(t){let e,l;return e=new jl({}),{c(){pe(e.$$.fragment)},m(s,a){de(e,s,a),l=!0},i(s){l||(T(e.$$.fragment,s),l=!0)},o(s){ee(e.$$.fragment,s),l=!1},d(s){ce(e,s)}}}function jt(t){let e,l,s;return l=new nt({}),{c(){e=o("div"),pe(l.$$.fragment),i(e,"class","text-center my-5")},m(a,r){D(a,e,r),de(l,e,null),s=!0},i(a){s||(T(l.$$.fragment,a),s=!0)},o(a){ee(l.$$.fragment,a),s=!1},d(a){a&&M(e),ce(l)}}}function ql(t){let e,l,s,a,r,u,d,c,f,p,g,m,y;s=new Pl({});let _=t[0]&&!t[1]&&It(),h=t[1]&&jt();return{c(){e=o("main"),l=o("div"),pe(s.$$.fragment),a=b(),_&&_.c(),r=b(),h&&h.c(),u=b(),d=o("footer"),c=o("div"),f=k(`IGN:\r
        `),p=o("span"),p.textContent="NEVERMELTICE",i(p,"role","button"),i(p,"class","badge bg-primary text-secondary"),i(p,"title","click to copy"),i(c,"class","text-end text-muted my-5"),i(l,"class","container"),i(e,"class","bg-dar pt-3 text-body")},m(w,j){D(w,e,j),n(e,l),de(s,l,null),n(l,a),_&&_.m(l,null),n(l,r),h&&h.m(l,null),n(l,u),n(l,d),n(d,c),n(c,f),n(c,p),g=!0,m||(y=Me(p,"click",Tl),m=!0)},p(w,[j]){w[0]&&!w[1]?_?j&3&&T(_,1):(_=It(),_.c(),T(_,1),_.m(l,r)):_&&(me(),ee(_,1,1,()=>{_=null}),_e()),w[1]?h?j&2&&T(h,1):(h=jt(),h.c(),T(h,1),h.m(l,u)):h&&(me(),ee(h,1,1,()=>{h=null}),_e())},i(w){g||(T(s.$$.fragment,w),T(_),T(h),g=!0)},o(w){ee(s.$$.fragment,w),ee(_),ee(h),g=!1},d(w){w&&M(e),ce(s),_&&_.d(),h&&h.d(),m=!1,y()}}}function Tl(){navigator.clipboard.writeText("nevermeltice"),alert("Copied!")}function Hl(t,e,l){let s,a;return ue(t,Ae,r=>l(0,s=r)),ue(t,Se,r=>l(1,a=r)),[s,a]}class Jl extends ve{constructor(e){super(),he(this,e,Hl,ql,ge,{})}}new Jl({target:document.getElementById("app")});
