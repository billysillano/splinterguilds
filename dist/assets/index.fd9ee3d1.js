(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();function fe(){}function il(l){return l()}function wt(){return Object.create(null)}function Je(l){l.forEach(il)}function fl(l){return typeof l=="function"}function We(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let lt;function Ee(l,e){return lt||(lt=document.createElement("a")),lt.href=e,l===lt.href}function pl(l){return Object.keys(l).length===0}function ml(l,...e){if(l==null)return fe;const s=l.subscribe(...e);return s.unsubscribe?()=>s.unsubscribe():s}function Re(l,e,s){l.$$.on_destroy.push(ml(e,s))}function De(l,e,s){return l.set(s),e}function t(l,e){l.appendChild(e)}function I(l,e,s){l.insertBefore(e,s||null)}function F(l){l.parentNode.removeChild(l)}function Ue(l,e){for(let s=0;s<l.length;s+=1)l[s]&&l[s].d(e)}function r(l){return document.createElement(l)}function _l(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function y(l){return document.createTextNode(l)}function _(){return y(" ")}function pt(){return y("")}function je(l,e,s,n){return l.addEventListener(e,s,n),()=>l.removeEventListener(e,s,n)}function a(l,e,s){s==null?l.removeAttribute(e):l.getAttribute(e)!==s&&l.setAttribute(e,s)}function it(l){return l===""?null:+l}function bl(l){return Array.from(l.childNodes)}function G(l,e){e=""+e,l.wholeText!==e&&(l.data=e)}function He(l,e){l.value=e==null?"":e}function gl(l,e,s,n){s===null?l.style.removeProperty(e):l.style.setProperty(e,s,n?"important":"")}function Ke(l,e,s){l.classList[s?"add":"remove"](e)}class rl{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,s,n=null){this.e||(this.is_svg?this.e=_l(s.nodeName):this.e=r(s.nodeName),this.t=s,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let s=0;s<this.n.length;s+=1)I(this.t,this.n[s],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(F)}}let Ze;function Ye(l){Ze=l}function hl(){if(!Ze)throw new Error("Function called outside component initialization");return Ze}function tt(l){hl().$$.on_mount.push(l)}const Qe=[],yt=[],nt=[],$t=[],vl=Promise.resolve();let ct=!1;function wl(){ct||(ct=!0,vl.then(ol))}function ut(l){nt.push(l)}const dt=new Set;let st=0;function ol(){const l=Ze;do{for(;st<Qe.length;){const e=Qe[st];st++,Ye(e),yl(e.$$)}for(Ye(null),Qe.length=0,st=0;yt.length;)yt.pop()();for(let e=0;e<nt.length;e+=1){const s=nt[e];dt.has(s)||(dt.add(s),s())}nt.length=0}while(Qe.length);for(;$t.length;)$t.pop()();ct=!1,dt.clear(),Ye(l)}function yl(l){if(l.fragment!==null){l.update(),Je(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(ut)}}const at=new Set;let ze;function Le(){ze={r:0,c:[],p:ze}}function Fe(){ze.r||Je(ze.c),ze=ze.p}function Z(l,e){l&&l.i&&(at.delete(l),l.i(e))}function oe(l,e,s,n){if(l&&l.o){if(at.has(l))return;at.add(l),ze.c.push(()=>{at.delete(l),n&&(s&&l.d(1),n())}),l.o(e)}else n&&n()}function xe(l){l&&l.c()}function ye(l,e,s,n){const{fragment:i,on_mount:o,on_destroy:d,after_update:c}=l.$$;i&&i.m(e,s),n||ut(()=>{const u=o.map(il).filter(fl);d?d.push(...u):Je(u),l.$$.on_mount=[]}),c.forEach(ut)}function $e(l,e){const s=l.$$;s.fragment!==null&&(Je(s.on_destroy),s.fragment&&s.fragment.d(e),s.on_destroy=s.fragment=null,s.ctx=[])}function $l(l,e){l.$$.dirty[0]===-1&&(Qe.push(l),wl(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function Ne(l,e,s,n,i,o,d,c=[-1]){const u=Ze;Ye(l);const f=l.$$={fragment:null,ctx:null,props:o,update:fe,not_equal:i,bound:wt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:wt(),dirty:c,skip_bound:!1,root:e.target||u.$$.root};d&&d(f.root);let p=!1;if(f.ctx=s?s(l,e.props||{},(b,g,...v)=>{const m=v.length?v[0]:g;return f.ctx&&i(f.ctx[b],f.ctx[b]=m)&&(!f.skip_bound&&f.bound[b]&&f.bound[b](m),p&&$l(l,b)),g}):[],f.update(),p=!0,Je(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const b=bl(e.target);f.fragment&&f.fragment.l(b),b.forEach(F)}else f.fragment&&f.fragment.c();e.intro&&Z(l.$$.fragment),ye(l,e.target,e.anchor,e.customElement),ol()}Ye(u)}class Me{$destroy(){$e(this,1),this.$destroy=fe}$on(e,s){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(s),()=>{const i=n.indexOf(s);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!pl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const qe=[];function Ve(l,e=fe){let s;const n=new Set;function i(c){if(We(l,c)&&(l=c,s)){const u=!qe.length;for(const f of n)f[1](),qe.push(f,l);if(u){for(let f=0;f<qe.length;f+=2)qe[f][0](qe[f+1]);qe.length=0}}}function o(c){i(c(l))}function d(c,u=fe){const f=[c,u];return n.add(f),n.size===1&&(s=e(i)||fe),c(l),()=>{n.delete(f),n.size===0&&(s(),s=null)}}return{set:i,update:o,subscribe:d}}const kt=Ve([]),Pe=Ve(null),et=Ve([]),Te=Ve(!1),rt=Ve(null),Xe=Ve(""),mt="https://api2.splinterlands.com",_t="https://game-api.splinterlands.io",Ct="https://d36mxiodymuqjm.cloudfront.net/website",Oe={0:"Novice",1:"Bronze 3",2:"Bronze 2",3:"Bronze 1",4:"Silver 3",5:"Silver 2",6:"Silver 1",7:"Gold 3",8:"Gold 2",9:"Gold 1",10:"Diamond 3",11:"Diamond 2",12:"Diamond 1",13:"Champion 3",14:"Champion 2",15:"Champion 1"},ot=["Preparation Stage","Battle Stage","Result Stage"],bt={1:{tier:1},2:{tier:1},3:{tier:2},4:{tier:2},5:{tier:3},6:{tier:3},7:{tier:4},8:{tier:4},9:{tier:5},10:{tier:5}},dl={1:["1 All Novice","2	All Novice","3	Chaos + RW Novice","4	U+D+C+RW Novice","5	All Bronze","6	All Bronze","7	Chaos + RW Bronze","8	All Silver","9	All Silver","10	Chaos + RW Silver","11	All	Gold Foil	Bronze","12	Chaos + RW	Gold Foil	Bronze","13	U+D+C+RW	Gold Foil	Bronze"],2:["1 All Novice","2	Chaos + RW Novice","3	All Bronze","4	All Bronze","5	Chaos + RW Bronze","6	A+B+P+R Bronze","7	All Silver","8	All Silver","9	Chaos + RW Silver","10	U+D+C+RW Silver","11	All","12	U+D+C+RW","13	All	Gold Foil	Bronze","14	U+D+C+RW Gold Foil	Bronze","15	All	Gold Foil	Silver","16	U+D+C+RW Gold Foil	Silver"],3:["1	All Bronze","2	U+D+C+RW Bronze","3	All Silver","4	All Silver","5	U+D+C+RW Silver","6	A+B+P+R Silver","7	All","8	All","9	All","10	U+D+C+RW","11	Alpha Beta Promo Reward","12	All Max","13	U+D+C+RW Max","14	All	Gold Foil	Bronze","15	All	Gold Foil	Silver","16	U+D+C+RW	Gold Foil	Silver","17	All	Gold Foil	Gold","18	U+D+C+RW	Gold Foil	Gold"],4:["1	All Silver","2	All Silver","3	U+D+C+RW Silver","4	U+D+C+RW Silver","5	All","6	All","7	All","8	U+D+C+RW","9	U+D+C+RW","10	Alpha","11	All Max","12	All Max","13	U+D+C+RW Max","14	U+D+C+RW Max","15	Alpha Beta Promo Reward Max","16	All	Gold Foil	Bronze","17	All	Gold Foil	Silver","18	U+D+C+RW	Gold Foil	Silver","19	All	Gold Foil	Gold","20	U+D+C+RW	Gold Foil	Gold","21	All	Gold Foil	Max"],5:["1	All Silver","2	U+D+C+RW Silver","3	All","4	All","5	All","6	U+D+C+RW","7	U+D+C+RW","8	U+D+C+RW","9	All Max","10	All Max","11	All Max","12	All Max","13	All Max","14	U+D+C+RW Max","15	U+D+C+RW Max","16	U+D+C+RW Max","17	Alpha Max","18	Alpha Beta Promo Reward Max","19	All	Gold Foil	Silver","20	U+D+C+RW	Gold Foil	Silver","21	All	Gold Foil	Gold","22	U+D+C+RW	Gold Foil	Gold","23	Alpha Beta Promo Reward	Gold Foil	Gold","24	All	Gold Foil	Max","25	U+D+C+RW	Gold Foil	Max"]},he=function(l){return Intl.NumberFormat("en",{notation:"compact"}).format(Number(l))},ft=(l,e)=>{const s=new URL(window.location.href),n=s.searchParams;n.set(l,e),s.search=n.toString(),window.history.pushState("","",s.search)};function xt(l,e,s){const n=l.slice();return n[1]=e[s],n}function At(l){let e,s,n,i=he(l[1].dec)+"",o;return{c(){e=r("img"),n=_(),o=y(i),a(e,"width","25px"),Ee(e.src,s="https://d36mxiodymuqjm.cloudfront.net/website/guilds/img_dec.png")||a(e,"src",s),a(e,"alt","DEC")},m(d,c){I(d,e,c),I(d,n,c),I(d,o,c)},p(d,c){c&1&&i!==(i=he(d[1].dec)+"")&&G(o,i)},d(d){d&&F(e),d&&F(n),d&&F(o)}}}function St(l){let e,s,n,i=he(l[1].quest_lodge)+"",o;return{c(){e=r("img"),n=_(),o=y(i),a(e,"width","25px"),a(e,"class","ms-2"),Ee(e.src,s="https://d36mxiodymuqjm.cloudfront.net/website/guilds/img_quest_150.png")||a(e,"src",s),a(e,"alt","Quest")},m(d,c){I(d,e,c),I(d,n,c),I(d,o,c)},p(d,c){c&1&&i!==(i=he(d[1].quest_lodge)+"")&&G(o,i)},d(d){d&&F(e),d&&F(n),d&&F(o)}}}function Rt(l){let e,s,n,i=he(l[1].crowns)+"",o;return{c(){e=r("img"),n=_(),o=y(i),a(e,"width","25px"),a(e,"class","ms-2"),Ee(e.src,s="https://d36mxiodymuqjm.cloudfront.net/website/guilds/img_guild_crown_75.png")||a(e,"src",s),a(e,"alt","Crowns")},m(d,c){I(d,e,c),I(d,n,c),I(d,o,c)},p(d,c){c&1&&i!==(i=he(d[1].crowns)+"")&&G(o,i)},d(d){d&&F(e),d&&F(n),d&&F(o)}}}function Gt(l){let e,s,n,i,o=l[1].player+"",d,c,u,f,p,b=l[1].join_date+"",g,v,m,w,$=he(l[1].collection_power)+"",S,k,A,x,T,M=Oe[l[1].modern_league]+"",E,K,V,z=l[1].modern_rating+"",P,W,B,D,Y,L=Oe[l[1].league]+"",C,q,h,N=l[1].rating+"",U,R,j,J,O,re,Q,se=l[1].dec&&At(l),ae=l[1].quest_lodge&&St(l),ue=l[1].crowns&&Rt(l);return{c(){e=r("tr"),s=r("td"),n=r("div"),i=r("a"),d=y(o),u=_(),f=r("div"),p=y("joined: "),g=y(b),v=_(),m=r("td"),w=r("div"),S=y($),k=_(),A=r("td"),x=r("div"),T=r("div"),E=y(M),K=_(),V=r("div"),P=y(z),W=_(),B=r("td"),D=r("div"),Y=r("div"),C=y(L),q=_(),h=r("div"),U=y(N),R=_(),j=r("td"),J=r("div"),se&&se.c(),O=_(),ae&&ae.c(),re=_(),ue&&ue.c(),Q=_(),a(i,"class","text-decoration-none text-info"),a(i,"href",c="https://splinterlands.com/?p=collection&a="+l[1].player),a(i,"target","blank"),a(i,"title","view collections on splinterlands.com"),a(f,"class","text-muted"),a(n,"class","py-1 px-3 bg-dark"),a(s,"class","p-0"),a(w,"class","px-3 font-monospace text-center "),a(T,"class","text-muted"),a(T,"title","rating"),a(V,"class","me-2"),a(x,"class","px-3 font-monospace text-center"),a(Y,"class","text-muted"),a(Y,"title","rating"),a(h,"class",""),a(h,"title","league"),a(D,"class","px-3 font-monospace text-center"),a(J,"class","px-3 font-monospace me-3 me-2 text-nowrap"),a(e,"class","bg-dark")},m(de,ee){I(de,e,ee),t(e,s),t(s,n),t(n,i),t(i,d),t(n,u),t(n,f),t(f,p),t(f,g),t(e,v),t(e,m),t(m,w),t(w,S),t(e,k),t(e,A),t(A,x),t(x,T),t(T,E),t(x,K),t(x,V),t(V,P),t(e,W),t(e,B),t(B,D),t(D,Y),t(Y,C),t(D,q),t(D,h),t(h,U),t(e,R),t(e,j),t(j,J),se&&se.m(J,null),t(J,O),ae&&ae.m(J,null),t(J,re),ue&&ue.m(J,null),t(e,Q)},p(de,ee){ee&1&&o!==(o=de[1].player+"")&&G(d,o),ee&1&&c!==(c="https://splinterlands.com/?p=collection&a="+de[1].player)&&a(i,"href",c),ee&1&&b!==(b=de[1].join_date+"")&&G(g,b),ee&1&&$!==($=he(de[1].collection_power)+"")&&G(S,$),ee&1&&M!==(M=Oe[de[1].modern_league]+"")&&G(E,M),ee&1&&z!==(z=de[1].modern_rating+"")&&G(P,z),ee&1&&L!==(L=Oe[de[1].league]+"")&&G(C,L),ee&1&&N!==(N=de[1].rating+"")&&G(U,N),de[1].dec?se?se.p(de,ee):(se=At(de),se.c(),se.m(J,O)):se&&(se.d(1),se=null),de[1].quest_lodge?ae?ae.p(de,ee):(ae=St(de),ae.c(),ae.m(J,re)):ae&&(ae.d(1),ae=null),de[1].crowns?ue?ue.p(de,ee):(ue=Rt(de),ue.c(),ue.m(J,null)):ue&&(ue.d(1),ue=null)},d(de){de&&F(e),se&&se.d(),ae&&ae.d(),ue&&ue.d()}}}function kl(l){let e,s,n,i,o,d=l[0],c=[];for(let u=0;u<d.length;u+=1)c[u]=Gt(xt(l,d,u));return{c(){e=r("div"),s=r("table"),n=r("thead"),n.innerHTML=`<tr><th class="px-3">IGN</th> 
        <th class="px-3 text-center">CP</th> 
        <th class="px-3 text-center">Modern</th> 
        <th class="px-3 text-center">Wild</th> 
        <th class="px-3">Contributed</th></tr>`,i=_(),o=r("tbody");for(let u=0;u<c.length;u+=1)c[u].c();a(n,"class","sticky-top bg-darker"),a(s,"class","table table-sm align-middle mb-0"),a(e,"class","table-responsive max-h-500 border border-primary")},m(u,f){I(u,e,f),t(e,s),t(s,n),t(s,i),t(s,o);for(let p=0;p<c.length;p+=1)c[p].m(o,null)},p(u,[f]){if(f&1){d=u[0];let p;for(p=0;p<d.length;p+=1){const b=xt(u,d,p);c[p]?c[p].p(b,f):(c[p]=Gt(b),c[p].c(),c[p].m(o,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=d.length}},i:fe,o:fe,d(u){u&&F(e),Ue(c,u)}}}function Cl(l,e,s){let n;return Re(l,et,i=>s(0,n=i)),[n]}class xl extends Me{constructor(e){super(),Ne(this,e,Cl,kl,We,{})}}function Al(l){let e,s,n,i,o=l[0].guild_hall.level+"",d,c,u,f,p,b=l[0].quest_lodge.level+"",g,v,m,w,$,S=l[0].arena.level+"",k,A,x,T,M,E=l[0].barracks.level+"",K,V,z,P,W,B=l[0].guild_shop.level+"",D;return{c(){e=r("div"),s=r("div"),n=r("span"),n.textContent="Hall",i=_(),d=y(o),c=_(),u=r("div"),f=r("span"),f.textContent="Lodge",p=_(),g=y(b),v=_(),m=r("div"),w=r("span"),w.textContent="Arena",$=_(),k=y(S),A=_(),x=r("div"),T=r("span"),T.textContent="Barracks",M=_(),K=y(E),V=_(),z=r("div"),P=r("span"),P.textContent="Shop",W=_(),D=y(B),a(n,"class","text-muted me-2"),a(s,"class","me-2 text-nowrap badge bg-primary"),a(f,"class","text-muted me-2"),a(u,"class","me-2 text-nowrap badge bg-primary"),a(w,"class","text-muted me-2"),a(m,"class","me-2 text-nowrap badge bg-primary"),a(T,"class","text-muted me-2"),a(x,"class","me-2 text-nowrap badge bg-primary"),a(P,"class","text-muted me-2"),a(z,"class","me-2 text-nowrap badge bg-primary"),a(e,"class","h5 d-flex flex-wrap")},m(Y,L){I(Y,e,L),t(e,s),t(s,n),t(s,i),t(s,d),t(e,c),t(e,u),t(u,f),t(u,p),t(u,g),t(e,v),t(e,m),t(m,w),t(m,$),t(m,k),t(e,A),t(e,x),t(x,T),t(x,M),t(x,K),t(e,V),t(e,z),t(z,P),t(z,W),t(z,D)},p:fe,i:fe,o:fe,d(Y){Y&&F(e)}}}function Sl(l,e,s){let{buildings:n}=e;const i=JSON.parse(n);return l.$$set=o=>{"buildings"in o&&s(1,n=o.buildings)},[i,n]}class cl extends Me{constructor(e){super(),Ne(this,e,Sl,Al,We,{buildings:1})}}function Rl(l){let e,s,n;return{c(){e=r("div"),s=r("img"),Ee(s.src,n=l[3])||a(s,"src",n),a(s,"alt",l[1].decal),a(s,"class","guild-crest__decal svelte-16juu1e"),a(e,"class","guild-crest svelte-16juu1e"),a(e,"style",`background-image: url(${l[2]})`),Ke(e,"guild-crest--large",l[0]==="large")},m(i,o){I(i,e,o),t(e,s)},p(i,[o]){o&1&&Ke(e,"guild-crest--large",i[0]==="large")},i:fe,o:fe,d(i){i&&F(e)}}}function Gl(l,e,s){let{data:n}=e,{size:i=""}=e;const o=JSON.parse(n).crest,d=`${Ct}/guilds/banners/bg_banner_${o.banner}.png`,c=`${Ct}/guilds/decals/img_guild_${o.decal}.png`;return l.$$set=u=>{"data"in u&&s(4,n=u.data),"size"in u&&s(0,i=u.size)},[i,o,d,c,n]}class ul extends Me{constructor(e){super(),Ne(this,e,Gl,Rl,We,{data:4,size:0})}}const Wl=async()=>await(await fetch(`${mt}/guilds/list`)).json(),Nl=async l=>await(await fetch(`${mt}/guilds/find?id=${l}`)).json(),Ml=async l=>{const s=await(await fetch(`${_t}/guilds/members?guild_id=${l}&status=active`)).json();return s?(s.forEach(n=>{const i=JSON.parse(n.data),{guild_hall:o=0,arena:d={DEC:0,CROWN:0},barracks:c={DEC:0,CROWN:0},guild_shop:u={DEC:0,CROWN:0},quest_lodge:f=0}=i.contributions;n.dec=o+d.DEC+c.DEC+u.DEC,n.quest_lodge=f,n.crowns=d.CROWN+c.CROWN+u.CROWN,n.join_date=new Date(n.join_date).toLocaleDateString()}),s.reverse()):[]},gt=async({tournament_id:l,id:e})=>await(await fetch(`${mt}/tournaments/find_brawl?id=${l}&guild_id=${e}`)).json(),Bl=async l=>await(await fetch(`${_t}/players/details?name=${l}`)).json(),Dl=async(l,e,s)=>(await(await fetch(`${_t}/guilds/brawl_records?guild_id=${l}&start_cycle=${e}&end_cycle=${s}`)).json()).results||[];function Wt(l,e,s){const n=l.slice();return n[6]=e[s][0],n[7]=e[s][1],n[9]=s,n}function Nt(l,e,s){const n=l.slice();return n[10]=e[s][0],n[11]=e[s][1],n}function Mt(l){let e,s,n,i,o=l[11].fray_name+"",d,c,u,f,p=l[11].wins+"",b,g,v,m,w=l[11].losses+"",$,S,k,A,x=l[11].draws+"",T,M,E,K,V=l[11].total_battles+"",z,P,W,B,D=Number(l[11].wins/l[11].entered_battles*100).toFixed(2)+"",Y,L,C;return{c(){e=r("tr"),s=r("td"),n=r("div"),i=y("Fray "),d=y(o),c=_(),u=r("td"),f=r("div"),b=y(p),g=_(),v=r("td"),m=r("div"),$=y(w),S=_(),k=r("td"),A=r("div"),T=y(x),M=_(),E=r("td"),K=r("div"),z=y(V),P=_(),W=r("td"),B=r("div"),Y=y(D),L=y("%"),C=_(),a(n,"class","px-3 text-extra-small fray-cell text-muted svelte-d5ewdm"),a(f,"class","px-3 fray-cell text-muted svelte-d5ewdm"),a(m,"class","px-3 fray-cell text-muted svelte-d5ewdm"),a(A,"class","px-3 fray-cell text-muted svelte-d5ewdm"),a(K,"class","px-3 fray-cell text-muted svelte-d5ewdm"),a(B,"class","px-3 fray-cell text-muted svelte-d5ewdm")},m(q,h){I(q,e,h),t(e,s),t(s,n),t(n,i),t(n,d),t(e,c),t(e,u),t(u,f),t(f,b),t(e,g),t(e,v),t(v,m),t(m,$),t(e,S),t(e,k),t(k,A),t(A,T),t(e,M),t(e,E),t(E,K),t(K,z),t(e,P),t(e,W),t(W,B),t(B,Y),t(B,L),t(e,C)},p(q,h){h&1&&o!==(o=q[11].fray_name+"")&&G(d,o),h&1&&p!==(p=q[11].wins+"")&&G(b,p),h&1&&w!==(w=q[11].losses+"")&&G($,w),h&1&&x!==(x=q[11].draws+"")&&G(T,x),h&1&&V!==(V=q[11].total_battles+"")&&G(z,V),h&1&&D!==(D=Number(q[11].wins/q[11].entered_battles*100).toFixed(2)+"")&&G(Y,D)},d(q){q&&F(e)}}}function Bt(l){let e,s,n,i=l[6]+"",o,d,c,u,f=l[7].wins+"",p,b,g,v,m=l[7].losses+"",w,$,S,k,A=l[7].draws+"",x,T,M,E,K=l[7].total_battles+"",V,z,P,W,B=Number(l[7].wins/l[7].entered_battles*100).toFixed(2)+"",D,Y,L,C,q,h,N,U=Object.entries(l[7].frays),R=[];for(let j=0;j<U.length;j+=1)R[j]=Mt(Nt(l,U,j));return{c(){e=r("tr"),s=r("td"),n=r("div"),o=y(i),d=_(),c=r("td"),u=r("div"),p=y(f),b=_(),g=r("td"),v=r("div"),w=y(m),$=_(),S=r("td"),k=r("div"),x=y(A),T=_(),M=r("td"),E=r("div"),V=y(K),z=_(),P=r("td"),W=r("div"),D=y(B),Y=y("%"),L=_(),C=r("tr"),q=r("td"),h=r("table");for(let j=0;j<R.length;j+=1)R[j].c();N=_(),a(n,"class","px-3 text-info"),a(s,"class","text-nowrap"),a(u,"class","px-3"),a(c,"class","text-nowrap"),a(v,"class","px-3"),a(g,"class","text-nowrap"),a(k,"class","px-3"),a(S,"class","text-nowrap"),a(E,"class","px-3"),a(M,"class","text-nowrap"),a(W,"class","px-3"),a(P,"class","text-nowrap"),a(e,"role","button"),a(e,"data-bs-toggle","collapse"),a(e,"data-bs-target","#player-fray-result-"+l[9]),a(e,"aria-expanded","false"),a(h,"class","table table-sm mb-0 w-100 table-fixed svelte-d5ewdm"),a(q,"colspan","6"),a(C,"id","player-fray-result-"+l[9]),a(C,"class","accordion-collapse collapse")},m(j,J){I(j,e,J),t(e,s),t(s,n),t(n,o),t(e,d),t(e,c),t(c,u),t(u,p),t(e,b),t(e,g),t(g,v),t(v,w),t(e,$),t(e,S),t(S,k),t(k,x),t(e,T),t(e,M),t(M,E),t(E,V),t(e,z),t(e,P),t(P,W),t(W,D),t(W,Y),I(j,L,J),I(j,C,J),t(C,q),t(q,h);for(let O=0;O<R.length;O+=1)R[O].m(h,null);t(C,N)},p(j,J){if(J&1&&i!==(i=j[6]+"")&&G(o,i),J&1&&f!==(f=j[7].wins+"")&&G(p,f),J&1&&m!==(m=j[7].losses+"")&&G(w,m),J&1&&A!==(A=j[7].draws+"")&&G(x,A),J&1&&K!==(K=j[7].total_battles+"")&&G(V,K),J&1&&B!==(B=Number(j[7].wins/j[7].entered_battles*100).toFixed(2)+"")&&G(D,B),J&1){U=Object.entries(j[7].frays);let O;for(O=0;O<U.length;O+=1){const re=Nt(j,U,O);R[O]?R[O].p(re,J):(R[O]=Mt(re),R[O].c(),R[O].m(h,null))}for(;O<R.length;O+=1)R[O].d(1);R.length=U.length}},d(j){j&&F(e),j&&F(L),j&&F(C),Ue(R,j)}}}function Ll(l){let e,s,n,i,o,d,c,u,f,p,b=l[1].brawl_rank+"",g,v,m,w,$,S=l[1].wins+"",k,A,x,T,M,E=l[1].battles+"",K,V,z,P,W,B=l[1].win_rate+"",D,Y,L,C,q,h,N,U,R,j=Object.entries(l[0]),J=[];for(let O=0;O<j.length;O+=1)J[O]=Bt(Wt(l,j,O));return{c(){e=r("div"),s=r("div"),n=r("div"),i=r("button"),o=r("div"),d=r("div"),c=y(`Last 10 brawls\r
            `),u=r("span"),f=r("span"),f.textContent="Ave placement:",p=_(),g=y(b),v=_(),m=r("span"),w=r("span"),w.textContent="Wins:",$=_(),k=y(S),A=_(),x=r("span"),T=r("span"),T.textContent="Battles:",M=_(),K=y(E),V=_(),z=r("span"),P=r("span"),P.textContent="Win rate:",W=_(),D=y(B),Y=y("%"),L=_(),C=r("div"),q=r("div"),h=r("table"),N=r("thead"),N.innerHTML=`<tr class="sticky-top bg-darker"><th class="px-3"></th> 
              <th class="px-3">Wins</th> 
              <th class="px-3">Losses</th> 
              <th class="px-3">Draws</th> 
              <th class="px-3">Battles</th> 
              <th class="px-3 text-nowrap">Win rate</th></tr>`,U=_(),R=r("tbody");for(let O=0;O<J.length;O+=1)J[O].c();a(f,"class","text-muted"),a(u,"class","ms-3 badge bg-primary"),a(w,"class","text-muted"),a(m,"class","ms-3 badge bg-primary"),a(T,"class","text-muted"),a(x,"class","ms-3 badge bg-primary"),a(P,"class","text-muted"),a(z,"class","ms-3 badge bg-primary"),a(d,"class","h5 mb-0"),a(o,"class","d-flex flex-wrap"),a(i,"class","accordion-button bg-dark"),a(i,"data-bs-toggle","collapse"),a(i,"data-bs-target","#player-brawl-result"),a(i,"aria-expanded","true"),a(i,"aria-controls","player-brawl-result"),a(n,"class","accordion-header"),a(n,"id","player-brawl-results-heading"),a(h,"class","table table-hover table-sm align-middle table-fixed mb-0 svelte-d5ewdm"),a(q,"class","table-responsive max-h-500 border border-primary"),a(C,"id","player-brawl-result"),a(C,"class","accordion-collapse collapse show"),a(s,"class","accordion-item"),a(e,"class","accordion accordion-flush mb-3")},m(O,re){I(O,e,re),t(e,s),t(s,n),t(n,i),t(i,o),t(o,d),t(d,c),t(d,u),t(u,f),t(u,p),t(u,g),t(d,v),t(d,m),t(m,w),t(m,$),t(m,k),t(d,A),t(d,x),t(x,T),t(x,M),t(x,K),t(d,V),t(d,z),t(z,P),t(z,W),t(z,D),t(z,Y),t(s,L),t(s,C),t(C,q),t(q,h),t(h,N),t(h,U),t(h,R);for(let Q=0;Q<J.length;Q+=1)J[Q].m(R,null)},p(O,[re]){if(re&2&&b!==(b=O[1].brawl_rank+"")&&G(g,b),re&2&&S!==(S=O[1].wins+"")&&G(k,S),re&2&&E!==(E=O[1].battles+"")&&G(K,E),re&2&&B!==(B=O[1].win_rate+"")&&G(D,B),re&1){j=Object.entries(O[0]);let Q;for(Q=0;Q<j.length;Q+=1){const se=Wt(O,j,Q);J[Q]?J[Q].p(se,re):(J[Q]=Bt(se),J[Q].c(),J[Q].m(R,null))}for(;Q<J.length;Q+=1)J[Q].d(1);J.length=j.length}},i:fe,o:fe,d(O){O&&F(e),Ue(J,O)}}}function Fl(l,e,s){let n;Re(l,Pe,f=>s(3,n=f));let i={},o={brawl_rank:0,battles:0,win_rate:0,draws:0,losses:0,wins:0},d;const c=(f,p)=>{var m;const b=((m=bt[p])==null?void 0:m.tier)||0;return b?dl[b][f]:""};return(async()=>{d=[...n.brawl_stats.results].reverse();const f={};d.forEach(p=>{s(1,o.brawl_rank+=p.brawl_rank,o),s(1,o.battles+=p.draws+p.losses+p.wins,o),s(1,o.wins+=p.wins,o)}),s(1,o.brawl_rank=Math.round(o.brawl_rank/d.length),o),s(1,o.win_rate=Math.round(o.wins/o.battles*100),o);for await(let p of d){const b=await gt({tournament_id:p.tournament_id,id:p.guild_id});p.brawl_info=b,b&&b.players&&b.players.forEach(g=>{const{brawl_level:v,draws:m,entered_battles:w,finish:$,fray_index:S,losses:k,meta_pts:A,total_battles:x,wins:T,player:M}=g;f[M]||(f[M]=[]),f[M]=[...f[M],{brawl_level:v,draws:m,entered_battles:w,finish:$,fray_index:S,losses:k,meta_pts:A,total_battles:x,wins:T}]})}for(const p in f)i[p]||s(0,i[p]={},i),f[p].reduce(function(b,g){return b||(b={draws:0,entered_battles:0,finish:0,losses:0,meta_pts:0,total_battles:0,wins:0,frays:{}},s(0,i[p]=b,i)),b.draws+=g.draws,b.entered_battles+=g.entered_battles,b.finish+=g.finish,b.losses+=g.losses,b.meta_pts+=g.meta_pts,b.total_battles+=g.total_battles,b.wins+=g.wins,b.frays[g.fray_index]||(b.frays[g.fray_index]={brawl_level:0,draws:0,entered_battles:0,finish:0,losses:0,meta_pts:0,total_battles:0,wins:0,fray_name:""}),b.frays[g.fray_index].draws+=g.draws,b.frays[g.fray_index].entered_battles+=g.entered_battles,b.frays[g.fray_index].finish+=g.finish,b.frays[g.fray_index].losses+=g.losses,b.frays[g.fray_index].meta_pts+=g.meta_pts,b.frays[g.fray_index].total_battles+=g.total_battles,b.frays[g.fray_index].wins+=g.wins,b.frays[g.fray_index].fray_name=c(g.fray_index,g.brawl_level),b},null)})(),[i,o]}class Il extends Me{constructor(e){super(),Ne(this,e,Fl,Ll,We,{})}}function Ul(l){let e;return{c(){e=r("span"),e.textContent="--",a(e,"class","text-muted")},m(s,n){I(s,e,n)},d(s){s&&F(e)}}}function El(l){let e;return{c(){e=r("span"),e.textContent="\u2022",a(e,"class","text-warning me-1")},m(s,n){I(s,e,n)},d(s){s&&F(e)}}}function jl(l){let e;return{c(){e=r("span"),e.textContent="\u2022",a(e,"class","text-danger me-1")},m(s,n){I(s,e,n)},d(s){s&&F(e)}}}function Ol(l){let e;return{c(){e=r("span"),e.textContent="\u2022",a(e,"class","text-success me-1")},m(s,n){I(s,e,n)},d(s){s&&F(e)}}}function Pl(l){let e;return{c(){e=r("span"),a(e,"class","small text-muted")},m(s,n){I(s,e,n)},p:fe,d(s){s&&F(e)}}}function zl(l){let e,s,n;return{c(){e=r("span"),e.textContent=`${l[1].player}`,a(e,"class","small text-muted"),a(e,"role","button"),a(e,"data-bs-toggle","modal"),a(e,"data-bs-target","#playerInfo")},m(i,o){I(i,e,o),s||(n=je(e,"click",l[5]),s=!0)},p:fe,d(i){i&&F(e),s=!1,n()}}}function ql(l){let e,s;function n(f,p){return f[0]===1?Ol:f[0]===2?jl:f[0]===3?El:Ul}let i=n(l),o=i(l);function d(f,p){return f[1]&&f[1].player?zl:Pl}let u=d(l)(l);return{c(){e=r("div"),o.c(),s=_(),u.c(),a(e,"class","text-nowrap")},m(f,p){I(f,e,p),o.m(e,null),t(e,s),u.m(e,null)},p(f,[p]){i!==(i=n(f))&&(o.d(1),o=i(f),o&&(o.c(),o.m(e,s))),u.p(f,p)},i:fe,o:fe,d(f){f&&F(e),o.d(),u.d()}}}function Tl(l,e,s){let n;Re(l,rt,p=>s(6,n=p));let{players:i,champion:o}=e;const d=i.find(p=>p.fray_index===o.fray_index);let c=0;d&&o.defeated&&(o.defeated.includes(d.player)&&(c=1),!o.defeated.includes(d.player)&&d.defeated&&d.defeated.includes(o.player)&&(c=2),c||(c=3));const u=async p=>{const b=await Bl(p.player);De(rt,n=b,n)},f=()=>u(d);return l.$$set=p=>{"players"in p&&s(3,i=p.players),"champion"in p&&s(4,o=p.champion)},[c,d,u,i,o,f]}class Hl extends Me{constructor(e){super(),Ne(this,e,Tl,ql,We,{players:3,champion:4})}}function Kl(l){let e;return{c(){e=r("div"),a(e,"class","spinner-border spinner-primary"),a(e,"role","status")},m(s,n){I(s,e,n)},p:fe,i:fe,o:fe,d(s){s&&F(e)}}}class ht extends Me{constructor(e){super(),Ne(this,e,null,Kl,We,{})}}function Dt(l,e,s){const n=l.slice();return n[9]=e[s],n}function Lt(l,e,s){const n=l.slice();return n[12]=e[s],n}function Ft(l,e,s){const n=l.slice();return n[12]=e[s],n}function It(l){let e,s,n;return s=new ht({}),{c(){e=r("div"),xe(s.$$.fragment),a(e,"class","text-center p-2")},m(i,o){I(i,e,o),ye(s,e,null),n=!0},i(i){n||(Z(s.$$.fragment,i),n=!0)},o(i){oe(s.$$.fragment,i),n=!1},d(i){i&&F(e),$e(s)}}}function Ut(l){let e,s,n,i,o,d,c=(l[1][l[0].guildId]||"--")+"",u,f,p,b=l[7](l[0].guildId)+"",g,v,m,w,$,S,k,A,x,T,M,E,K,V,z,P=l[2],W=[];for(let h=0;h<P.length;h+=1)W[h]=Et(Ft(l,P,h));let B=l[0].players,D=[];for(let h=0;h<B.length;h+=1)D[h]=Ot(Dt(l,B,h));const Y=h=>oe(D[h],1,1,()=>{D[h]=null}),L=[Vl,Jl],C=[];function q(h,N){return h[4]?0:1}return M=q(l),E=C[M]=L[M](l),{c(){e=r("div"),s=r("table"),n=r("thead"),i=r("tr"),o=r("th"),d=r("span"),u=y(c),f=_(),p=new rl(!1),g=_();for(let h=0;h<W.length;h+=1)W[h].c();v=_(),m=r("tbody");for(let h=0;h<D.length;h+=1)D[h].c();w=_(),$=r("div"),S=r("div"),k=r("div"),A=r("div"),x=r("button"),T=_(),E.c(),a(d,"class","text-info"),p.a=null,a(o,"class","text-nowrap px-3"),gl(o,"min-width","250px"),a(n,"class","sticky-top bg-darker"),a(s,"class","table table-sm align-middle mb-0"),a(e,"class","table-responsive max-h-500 border border-primary"),a(x,"type","button"),a(x,"class","btn-close float-end"),a(x,"data-bs-dismiss","modal"),a(x,"aria-label","Close"),a(A,"class","modal-body"),a(k,"class","modal-content"),a(S,"class","modal-dialog modal-dialog-centered"),a($,"class","modal fade"),a($,"id","playerInfo"),a($,"tabindex","-1"),a($,"aria-labelledby","playerInfoLabel"),a($,"aria-hidden","true")},m(h,N){I(h,e,N),t(e,s),t(s,n),t(n,i),t(i,o),t(o,d),t(d,u),t(o,f),p.m(b,o),t(i,g);for(let U=0;U<W.length;U+=1)W[U].m(i,null);t(s,v),t(s,m);for(let U=0;U<D.length;U+=1)D[U].m(m,null);I(h,w,N),I(h,$,N),t($,S),t(S,k),t(k,A),t(A,x),t(A,T),C[M].m(A,null),K=!0,V||(z=je(x,"click",l[8]),V=!0)},p(h,N){if((!K||N&3)&&c!==(c=(h[1][h[0].guildId]||"--")+"")&&G(u,c),(!K||N&1)&&b!==(b=h[7](h[0].guildId)+"")&&p.p(b),N&134){P=h[2];let R;for(R=0;R<P.length;R+=1){const j=Ft(h,P,R);W[R]?W[R].p(j,N):(W[R]=Et(j),W[R].c(),W[R].m(i,null))}for(;R<W.length;R+=1)W[R].d(1);W.length=P.length}if(N&69){B=h[0].players;let R;for(R=0;R<B.length;R+=1){const j=Dt(h,B,R);D[R]?(D[R].p(j,N),Z(D[R],1)):(D[R]=Ot(j),D[R].c(),Z(D[R],1),D[R].m(m,null))}for(Le(),R=B.length;R<D.length;R+=1)Y(R);Fe()}let U=M;M=q(h),M===U?C[M].p(h,N):(Le(),oe(C[U],1,1,()=>{C[U]=null}),Fe(),E=C[M],E?E.p(h,N):(E=C[M]=L[M](h),E.c()),Z(E,1),E.m(A,null))},i(h){if(!K){for(let N=0;N<B.length;N+=1)Z(D[N]);Z(E),K=!0}},o(h){D=D.filter(Boolean);for(let N=0;N<D.length;N+=1)oe(D[N]);oe(E),K=!1},d(h){h&&F(e),Ue(W,h),Ue(D,h),h&&F(w),h&&F($),C[M].d(),V=!1,z()}}}function Et(l){let e,s,n=(l[1][l[12].guildId]||"--")+"",i,o,d,c=l[7](l[12].guildId)+"",u;return{c(){e=r("th"),s=r("span"),i=y(n),o=_(),d=new rl(!1),u=_(),a(s,"class","text-info"),d.a=u,a(e,"class","px-3 text-nowrap")},m(f,p){I(f,e,p),t(e,s),t(s,i),t(e,o),d.m(c,e),t(e,u)},p(f,p){p&6&&n!==(n=(f[1][f[12].guildId]||"--")+"")&&G(i,n),p&4&&c!==(c=f[7](f[12].guildId)+"")&&d.p(c)},d(f){f&&F(e)}}}function jt(l){let e,s,n,i;return n=new Hl({props:{players:l[12].players,champion:l[9]}}),{c(){e=r("td"),s=r("div"),xe(n.$$.fragment),a(s,"class","px-3")},m(o,d){I(o,e,d),t(e,s),ye(n,s,null),i=!0},p(o,d){const c={};d&4&&(c.players=o[12].players),d&1&&(c.champion=o[9]),n.$set(c)},i(o){i||(Z(n.$$.fragment,o),i=!0)},o(o){oe(n.$$.fragment,o),i=!1},d(o){o&&F(e),$e(n)}}}function Ot(l){let e,s,n,i,o=l[9].player+"",d,c,u,f,p=l[9].wins+"",b,g,v,m,w=l[9].losses+"",$,S,k,A,x=l[9].draws+"",T,M,E,K,V,z,P=l[6](l[9].fray_index,l[9].brawl_level)+"",W,B,D,Y,L=l[2],C=[];for(let h=0;h<L.length;h+=1)C[h]=jt(Lt(l,L,h));const q=h=>oe(C[h],1,1,()=>{C[h]=null});return{c(){e=r("tr"),s=r("td"),n=r("div"),i=r("span"),d=y(o),c=_(),u=r("div"),f=r("span"),b=y(p),g=y(" W"),v=_(),m=r("span"),$=y(w),S=y(" L"),k=_(),A=r("span"),T=y(x),M=y(" D"),E=_(),K=r("div"),V=r("small"),z=y("Fray "),W=y(P),B=_();for(let h=0;h<C.length;h+=1)C[h].c();D=_(),a(i,"class","me-2 text-nowrap text-info"),a(f,"class","text-success me-2"),a(m,"class","text-danger me-2"),a(A,"class","text-warning me-2"),a(u,"class","text-muted badge d-flex text-nowrap"),a(K,"class","small text-muted"),a(n,"class","py-1 px-3 bg-dark"),a(s,"class","p-0")},m(h,N){I(h,e,N),t(e,s),t(s,n),t(n,i),t(i,d),t(n,c),t(n,u),t(u,f),t(f,b),t(f,g),t(u,v),t(u,m),t(m,$),t(m,S),t(u,k),t(u,A),t(A,T),t(A,M),t(n,E),t(n,K),t(K,V),t(V,z),t(V,W),t(e,B);for(let U=0;U<C.length;U+=1)C[U].m(e,null);t(e,D),Y=!0},p(h,N){if((!Y||N&1)&&o!==(o=h[9].player+"")&&G(d,o),(!Y||N&1)&&p!==(p=h[9].wins+"")&&G(b,p),(!Y||N&1)&&w!==(w=h[9].losses+"")&&G($,w),(!Y||N&1)&&x!==(x=h[9].draws+"")&&G(T,x),(!Y||N&1)&&P!==(P=h[6](h[9].fray_index,h[9].brawl_level)+"")&&G(W,P),N&5){L=h[2];let U;for(U=0;U<L.length;U+=1){const R=Lt(h,L,U);C[U]?(C[U].p(R,N),Z(C[U],1)):(C[U]=jt(R),C[U].c(),Z(C[U],1),C[U].m(e,D))}for(Le(),U=L.length;U<C.length;U+=1)q(U);Fe()}},i(h){if(!Y){for(let N=0;N<L.length;N+=1)Z(C[N]);Y=!0}},o(h){C=C.filter(Boolean);for(let N=0;N<C.length;N+=1)oe(C[N]);Y=!1},d(h){h&&F(e),Ue(C,h)}}}function Jl(l){let e,s;return e=new ht({}),{c(){xe(e.$$.fragment)},m(n,i){ye(e,n,i),s=!0},p:fe,i(n){s||(Z(e.$$.fragment,n),s=!0)},o(n){oe(e.$$.fragment,n),s=!1},d(n){$e(e,n)}}}function Vl(l){let e,s,n,i=l[4].name+"",o,d,c,u,f,p=l[4].collection_power+"",b,g,v,m,w,$,S,k,A,x,T,M,E=Oe[l[4].league]+"",K,V,z,P,W,B=l[4].rating+"",D,Y,L,C,q,h=Number(l[4].wins/l[4].battles*100).toFixed(2)+"",N,U,R,j,J,O,re,Q,se,ae,ue=Oe[l[4].modern_league]+"",de,ee,ie,Ge,be,we=l[4].modern_rating+"",te,_e,Ae,Se,ke,ve=Number(l[4].modern_wins/l[4].modern_battles*100).toFixed(2)+"",Ie,Ce,me,Be,pe,ne,H,ce=l[4].title_post&&Pt(l),X=l[4].champion_points&&zt(l);return{c(){e=r("p"),s=r("span"),s.textContent="Name:",n=_(),o=y(i),d=_(),c=r("p"),u=r("span"),u.textContent="Collection power:",f=_(),b=y(p),g=_(),ce&&ce.c(),v=_(),X&&X.c(),m=_(),w=r("div"),$=r("div"),S=r("div"),S.textContent="Wild",k=_(),A=r("div"),x=r("div"),T=r("span"),T.textContent="League:",M=_(),K=y(E),V=_(),z=r("div"),P=r("span"),P.textContent="Rating:",W=_(),D=y(B),Y=_(),L=r("div"),C=r("span"),C.textContent="Win rate:",q=_(),N=y(h),U=y("%"),R=_(),j=r("div"),J=r("div"),J.textContent="Modern",O=_(),re=r("div"),Q=r("div"),se=r("span"),se.textContent="League:",ae=_(),de=y(ue),ee=_(),ie=r("div"),Ge=r("span"),Ge.textContent="Rating:",be=_(),te=y(we),_e=_(),Ae=r("div"),Se=r("span"),Se.textContent="Win rate:",ke=_(),Ie=y(ve),Ce=y("%"),me=_(),Be=r("div"),pe=r("a"),ne=y("View collections on splinterlands.com"),a(s,"class","text-muted me-2"),a(u,"class","text-muted me-2"),a(S,"class","card-header"),a(T,"class","text-muted me-2"),a(x,"class","list-group-item"),a(P,"class","text-muted me-2"),a(z,"class","list-group-item"),a(C,"class","text-muted me-2"),a(L,"class","list-group-item"),a(A,"class","list-group list-group-flush"),a($,"class","card flex-fill"),a(J,"class","card-header"),a(se,"class","text-muted me-2"),a(Q,"class","list-group-item"),a(Ge,"class","text-muted me-2"),a(ie,"class","list-group-item"),a(Se,"class","text-muted me-2"),a(Ae,"class","list-group-item"),a(re,"class","list-group list-group-flush"),a(j,"class","card flex-fill"),a(w,"class","d-md-flex"),a(pe,"class","text-info text-decoration-none"),a(pe,"href",H="https://splinterlands.com/?p=collection&a="+l[4].name),a(pe,"target","blank"),a(Be,"class","mt-3")},m(le,ge){I(le,e,ge),t(e,s),t(e,n),t(e,o),I(le,d,ge),I(le,c,ge),t(c,u),t(c,f),t(c,b),I(le,g,ge),ce&&ce.m(le,ge),I(le,v,ge),X&&X.m(le,ge),I(le,m,ge),I(le,w,ge),t(w,$),t($,S),t($,k),t($,A),t(A,x),t(x,T),t(x,M),t(x,K),t(A,V),t(A,z),t(z,P),t(z,W),t(z,D),t(A,Y),t(A,L),t(L,C),t(L,q),t(L,N),t(L,U),t(w,R),t(w,j),t(j,J),t(j,O),t(j,re),t(re,Q),t(Q,se),t(Q,ae),t(Q,de),t(re,ee),t(re,ie),t(ie,Ge),t(ie,be),t(ie,te),t(re,_e),t(re,Ae),t(Ae,Se),t(Ae,ke),t(Ae,Ie),t(Ae,Ce),I(le,me,ge),I(le,Be,ge),t(Be,pe),t(pe,ne)},p(le,ge){ge&16&&i!==(i=le[4].name+"")&&G(o,i),ge&16&&p!==(p=le[4].collection_power+"")&&G(b,p),le[4].title_post?ce?ce.p(le,ge):(ce=Pt(le),ce.c(),ce.m(v.parentNode,v)):ce&&(ce.d(1),ce=null),le[4].champion_points?X?X.p(le,ge):(X=zt(le),X.c(),X.m(m.parentNode,m)):X&&(X.d(1),X=null),ge&16&&E!==(E=Oe[le[4].league]+"")&&G(K,E),ge&16&&B!==(B=le[4].rating+"")&&G(D,B),ge&16&&h!==(h=Number(le[4].wins/le[4].battles*100).toFixed(2)+"")&&G(N,h),ge&16&&ue!==(ue=Oe[le[4].modern_league]+"")&&G(de,ue),ge&16&&we!==(we=le[4].modern_rating+"")&&G(te,we),ge&16&&ve!==(ve=Number(le[4].modern_wins/le[4].modern_battles*100).toFixed(2)+"")&&G(Ie,ve),ge&16&&H!==(H="https://splinterlands.com/?p=collection&a="+le[4].name)&&a(pe,"href",H)},i:fe,o:fe,d(le){le&&F(e),le&&F(d),le&&F(c),le&&F(g),ce&&ce.d(le),le&&F(v),X&&X.d(le),le&&F(m),le&&F(w),le&&F(me),le&&F(Be)}}}function Pt(l){let e,s,n,i=l[4].title_post+"",o;return{c(){e=r("p"),s=r("span"),s.textContent="title:",n=_(),o=y(i),a(s,"class","text-muted me-2")},m(d,c){I(d,e,c),t(e,s),t(e,n),t(e,o)},p(d,c){c&16&&i!==(i=d[4].title_post+"")&&G(o,i)},d(d){d&&F(e)}}}function zt(l){let e,s,n,i=l[4].champion_points+"",o;return{c(){e=r("p"),s=r("span"),s.textContent="Champion points:",n=_(),o=y(i),a(s,"class","text-muted me-2")},m(d,c){I(d,e,c),t(e,s),t(e,n),t(e,o)},p(d,c){c&16&&i!==(i=d[4].champion_points+"")&&G(o,i)},d(d){d&&F(e)}}}function Ql(l){let e,s,n,i,o,d=ot[l[5].tournament_status]+"",c,u,f,p,b,g=l[3]&&It(),v=l[0]&&l[5]&&!l[3]&&Ut(l);return{c(){e=r("div"),s=r("button"),n=r("div"),i=r("strong"),i.textContent="Current Brawl",o=y(" : "),c=y(d),u=_(),f=r("div"),g&&g.c(),p=_(),v&&v.c(),a(n,"class","h5"),a(s,"class","accordion-button text-light bg-dark"),a(s,"data-bs-toggle","collapse"),a(s,"data-bs-target","#guild-brawl-latest"),a(s,"aria-expanded","true"),a(s,"aria-controls","guild-brawl-latest"),a(e,"class","accordion-header"),a(f,"id","guild-brawl-latest"),a(f,"class","accordion-collapse collapse show")},m(m,w){I(m,e,w),t(e,s),t(s,n),t(n,i),t(n,o),t(n,c),I(m,u,w),I(m,f,w),g&&g.m(f,null),t(f,p),v&&v.m(f,null),b=!0},p(m,[w]){(!b||w&32)&&d!==(d=ot[m[5].tournament_status]+"")&&G(c,d),m[3]?g?w&8&&Z(g,1):(g=It(),g.c(),Z(g,1),g.m(f,p)):g&&(Le(),oe(g,1,1,()=>{g=null}),Fe()),m[0]&&m[5]&&!m[3]?v?(v.p(m,w),w&41&&Z(v,1)):(v=Ut(m),v.c(),Z(v,1),v.m(f,null)):v&&(Le(),oe(v,1,1,()=>{v=null}),Fe())},i(m){b||(Z(g),Z(v),b=!0)},o(m){oe(g),oe(v),b=!1},d(m){m&&F(e),m&&F(u),m&&F(f),g&&g.d(),v&&v.d()}}}function Yl(l,e,s){let n,i;Re(l,rt,g=>s(4,n=g)),Re(l,Pe,g=>s(5,i=g));let o=null,d={},c=[],u=!1;const f=(g,v)=>{var S;const m=((S=bt[v])==null?void 0:S.tier)||0;return m?dl[m][g]:""},p=g=>{const v=o.guilds.find(m=>m.id===g);return`
    <div class="small">
      <span class="text-success small me-2">${v.wins} W</span>
      <span class="text-danger small me-2">${v.losses} L</span>
      <span class="text-warning small me-2">${v.draws} D</span>
      <div class="text-muted small">${v.pts} pts - ${v.completed_battles}/${v.total_battles}</div>
    </div>
  `};return tt(async()=>{s(3,u=!0);const g=JSON.parse(i.tournament_data);for await(let v of g.guilds){const m=await gt({tournament_id:i.tournament_id,id:v});v===i.id?s(0,o={guildId:v,...m}):s(2,c=[...c,{guildId:v,players:m.players}])}o.guilds.forEach(v=>{s(1,d[v.id]=v.name,d)}),s(3,u=!1)}),[o,d,c,u,n,i,f,p,()=>De(rt,n=null,n)]}class Xl extends Me{constructor(e){super(),Ne(this,e,Yl,Ql,We,{})}}function qt(l,e,s){const n=l.slice();return n[2]=e[s],n}function Zl(l){let e;return{c(){e=r("span"),e.textContent="\u{1F4A9}"},m(s,n){I(s,e,n)},p:fe,d(s){s&&F(e)}}}function es(l){let e,s=l[0],n=[];for(let i=0;i<s.length;i+=1)n[i]=Tt(qt(l,s,i));return{c(){e=r("span");for(let i=0;i<n.length;i+=1)n[i].c()},m(i,o){I(i,e,o);for(let d=0;d<n.length;d+=1)n[d].m(e,null)},p(i,o){if(o&1){const d=s.length;s=i[0];let c;for(c=d;c<s.length;c+=1)qt(i,s,c),n[c]||(n[c]=Tt(),n[c].c(),n[c].m(e,null));for(c=s.length;c<d;c+=1)n[c].d(1);n.length=s.length}},d(i){i&&F(e),Ue(n,i)}}}function Tt(l){let e;return{c(){e=y("\u2B50")},m(s,n){I(s,e,n)},d(s){s&&F(e)}}}function ts(l){let e;function s(o,d){return o[0].length?es:Zl}let n=s(l),i=n(l);return{c(){i.c(),e=pt()},m(o,d){i.m(o,d),I(o,e,d)},p(o,[d]){n===(n=s(o))&&i?i.p(o,d):(i.d(1),i=n(o),i&&(i.c(),i.m(e.parentNode,e)))},i:fe,o:fe,d(o){i.d(o),o&&F(e)}}}function ls(l,e,s){let{level:n}=e,i=[];return tt(()=>{var d;const o=((d=bt[n])==null?void 0:d.tier)||0;s(0,i=Array(o))}),l.$$set=o=>{"level"in o&&s(1,n=o.level)},[i,n]}class vt extends Me{constructor(e){super(),Ne(this,e,ls,ts,We,{level:1})}}function Ht(l,e,s){const n=l.slice();return n[2]=e[s],n[4]=s,n}function Kt(l){let e,s,n,i,o,d=l[0],c=[];for(let u=0;u<d.length;u+=1)c[u]=Jt(Ht(l,d,u));return{c(){e=r("div"),s=r("table"),n=r("thead"),n.innerHTML=`<tr><th><div class="px-2">Guild</div></th> 
        <th><div class="px-2">Place</div></th> 
        <th><div class="px-2">Wins</div></th> 
        <th><div class="px-2">Losses</div></th> 
        <th><div class="px-2">Draws</div></th> 
        <th><div class="px-2">Crowns</div></th> 
        <th><div class="px-2">SPS</div></th> 
        <th><div class="px-2">Merits</div></th></tr>`,i=_(),o=r("tbody");for(let u=0;u<c.length;u+=1)c[u].c();a(n,"class","bg-darker"),a(s,"class","table table-sm small"),a(e,"class","p-3 bg-dark")},m(u,f){I(u,e,f),t(e,s),t(s,n),t(s,i),t(s,o);for(let p=0;p<c.length;p+=1)c[p].m(o,null)},p(u,f){if(f&1){d=u[0];let p;for(p=0;p<d.length;p+=1){const b=Ht(u,d,p);c[p]?c[p].p(b,f):(c[p]=Jt(b),c[p].c(),c[p].m(o,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=d.length}},d(u){u&&F(e),Ue(c,u)}}}function Jt(l){let e,s,n,i=l[2].name+"",o,d,c,u,f=l[4]+1+"",p,b,g,v,m=l[2].wins+"",w,$,S,k,A=l[2].losses+"",x,T,M,E,K=l[2].draws+"",V,z,P,W,B,D,Y=he(l[2].other_payout)+"",L,C,q,h,N,U,R=he(l[2].member_sps_payout)+"",j,J,O,re,Q,se,ae=he(l[2].member_merits_payout)+"",ue,de;return{c(){e=r("tr"),s=r("td"),n=r("div"),o=y(i),d=_(),c=r("td"),u=r("div"),p=y(f),b=_(),g=r("td"),v=r("div"),w=y(m),$=_(),S=r("td"),k=r("div"),x=y(A),T=_(),M=r("td"),E=r("div"),V=y(K),z=_(),P=r("td"),W=r("div"),B=r("img"),L=y(Y),C=_(),q=r("td"),h=r("div"),N=r("img"),j=y(R),J=_(),O=r("td"),re=r("div"),Q=r("img"),ue=y(ae),de=_(),a(n,"class","px-2"),a(u,"class","px-2"),a(v,"class","px-2"),a(k,"class","px-2"),a(E,"class","px-2"),a(B,"width","25px"),a(B,"class","me-2"),Ee(B.src,D="https://d36mxiodymuqjm.cloudfront.net/website/guilds/img_guild_crown_75.png")||a(B,"src",D),a(B,"alt","Crowns"),a(W,"class","px-2"),a(N,"width","25px"),a(N,"class","me-2"),Ee(N.src,U="https://d36mxiodymuqjm.cloudfront.net/website/ui_elements/shop/cl/img_sps-shard_128.png")||a(N,"src",U),a(N,"alt","SPS"),a(h,"class","px-2"),a(Q,"width","25px"),a(Q,"class","me-2"),Ee(Q.src,se="https://d36mxiodymuqjm.cloudfront.net/website/icons/img_merit_256.png")||a(Q,"src",se),a(Q,"alt","Merrits"),a(re,"class","px-2")},m(ee,ie){I(ee,e,ie),t(e,s),t(s,n),t(n,o),t(e,d),t(e,c),t(c,u),t(u,p),t(e,b),t(e,g),t(g,v),t(v,w),t(e,$),t(e,S),t(S,k),t(k,x),t(e,T),t(e,M),t(M,E),t(E,V),t(e,z),t(e,P),t(P,W),t(W,B),t(W,L),t(e,C),t(e,q),t(q,h),t(h,N),t(h,j),t(e,J),t(e,O),t(O,re),t(re,Q),t(re,ue),t(e,de)},p(ee,ie){ie&1&&i!==(i=ee[2].name+"")&&G(o,i),ie&1&&m!==(m=ee[2].wins+"")&&G(w,m),ie&1&&A!==(A=ee[2].losses+"")&&G(x,A),ie&1&&K!==(K=ee[2].draws+"")&&G(V,K),ie&1&&Y!==(Y=he(ee[2].other_payout)+"")&&G(L,Y),ie&1&&R!==(R=he(ee[2].member_sps_payout)+"")&&G(j,R),ie&1&&ae!==(ae=he(ee[2].member_merits_payout)+"")&&G(ue,ae)},d(ee){ee&&F(e)}}}function ss(l){let e,s=l[0]&&l[0].length&&Kt(l);return{c(){s&&s.c(),e=pt()},m(n,i){s&&s.m(n,i),I(n,e,i)},p(n,[i]){n[0]&&n[0].length?s?s.p(n,i):(s=Kt(n),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:fe,o:fe,d(n){s&&s.d(n),n&&F(e)}}}function ns(l,e,s){let{brawl:n}=e,i=[];return tt(()=>{var o;s(0,i=((o=n.brawl_info)==null?void 0:o.guilds)||[])}),l.$$set=o=>{"brawl"in o&&s(1,n=o.brawl)},[i,n]}class as extends Me{constructor(e){super(),Ne(this,e,ns,ss,We,{brawl:1})}}function Vt(l,e,s){const n=l.slice();return n[9]=e[s][0],n[10]=e[s][1],n[12]=s,n}function Qt(l,e,s){const n=l.slice();return n[13]=e[s],n}function Yt(l){let e,s,n,i=l[13].cycle+"",o,d,c,u,f=l[13].tournament_id+"",p,b,g,v,m,w,$,S,k=l[13].brawl_rank+"",A,x,T,M,E=l[13].wins+"",K,V,z,P,W=l[13].losses+"",B,D,Y,L,C=l[13].draws+"",q,h,N,U,R,j,J=he(l[13].other_payout)+"",O,re,Q,se,ae,ue,de=he(l[13].member_sps_payout)+"",ee,ie,Ge,be,we,te,_e=he(l[13].member_merits_payout)+"",Ae,Se,ke,ve,Ie,Ce,me,Be,pe;return m=new vt({props:{level:l[13].brawl_level}}),Ce=new as({props:{brawl:l[13]}}),{c(){e=r("tr"),s=r("td"),n=r("div"),o=y(i),d=_(),c=r("td"),u=r("div"),p=y(f),b=_(),g=r("td"),v=r("div"),xe(m.$$.fragment),w=_(),$=r("td"),S=r("div"),A=y(k),x=_(),T=r("td"),M=r("div"),K=y(E),V=_(),z=r("td"),P=r("div"),B=y(W),D=_(),Y=r("td"),L=r("div"),q=y(C),h=_(),N=r("td"),U=r("div"),R=r("img"),O=y(J),re=_(),Q=r("td"),se=r("div"),ae=r("img"),ee=y(de),ie=_(),Ge=r("td"),be=r("div"),we=r("img"),Ae=y(_e),ke=_(),ve=r("tr"),Ie=r("td"),xe(Ce.$$.fragment),me=_(),a(n,"class","px-3"),a(u,"class","px-3 text-nowrap small"),a(v,"class","px-3 text-center"),a(S,"class","px-3"),a(M,"class","px-3"),a(P,"class","px-3"),a(L,"class","px-3"),a(R,"width","25px"),a(R,"class","me-2"),Ee(R.src,j="https://d36mxiodymuqjm.cloudfront.net/website/guilds/img_guild_crown_75.png")||a(R,"src",j),a(R,"alt","Crowns"),a(U,"class","px-3"),a(ae,"width","25px"),a(ae,"class","me-2"),Ee(ae.src,ue="https://d36mxiodymuqjm.cloudfront.net/website/ui_elements/shop/cl/img_sps-shard_128.png")||a(ae,"src",ue),a(ae,"alt","SPS"),a(se,"class","px-3"),a(we,"width","25px"),a(we,"class","me-2"),Ee(we.src,te="https://d36mxiodymuqjm.cloudfront.net/website/icons/img_merit_256.png")||a(we,"src",te),a(we,"alt","Merrits"),a(be,"class","px-3"),a(e,"role","button"),a(e,"data-bs-toggle","collapse"),a(e,"data-bs-target",Se="#brawl-summary-"+l[13].tournament_id),a(e,"aria-expanded","false"),a(Ie,"colspan","10"),a(ve,"id",Be="brawl-summary-"+l[13].tournament_id),a(ve,"class","accordion-collapse collapse")},m(ne,H){I(ne,e,H),t(e,s),t(s,n),t(n,o),t(e,d),t(e,c),t(c,u),t(u,p),t(e,b),t(e,g),t(g,v),ye(m,v,null),t(e,w),t(e,$),t($,S),t(S,A),t(e,x),t(e,T),t(T,M),t(M,K),t(e,V),t(e,z),t(z,P),t(P,B),t(e,D),t(e,Y),t(Y,L),t(L,q),t(e,h),t(e,N),t(N,U),t(U,R),t(U,O),t(e,re),t(e,Q),t(Q,se),t(se,ae),t(se,ee),t(e,ie),t(e,Ge),t(Ge,be),t(be,we),t(be,Ae),I(ne,ke,H),I(ne,ve,H),t(ve,Ie),ye(Ce,Ie,null),t(ve,me),pe=!0},p(ne,H){(!pe||H&1)&&i!==(i=ne[13].cycle+"")&&G(o,i),(!pe||H&1)&&f!==(f=ne[13].tournament_id+"")&&G(p,f);const ce={};H&1&&(ce.level=ne[13].brawl_level),m.$set(ce),(!pe||H&1)&&k!==(k=ne[13].brawl_rank+"")&&G(A,k),(!pe||H&1)&&E!==(E=ne[13].wins+"")&&G(K,E),(!pe||H&1)&&W!==(W=ne[13].losses+"")&&G(B,W),(!pe||H&1)&&C!==(C=ne[13].draws+"")&&G(q,C),(!pe||H&1)&&J!==(J=he(ne[13].other_payout)+"")&&G(O,J),(!pe||H&1)&&de!==(de=he(ne[13].member_sps_payout)+"")&&G(ee,de),(!pe||H&1)&&_e!==(_e=he(ne[13].member_merits_payout)+"")&&G(Ae,_e),(!pe||H&1&&Se!==(Se="#brawl-summary-"+ne[13].tournament_id))&&a(e,"data-bs-target",Se);const X={};H&1&&(X.brawl=ne[13]),Ce.$set(X),(!pe||H&1&&Be!==(Be="brawl-summary-"+ne[13].tournament_id))&&a(ve,"id",Be)},i(ne){pe||(Z(m.$$.fragment,ne),Z(Ce.$$.fragment,ne),pe=!0)},o(ne){oe(m.$$.fragment,ne),oe(Ce.$$.fragment,ne),pe=!1},d(ne){ne&&F(e),$e(m),ne&&F(ke),ne&&F(ve),$e(Ce)}}}function Xt(l){let e,s,n,i=l[9]+"",o,d,c,u,f=l[10].wins+"",p,b,g,v,m=l[10].losses+"",w,$,S,k,A=l[10].draws+"",x,T,M,E,K=l[10].total_battles+"",V,z,P,W,B=Number(l[10].wins/l[10].entered_battles*100).toFixed(2)+"",D,Y,L;return{c(){e=r("tr"),s=r("td"),n=r("div"),o=y(i),d=_(),c=r("td"),u=r("div"),p=y(f),b=_(),g=r("td"),v=r("div"),w=y(m),$=_(),S=r("td"),k=r("div"),x=y(A),T=_(),M=r("td"),E=r("div"),V=y(K),z=_(),P=r("td"),W=r("div"),D=y(B),Y=y("%"),L=_(),a(n,"class","px-3 text-info"),a(s,"class","text-nowrap"),a(u,"class","px-3"),a(c,"class","text-nowrap"),a(v,"class","px-3"),a(g,"class","text-nowrap"),a(k,"class","px-3"),a(S,"class","text-nowrap"),a(E,"class","px-3"),a(M,"class","text-nowrap"),a(W,"class","px-3"),a(P,"class","text-nowrap")},m(C,q){I(C,e,q),t(e,s),t(s,n),t(n,o),t(e,d),t(e,c),t(c,u),t(u,p),t(e,b),t(e,g),t(g,v),t(v,w),t(e,$),t(e,S),t(S,k),t(k,x),t(e,T),t(e,M),t(M,E),t(E,V),t(e,z),t(e,P),t(P,W),t(W,D),t(W,Y),t(e,L)},p(C,q){q&2&&i!==(i=C[9]+"")&&G(o,i),q&2&&f!==(f=C[10].wins+"")&&G(p,f),q&2&&m!==(m=C[10].losses+"")&&G(w,m),q&2&&A!==(A=C[10].draws+"")&&G(x,A),q&2&&K!==(K=C[10].total_battles+"")&&G(V,K),q&2&&B!==(B=Number(C[10].wins/C[10].entered_battles*100).toFixed(2)+"")&&G(D,B)},d(C){C&&F(e)}}}function is(l){let e,s,n,i,o,d,c,u,f,p,b=l[4].brawl_rank+"",g,v,m,w,$,S=l[4].wins+"",k,A,x,T,M,E=l[4].battles+"",K,V,z,P,W,B=l[4].win_rate+"",D,Y,L,C,q,h,N,U,R,j,J,O,re,Q,se,ae,ue,de,ee,ie,Ge,be,we,te,_e,Ae,Se,ke,ve,Ie,Ce=l[0],me=[];for(let H=0;H<Ce.length;H+=1)me[H]=Yt(Qt(l,Ce,H));const Be=H=>oe(me[H],1,1,()=>{me[H]=null});let pe=Object.entries(l[1]),ne=[];for(let H=0;H<pe.length;H+=1)ne[H]=Xt(Vt(l,pe,H));return{c(){e=r("div"),s=r("div"),n=r("div"),i=r("button"),o=r("div"),d=r("div"),c=y(`Past brawls\r
            `),u=r("span"),f=r("span"),f.textContent="Ave placement:",p=_(),g=y(b),v=_(),m=r("span"),w=r("span"),w.textContent="Wins:",$=_(),k=y(S),A=_(),x=r("span"),T=r("span"),T.textContent="Battles:",M=_(),K=y(E),V=_(),z=r("span"),P=r("span"),P.textContent="Win rate:",W=_(),D=y(B),Y=y("%"),L=_(),C=r("div"),q=r("div"),h=r("strong"),h.textContent="Cycle",N=_(),U=r("div"),R=r("input"),j=_(),J=r("div"),O=r("input"),re=_(),Q=r("button"),Q.textContent="Apply",se=_(),ae=r("div"),ue=r("table"),de=r("thead"),de.innerHTML=`<tr class="bg-darker"><th class="px-3">Cycle</th> 
              <th class="px-3">ID</th> 
              <th class="px-3 text-center">Tier</th> 
              <th class="px-3">Place</th> 
              <th class="px-3">Wins</th> 
              <th class="px-3">Losses</th> 
              <th class="px-3">Draws</th> 
              <th class="px-3">Crowns</th> 
              <th class="px-3">SPS</th> 
              <th class="px-3">Merits</th></tr>`,ee=_(),ie=r("tbody");for(let H=0;H<me.length;H+=1)me[H].c();Ge=_(),be=r("div"),we=r("div"),te=r("table"),_e=r("thead"),_e.innerHTML=`<tr class="sticky-top bg-darker"><th class="px-3">Members</th> 
                <th class="px-3">Wins</th> 
                <th class="px-3">Losses</th> 
                <th class="px-3">Draws</th> 
                <th class="px-3">Battles</th> 
                <th class="px-3 text-nowrap">Win rate</th></tr>`,Ae=_(),Se=r("tbody");for(let H=0;H<ne.length;H+=1)ne[H].c();a(f,"class","text-muted"),a(u,"class","ms-3 badge bg-primary"),a(w,"class","text-muted"),a(m,"class","ms-3 badge bg-primary"),a(T,"class","text-muted"),a(x,"class","ms-3 badge bg-primary"),a(P,"class","text-muted"),a(z,"class","ms-3 badge bg-primary"),a(d,"class","h5 mb-0"),a(o,"class","d-flex flex-wrap"),a(i,"class","accordion-button text-light bg-dark"),a(i,"type","button"),a(i,"data-bs-toggle","collapse"),a(i,"data-bs-target","#brawl-cycle"),a(i,"aria-expanded","true"),a(i,"aria-controls","guild-brawl-results"),a(n,"class","accordion-header"),a(n,"id","brawl-cycle-heading"),a(h,"class","mb-0 me-3"),a(R,"id","cycleStart"),a(R,"type","number"),a(R,"class","form-control form-control-sm bg-dark text-light"),a(R,"placeholder","From"),a(U,"class","me-2 d-flex align-items-center"),a(O,"id","cycleEnd"),a(O,"type","number"),a(O,"class","form-control form-control-sm bg-dark text-light"),a(O,"placeholder","To"),a(J,"class","me-2 d-flex align-items-center"),a(Q,"class","btn btn-sm btn-primary"),a(q,"class","d-flex justify-content-end align-items-center px-3 mb-3"),a(ue,"class","table table-sm table-hover align-middle mb-0"),a(ae,"class","table-responsive max-h-500 border border-primary"),a(te,"class","table table-sm align-middle table-fixed mb-0"),a(we,"class","table-responsive max-h-500 border border-primary"),a(be,"id","player-brawl-result"),a(be,"class","accordion-collapse collapse show"),a(C,"id","brawl-cycle"),a(C,"class","accordion-collapse collapse show"),a(s,"class","accordion-item"),a(e,"class","accordion accordion-flush border border-primary mb-3")},m(H,ce){I(H,e,ce),t(e,s),t(s,n),t(n,i),t(i,o),t(o,d),t(d,c),t(d,u),t(u,f),t(u,p),t(u,g),t(d,v),t(d,m),t(m,w),t(m,$),t(m,k),t(d,A),t(d,x),t(x,T),t(x,M),t(x,K),t(d,V),t(d,z),t(z,P),t(z,W),t(z,D),t(z,Y),t(s,L),t(s,C),t(C,q),t(q,h),t(q,N),t(q,U),t(U,R),He(R,l[2]),t(q,j),t(q,J),t(J,O),He(O,l[3]),t(q,re),t(q,Q),t(C,se),t(C,ae),t(ae,ue),t(ue,de),t(ue,ee),t(ue,ie);for(let X=0;X<me.length;X+=1)me[X].m(ie,null);t(C,Ge),t(C,be),t(be,we),t(we,te),t(te,_e),t(te,Ae),t(te,Se);for(let X=0;X<ne.length;X+=1)ne[X].m(Se,null);ke=!0,ve||(Ie=[je(R,"input",l[6]),je(O,"input",l[7]),je(Q,"click",l[5])],ve=!0)},p(H,[ce]){if((!ke||ce&16)&&b!==(b=H[4].brawl_rank+"")&&G(g,b),(!ke||ce&16)&&S!==(S=H[4].wins+"")&&G(k,S),(!ke||ce&16)&&E!==(E=H[4].battles+"")&&G(K,E),(!ke||ce&16)&&B!==(B=H[4].win_rate+"")&&G(D,B),ce&4&&it(R.value)!==H[2]&&He(R,H[2]),ce&8&&it(O.value)!==H[3]&&He(O,H[3]),ce&1){Ce=H[0];let X;for(X=0;X<Ce.length;X+=1){const le=Qt(H,Ce,X);me[X]?(me[X].p(le,ce),Z(me[X],1)):(me[X]=Yt(le),me[X].c(),Z(me[X],1),me[X].m(ie,null))}for(Le(),X=Ce.length;X<me.length;X+=1)Be(X);Fe()}if(ce&2){pe=Object.entries(H[1]);let X;for(X=0;X<pe.length;X+=1){const le=Vt(H,pe,X);ne[X]?ne[X].p(le,ce):(ne[X]=Xt(le),ne[X].c(),ne[X].m(Se,null))}for(;X<ne.length;X+=1)ne[X].d(1);ne.length=pe.length}},i(H){if(!ke){for(let ce=0;ce<Ce.length;ce+=1)Z(me[ce]);ke=!0}},o(H){me=me.filter(Boolean);for(let ce=0;ce<me.length;ce+=1)oe(me[ce]);ke=!1},d(H){H&&F(e),Ue(me,H),Ue(ne,H),ve=!1,Je(Ie)}}}function rs(l,e,s){let n;Re(l,Pe,g=>s(8,n=g));let i=[],o={},d="",c="",u={brawl_rank:0,battles:0,win_rate:0,draws:0,losses:0,wins:0};const f=async()=>{const g=n.id,v=d||n.brawl_stats.start_cycle,m=c||n.brawl_stats.end_cycle;if(Number(m)<Number(v)){alert("Invalid cycle from or cycle to value");return}const w=await Dl(g,v,m);s(4,u={brawl_rank:0,battles:0,win_rate:0,draws:0,losses:0,wins:0}),s(1,o={}),w.forEach(S=>{s(4,u.brawl_rank+=S.brawl_rank,u),s(4,u.battles+=S.draws+S.losses+S.wins,u),s(4,u.wins+=S.wins,u)}),s(4,u.brawl_rank=Math.round(u.brawl_rank/w.length),u),s(4,u.win_rate=Math.round(u.wins/u.battles*100),u);const $={};for(let S of w){const k=await gt({tournament_id:S.tournament_id,id:S.guild_id});S.brawl_info=k,k&&k.players&&k.players.forEach(A=>{const{brawl_level:x,draws:T,entered_battles:M,finish:E,fray_index:K,losses:V,meta_pts:z,total_battles:P,wins:W,player:B}=A;$[B]||($[B]=[]),$[B]=[...$[B],{brawl_level:x,draws:T,entered_battles:M,finish:E,fray_index:K,losses:V,meta_pts:z,total_battles:P,wins:W}]})}for(const S in $)o[S]||s(1,o[S]={},o),$[S].reduce((k,A)=>(k||(k={draws:0,entered_battles:0,finish:0,losses:0,meta_pts:0,total_battles:0,wins:0,frays:{}},s(1,o[S]=k,o)),k.draws+=A.draws,k.entered_battles+=A.entered_battles,k.finish+=A.finish,k.losses+=A.losses,k.meta_pts+=A.meta_pts,k.total_battles+=A.total_battles,k.wins+=A.wins,k),null);s(0,i=w)};tt(async()=>{await f()});function p(){d=it(this.value),s(2,d)}function b(){c=it(this.value),s(3,c)}return[i,o,d,c,u,f,p,b]}class os extends Me{constructor(e){super(),Ne(this,e,rs,is,We,{})}}function Zt(l){let e,s,n,i,o=l[0].name+"",d,c,u,f,p,b,g,v,m,w,$,S,k,A,x,T,M=l[0].rank+"",E,K,V,z,P,W=he(l[0].rating)+"",B,D,Y,L,C,q,h,N,U,R,j,J,O,re,Q,se,ae,ue,de;g=new ul({props:{data:l[0].data,size:"large"}}),w=new vt({props:{level:l[0].brawl_level}}),L=new cl({props:{buildings:l[0].buildings}});let ee=l[0].description&&el(l),ie=l[1]&&l[1].length&&tl(l);U=new Il({}),j=new os({});const Ge=[us,cs,ds],be=[];function we(te,_e){return te[0].tournament_status?0:te[0].tournament_status===0?1:2}return Q=we(l),se=be[Q]=Ge[Q](l),{c(){e=r("div"),s=r("div"),n=r("div"),i=r("h2"),d=y(o),c=_(),u=r("button"),u.innerHTML='<span aria-hidden="true">\xD7</span>',f=_(),p=r("div"),b=r("div"),xe(g.$$.fragment),v=_(),m=r("h2"),xe(w.$$.fragment),$=_(),S=r("div"),k=r("div"),A=r("span"),x=y("Rank: "),T=r("strong"),E=y(M),K=_(),V=r("span"),z=y("Rating: \xA0"),P=r("strong"),B=y(W),D=_(),Y=r("div"),xe(L.$$.fragment),C=_(),ee&&ee.c(),q=_(),h=r("div"),ie&&ie.c(),N=_(),xe(U.$$.fragment),R=_(),xe(j.$$.fragment),J=_(),O=r("div"),re=r("div"),se.c(),a(i,"class","h2 text-info"),a(u,"class","btn btn-sm btn-primary ms-auto close"),a(u,"aria-label","close"),a(n,"class","d-flex py-2 px-3 align-items-center"),a(m,"class","h2 text-center"),a(T,"class","text-info"),a(A,"class","me-2"),a(P,"class","text-info"),a(k,"class","mb-2"),a(Y,"class","mb-2"),a(S,"class","px-3"),a(p,"class","d-flex mb-4 p-3 rounded"),a(s,"class","bg-dark"),a(h,"class","accordion accordion-flush mb-3"),a(re,"class","accordion-item"),a(O,"class","accordion accordion-flush mb-3"),a(e,"class","mb-5")},m(te,_e){I(te,e,_e),t(e,s),t(s,n),t(n,i),t(i,d),t(n,c),t(n,u),t(s,f),t(s,p),t(p,b),ye(g,b,null),t(b,v),t(b,m),ye(w,m,null),t(p,$),t(p,S),t(S,k),t(k,A),t(A,x),t(A,T),t(T,E),t(k,K),t(k,V),t(V,z),t(V,P),t(P,B),t(S,D),t(S,Y),ye(L,Y,null),t(S,C),ee&&ee.m(S,null),t(e,q),t(e,h),ie&&ie.m(h,null),t(e,N),ye(U,e,null),t(e,R),ye(j,e,null),t(e,J),t(e,O),t(O,re),be[Q].m(re,null),ae=!0,ue||(de=je(u,"click",l[2]),ue=!0)},p(te,_e){(!ae||_e&1)&&o!==(o=te[0].name+"")&&G(d,o);const Ae={};_e&1&&(Ae.data=te[0].data),g.$set(Ae);const Se={};_e&1&&(Se.level=te[0].brawl_level),w.$set(Se),(!ae||_e&1)&&M!==(M=te[0].rank+"")&&G(E,M),(!ae||_e&1)&&W!==(W=he(te[0].rating)+"")&&G(B,W);const ke={};_e&1&&(ke.buildings=te[0].buildings),L.$set(ke),te[0].description?ee?ee.p(te,_e):(ee=el(te),ee.c(),ee.m(S,null)):ee&&(ee.d(1),ee=null),te[1]&&te[1].length?ie?(ie.p(te,_e),_e&2&&Z(ie,1)):(ie=tl(te),ie.c(),Z(ie,1),ie.m(h,null)):ie&&(Le(),oe(ie,1,1,()=>{ie=null}),Fe());let ve=Q;Q=we(te),Q===ve?be[Q].p(te,_e):(Le(),oe(be[ve],1,1,()=>{be[ve]=null}),Fe(),se=be[Q],se?se.p(te,_e):(se=be[Q]=Ge[Q](te),se.c()),Z(se,1),se.m(re,null))},i(te){ae||(Z(g.$$.fragment,te),Z(w.$$.fragment,te),Z(L.$$.fragment,te),Z(ie),Z(U.$$.fragment,te),Z(j.$$.fragment,te),Z(se),ae=!0)},o(te){oe(g.$$.fragment,te),oe(w.$$.fragment,te),oe(L.$$.fragment,te),oe(ie),oe(U.$$.fragment,te),oe(j.$$.fragment,te),oe(se),ae=!1},d(te){te&&F(e),$e(g),$e(w),$e(L),ee&&ee.d(),ie&&ie.d(),$e(U),$e(j),be[Q].d(),ue=!1,de()}}}function el(l){let e,s=l[0].description+"",n;return{c(){e=r("div"),n=y(s),a(e,"class","small")},m(i,o){I(i,e,o),t(e,n)},p(i,o){o&1&&s!==(s=i[0].description+"")&&G(n,s)},d(i){i&&F(e)}}}function tl(l){let e,s,n,i,o,d,c,u=l[0].num_members+"",f,p,b,g,v;return g=new xl({}),{c(){e=r("div"),s=r("div"),n=r("button"),i=r("div"),o=y("Members "),d=r("span"),c=r("span"),c.textContent="total ",f=y(u),p=_(),b=r("div"),xe(g.$$.fragment),a(c,"class","text-muted"),a(d,"class","mx-3 badge bg-primary"),a(i,"class","h5 mb-0"),a(n,"class","accordion-button text-light bg-dark"),a(n,"data-bs-toggle","collapse"),a(n,"data-bs-target","#guild-members"),a(n,"aria-expanded","true"),a(n,"aria-controls","guild-members"),a(s,"class","accordion-header"),a(b,"id","guild-members"),a(b,"class","accordion-collapse collapse show"),a(e,"class","accordion-item")},m(m,w){I(m,e,w),t(e,s),t(s,n),t(n,i),t(i,o),t(i,d),t(d,c),t(d,f),t(e,p),t(e,b),ye(g,b,null),v=!0},p(m,w){(!v||w&1)&&u!==(u=m[0].num_members+"")&&G(f,u)},i(m){v||(Z(g.$$.fragment,m),v=!0)},o(m){oe(g.$$.fragment,m),v=!1},d(m){m&&F(e),$e(g)}}}function ds(l){let e;return{c(){e=r("div"),e.textContent="No participation",a(e,"class","h1 text-center")},m(s,n){I(s,e,n)},p:fe,i:fe,o:fe,d(s){s&&F(e)}}}function cs(l){let e,s,n,i=ot[l[0].tournament_status]+"",o;return{c(){e=r("div"),s=r("strong"),s.textContent="Current Brawl",n=y(" : "),o=y(i),a(e,"class","p-3")},m(d,c){I(d,e,c),t(e,s),t(e,n),t(e,o)},p(d,c){c&1&&i!==(i=ot[d[0].tournament_status]+"")&&G(o,i)},i:fe,o:fe,d(d){d&&F(e)}}}function us(l){let e,s;return e=new Xl({}),{c(){xe(e.$$.fragment)},m(n,i){ye(e,n,i),s=!0},p:fe,i(n){s||(Z(e.$$.fragment,n),s=!0)},o(n){oe(e.$$.fragment,n),s=!1},d(n){$e(e,n)}}}function fs(l){let e,s,n=l[0]&&Zt(l);return{c(){n&&n.c(),e=pt()},m(i,o){n&&n.m(i,o),I(i,e,o),s=!0},p(i,[o]){i[0]?n?(n.p(i,o),o&1&&Z(n,1)):(n=Zt(i),n.c(),Z(n,1),n.m(e.parentNode,e)):n&&(Le(),oe(n,1,1,()=>{n=null}),Fe())},i(i){s||(Z(n),s=!0)},o(i){oe(n),s=!1},d(i){n&&n.d(i),i&&F(e)}}}function ps(l,e,s){let n,i,o;return Re(l,Xe,c=>s(3,n=c)),Re(l,Pe,c=>s(0,i=c)),Re(l,et,c=>s(1,o=c)),[i,o,()=>{De(et,o=[],o),De(Pe,i=null,i),De(Xe,n="",n),ft("guild","")}]}class ms extends Me{constructor(e){super(),Ne(this,e,ps,fs,We,{})}}function ll(l,e,s){const n=l.slice();return n[8]=e[s],n}function sl(l){let e,s,n,i,o,d=l[8].name+"",c,u,f,p=l[8].rank+"",b,g,v,m,w,$,S=(Number(l[8].rating)/1e3).toFixed(1)+"",k,A,x,T,M,E,K,V=l[8].num_members+"",z,P,W,B,D;i=new ul({props:{data:l[8].data}}),m=new vt({props:{level:l[8].brawl_level}}),M=new cl({props:{buildings:l[8].buildings}});function Y(){return l[5](l[8])}return{c(){e=r("tr"),s=r("td"),n=r("div"),xe(i.$$.fragment),o=_(),c=y(d),u=_(),f=r("td"),b=y(p),g=_(),v=r("td"),xe(m.$$.fragment),w=_(),$=r("td"),k=y(S),A=y("K"),x=_(),T=r("td"),xe(M.$$.fragment),E=_(),K=r("td"),z=y(V),P=_(),a(n,"class","px-3"),a(s,"class","text-nowrap"),a(f,"class","text-center"),a(v,"class","text-center"),a($,"class","text-center"),a(K,"class","text-center"),a(e,"class","pointer"),Ke(e,"d-none",!String(l[8].name).trim().toLowerCase().includes(l[1].trim().toLowerCase()))},m(L,C){I(L,e,C),t(e,s),t(s,n),ye(i,n,null),t(n,o),t(n,c),t(e,u),t(e,f),t(f,b),t(e,g),t(e,v),ye(m,v,null),t(e,w),t(e,$),t($,k),t($,A),t(e,x),t(e,T),ye(M,T,null),t(e,E),t(e,K),t(K,z),t(e,P),W=!0,B||(D=je(e,"click",Y),B=!0)},p(L,C){l=L;const q={};C&4&&(q.data=l[8].data),i.$set(q),(!W||C&4)&&d!==(d=l[8].name+"")&&G(c,d),(!W||C&4)&&p!==(p=l[8].rank+"")&&G(b,p);const h={};C&4&&(h.level=l[8].brawl_level),m.$set(h),(!W||C&4)&&S!==(S=(Number(l[8].rating)/1e3).toFixed(1)+"")&&G(k,S);const N={};C&4&&(N.buildings=l[8].buildings),M.$set(N),(!W||C&4)&&V!==(V=l[8].num_members+"")&&G(z,V),C&6&&Ke(e,"d-none",!String(l[8].name).trim().toLowerCase().includes(l[1].trim().toLowerCase()))},i(L){W||(Z(i.$$.fragment,L),Z(m.$$.fragment,L),Z(M.$$.fragment,L),W=!0)},o(L){oe(i.$$.fragment,L),oe(m.$$.fragment,L),oe(M.$$.fragment,L),W=!1},d(L){L&&F(e),$e(i),$e(m),$e(M),B=!1,D()}}}function _s(l){let e,s,n,i,o,d,c,u,f,p,b,g,v,m,w=l[2],$=[];for(let k=0;k<w.length;k+=1)$[k]=sl(ll(l,w,k));const S=k=>oe($[k],1,1,()=>{$[k]=null});return{c(){e=r("div"),s=r("div"),n=r("h1"),n.textContent="Splinterlands Guilds",i=_(),o=r("input"),d=_(),c=r("div"),u=r("table"),f=r("thead"),f.innerHTML=`<tr><th><div class="px-3">Guilds</div></th> 
          <th class="text-center">Rank</th> 
          <th class="text-center">Tier</th> 
          <th class="text-center">Rating</th> 
          <th class="text-center">Buildings</th> 
          <th class="text-center">Members</th></tr>`,p=_(),b=r("tbody");for(let k=0;k<$.length;k+=1)$[k].c();a(n,"class","h4 mb-0"),a(o,"class","form-control-sm"),a(o,"type","text"),a(o,"placeholder","Search"),a(s,"class","d-flex justify-content-between align-items-end mb-2"),a(f,"class","sticky-top bg-darker"),a(u,"class","table table-hover align-middle mb-0"),a(c,"class","table-responsive bg-dark max-h-500"),a(e,"class","mb-5 svelte-faikiu"),Ke(e,"disabled",l[0])},m(k,A){I(k,e,A),t(e,s),t(s,n),t(s,i),t(s,o),He(o,l[1]),t(e,d),t(e,c),t(c,u),t(u,f),t(u,p),t(u,b);for(let x=0;x<$.length;x+=1)$[x].m(b,null);g=!0,v||(m=je(o,"input",l[4]),v=!0)},p(k,[A]){if(A&2&&o.value!==k[1]&&He(o,k[1]),A&14){w=k[2];let x;for(x=0;x<w.length;x+=1){const T=ll(k,w,x);$[x]?($[x].p(T,A),Z($[x],1)):($[x]=sl(T),$[x].c(),Z($[x],1),$[x].m(b,null))}for(Le(),x=w.length;x<$.length;x+=1)S(x);Fe()}A&1&&Ke(e,"disabled",k[0])},i(k){if(!g){for(let A=0;A<w.length;A+=1)Z($[A]);g=!0}},o(k){$=$.filter(Boolean);for(let A=0;A<$.length;A+=1)oe($[A]);g=!1},d(k){k&&F(e),Ue($,k),v=!1,m()}}}function bs(l,e,s){let n,i,o,d,c;Re(l,Te,b=>s(0,n=b)),Re(l,Pe,b=>s(6,i=b)),Re(l,Xe,b=>s(1,o=b)),Re(l,et,b=>s(7,d=b)),Re(l,kt,b=>s(2,c=b)),tt(async()=>{De(Te,n=!0,n);const b=await Wl();kt.set(b);const v=new URLSearchParams(window.location.search).get("guild");v&&(await u(v),ft("guild",v)),De(Te,n=!1,n)});const u=async b=>{De(Te,n=!0,n),De(Pe,i=await Nl(b),i),De(et,d=await Ml(b),d),De(Xe,o=i.name,o),ft("guild",b),De(Te,n=!1,n)};function f(){o=this.value,Xe.set(o)}return[n,o,c,u,f,b=>u(b.id)]}class gs extends Me{constructor(e){super(),Ne(this,e,bs,_s,We,{})}}function nl(l){let e,s;return e=new ms({}),{c(){xe(e.$$.fragment)},m(n,i){ye(e,n,i),s=!0},i(n){s||(Z(e.$$.fragment,n),s=!0)},o(n){oe(e.$$.fragment,n),s=!1},d(n){$e(e,n)}}}function al(l){let e,s,n;return s=new ht({}),{c(){e=r("div"),xe(s.$$.fragment),a(e,"class","text-center my-5")},m(i,o){I(i,e,o),ye(s,e,null),n=!0},i(i){n||(Z(s.$$.fragment,i),n=!0)},o(i){oe(s.$$.fragment,i),n=!1},d(i){i&&F(e),$e(s)}}}function hs(l){let e,s,n,i,o,d,c,u,f,p,b,g,v;n=new gs({});let m=l[0]&&!l[1]&&nl(),w=l[1]&&al();return{c(){e=r("main"),s=r("div"),xe(n.$$.fragment),i=_(),m&&m.c(),o=_(),w&&w.c(),d=_(),c=r("footer"),u=r("div"),f=y(`IGN:\r
        `),p=r("span"),p.textContent="NEVERMELTICE",a(p,"role","button"),a(p,"class","badge bg-primary text-secondary"),a(p,"title","click to copy"),a(u,"class","text-end text-muted my-5"),a(s,"class","container"),a(e,"class","bg-primary pt-3 text-body min-vh-100 font-monospace")},m($,S){I($,e,S),t(e,s),ye(n,s,null),t(s,i),m&&m.m(s,null),t(s,o),w&&w.m(s,null),t(s,d),t(s,c),t(c,u),t(u,f),t(u,p),b=!0,g||(v=je(p,"click",vs),g=!0)},p($,[S]){$[0]&&!$[1]?m?S&3&&Z(m,1):(m=nl(),m.c(),Z(m,1),m.m(s,o)):m&&(Le(),oe(m,1,1,()=>{m=null}),Fe()),$[1]?w?S&2&&Z(w,1):(w=al(),w.c(),Z(w,1),w.m(s,d)):w&&(Le(),oe(w,1,1,()=>{w=null}),Fe())},i($){b||(Z(n.$$.fragment,$),Z(m),Z(w),b=!0)},o($){oe(n.$$.fragment,$),oe(m),oe(w),b=!1},d($){$&&F(e),$e(n),m&&m.d(),w&&w.d(),g=!1,v()}}}function vs(){navigator.clipboard.writeText("nevermeltice"),alert("Copied!")}function ws(l,e,s){let n,i;return Re(l,Pe,o=>s(0,n=o)),Re(l,Te,o=>s(1,i=o)),[n,i]}class ys extends Me{constructor(e){super(),Ne(this,e,ws,hs,We,{})}}new ys({target:document.getElementById("app")});
