(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();function ct(){}function Pe(l){return l()}function fe(){return Object.create(null)}function Tt(l){l.forEach(Pe)}function Ve(l){return typeof l=="function"}function $t(l,t){return l!=l?t==t:l!==t||l&&typeof l=="object"||typeof l=="function"}let Zt;function St(l,t){return Zt||(Zt=document.createElement("a")),Zt.href=t,l===Zt.href}function Qe(l){return Object.keys(l).length===0}function Ye(l,...t){if(l==null)return ct;const s=l.subscribe(...t);return s.unsubscribe?()=>s.unsubscribe():s}function ht(l,t,s){l.$$.on_destroy.push(Ye(t,s))}function At(l,t,s){return l.set(s),t}function e(l,t){l.appendChild(t)}function tt(l,t,s){l.insertBefore(t,s||null)}function Z(l){l.parentNode.removeChild(l)}function Mt(l,t){for(let s=0;s<l.length;s+=1)l[s]&&l[s].d(t)}function r(l){return document.createElement(l)}function y(l){return document.createTextNode(l)}function _(){return y(" ")}function Oe(){return y("")}function Nt(l,t,s,n){return l.addEventListener(t,s,n),()=>l.removeEventListener(t,s,n)}function a(l,t,s){s==null?l.removeAttribute(t):l.getAttribute(t)!==s&&l.setAttribute(t,s)}function ne(l){return l===""?null:+l}function Xe(l){return Array.from(l.childNodes)}function G(l,t){t=""+t,l.wholeText!==t&&(l.data=t)}function Pt(l,t){l.value=t==null?"":t}function Ot(l,t,s){l.classList[s?"add":"remove"](t)}let Qt;function Jt(l){Qt=l}function Ze(){if(!Qt)throw new Error("Function called outside component initialization");return Qt}function de(l){Ze().$$.on_mount.push(l)}const Kt=[],me=[],le=[],pe=[],tl=Promise.resolve();let ie=!1;function el(){ie||(ie=!0,tl.then(qe))}function re(l){le.push(l)}const ae=new Set;let te=0;function qe(){const l=Qt;do{for(;te<Kt.length;){const t=Kt[te];te++,Jt(t),ll(t.$$)}for(Jt(null),Kt.length=0,te=0;me.length;)me.pop()();for(let t=0;t<le.length;t+=1){const s=le[t];ae.has(s)||(ae.add(s),s())}le.length=0}while(Kt.length);for(;pe.length;)pe.pop()();ie=!1,ae.clear(),Jt(l)}function ll(l){if(l.fragment!==null){l.update(),Tt(l.before_update);const t=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,t),l.after_update.forEach(re)}}const se=new Set;let Bt;function qt(){Bt={r:0,c:[],p:Bt}}function It(){Bt.r||Tt(Bt.c),Bt=Bt.p}function nt(l,t){l&&l.i&&(se.delete(l),l.i(t))}function rt(l,t,s,n){if(l&&l.o){if(se.has(l))return;se.add(l),Bt.c.push(()=>{se.delete(l),n&&(s&&l.d(1),n())}),l.o(t)}else n&&n()}function bt(l){l&&l.c()}function _t(l,t,s,n){const{fragment:i,on_mount:o,on_destroy:d,after_update:u}=l.$$;i&&i.m(t,s),n||re(()=>{const c=o.map(Pe).filter(Ve);d?d.push(...c):Tt(c),l.$$.on_mount=[]}),u.forEach(re)}function gt(l,t){const s=l.$$;s.fragment!==null&&(Tt(s.on_destroy),s.fragment&&s.fragment.d(t),s.on_destroy=s.fragment=null,s.ctx=[])}function sl(l,t){l.$$.dirty[0]===-1&&(Kt.push(l),el(),l.$$.dirty.fill(0)),l.$$.dirty[t/31|0]|=1<<t%31}function kt(l,t,s,n,i,o,d,u=[-1]){const c=Qt;Jt(l);const m=l.$$={fragment:null,ctx:null,props:o,update:ct,not_equal:i,bound:fe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:fe(),dirty:u,skip_bound:!1,root:t.target||c.$$.root};d&&d(m.root);let p=!1;if(m.ctx=s?s(l,t.props||{},(f,b,...k)=>{const g=k.length?k[0]:b;return m.ctx&&i(m.ctx[f],m.ctx[f]=g)&&(!m.skip_bound&&m.bound[f]&&m.bound[f](g),p&&sl(l,f)),b}):[],m.update(),p=!0,Tt(m.before_update),m.fragment=n?n(m.ctx):!1,t.target){if(t.hydrate){const f=Xe(t.target);m.fragment&&m.fragment.l(f),f.forEach(Z)}else m.fragment&&m.fragment.c();t.intro&&nt(l.$$.fragment),_t(l,t.target,t.anchor,t.customElement),qe()}Jt(c)}class Ct{$destroy(){gt(this,1),this.$destroy=ct}$on(t,s){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(s),()=>{const i=n.indexOf(s);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!Qe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Et=[];function Xt(l,t=ct){let s;const n=new Set;function i(u){if($t(l,u)&&(l=u,s)){const c=!Et.length;for(const m of n)m[1](),Et.push(m,l);if(c){for(let m=0;m<Et.length;m+=2)Et[m][0](Et[m+1]);Et.length=0}}}function o(u){i(u(l))}function d(u,c=ct){const m=[u,c];return n.add(m),n.size===1&&(s=t(i)||ct),u(l),()=>{n.delete(m),n.size===0&&(s(),s=null)}}return{set:i,update:o,subscribe:d}}const _e=Xt([]),Ft=Xt(null),Yt=Xt([]),zt=Xt(!1),Vt=Xt(""),ce="https://api2.splinterlands.com",Ie="https://game-api.splinterlands.io",ge="https://d36mxiodymuqjm.cloudfront.net/website",ee={0:"Novice",1:"Bronze 3",2:"Bronze 2",3:"Bronze 1",4:"Silver 3",5:"Silver 2",6:"Silver 1",7:"Gold 3",8:"Gold 2",9:"Gold 1",10:"Diamond 3",11:"Diamond 2",12:"Diamond 1",13:"Champion 3",14:"Champion 2",15:"Champion 1"},Te={1:{tier:1},2:{tier:1},3:{tier:2},4:{tier:2},5:{tier:3},6:{tier:3},7:{tier:4},8:{tier:4},9:{tier:5},10:{tier:5}},nl={1:["1 All Novice","2	All Novice","3	Chaos + RW Novice","4	U+D+C+RW Novice","5	All Bronze","6	All Bronze","7	Chaos + RW Bronze","8	All Silver","9	All Silver","10	Chaos + RW Silver","11	All	Gold Foil	Bronze","12	Chaos + RW	Gold Foil	Bronze","13	U+D+C+RW	Gold Foil	Bronze"],2:["1 All Novice","2	Chaos + RW Novice","3	All Bronze","4	All Bronze","5	Chaos + RW Bronze","6	A+B+P+R Bronze","7	All Silver","8	All Silver","9	Chaos + RW Silver","10	U+D+C+RW Silver","11	All","12	U+D+C+RW","13	All	Gold Foil	Bronze","14	U+D+C+RW Gold Foil	Bronze","15	All	Gold Foil	Silver","16	U+D+C+RW Gold Foil	Silver"],3:["1	All Bronze","2	U+D+C+RW Bronze","3	All Silver","4	All Silver","5	U+D+C+RW Silver","6	A+B+P+R Silver","7	All","8	All","9	All","10	U+D+C+RW","11	Alpha Beta Promo Reward","12	All Max","13	U+D+C+RW Max","14	All	Gold Foil	Bronze","15	All	Gold Foil	Silver","16	U+D+C+RW	Gold Foil	Silver","17	All	Gold Foil	Gold","18	U+D+C+RW	Gold Foil	Gold"],4:["1	All Silver","2	All Silver","3	U+D+C+RW Silver","4	U+D+C+RW Silver","5	All","6	All","7	All","8	U+D+C+RW","9	U+D+C+RW","10	Alpha","11	All Max","12	All Max","13	U+D+C+RW Max","14	U+D+C+RW Max","15	Alpha Beta Promo Reward Max","16	All	Gold Foil	Bronze","17	All	Gold Foil	Silver","18	U+D+C+RW	Gold Foil	Silver","19	All	Gold Foil	Gold","20	U+D+C+RW	Gold Foil	Gold","21	All	Gold Foil	Max"],5:["1	All Silver","2	U+D+C+RW Silver","3	All","4	All","5	All","6	U+D+C+RW","7	U+D+C+RW","8	U+D+C+RW","9	All Max","10	All Max","11	All Max","12	All Max","13	All Max","14	U+D+C+RW Max","15	U+D+C+RW Max","16	U+D+C+RW Max","17	Alpha Max","18	Alpha Beta Promo Reward Max","19	All	Gold Foil	Silver","20	U+D+C+RW	Gold Foil	Silver","21	All	Gold Foil	Gold","22	U+D+C+RW	Gold Foil	Gold","23	Alpha Beta Promo Reward	Gold Foil	Gold","24	All	Gold Foil	Max","25	U+D+C+RW	Gold Foil	Max"]},ft=function(l){return Intl.NumberFormat("en",{notation:"compact"}).format(Number(l))},oe=(l,t)=>{const s=new URL(window.location.href),n=s.searchParams;n.set(l,t),s.search=n.toString(),window.history.pushState("","",s.search)};function be(l,t,s){const n=l.slice();return n[1]=t[s],n}function he(l){let t,s,n,i=ft(l[1].dec)+"",o;return{c(){t=r("img"),n=_(),o=y(i),a(t,"width","25px"),St(t.src,s="https://d36mxiodymuqjm.cloudfront.net/website/guilds/img_dec.png")||a(t,"src",s),a(t,"alt","DEC")},m(d,u){tt(d,t,u),tt(d,n,u),tt(d,o,u)},p(d,u){u&1&&i!==(i=ft(d[1].dec)+"")&&G(o,i)},d(d){d&&Z(t),d&&Z(n),d&&Z(o)}}}function ve(l){let t,s,n,i=ft(l[1].quest_lodge)+"",o;return{c(){t=r("img"),n=_(),o=y(i),a(t,"width","25px"),a(t,"class","ms-2"),St(t.src,s="https://d36mxiodymuqjm.cloudfront.net/website/guilds/img_quest_150.png")||a(t,"src",s),a(t,"alt","Quest")},m(d,u){tt(d,t,u),tt(d,n,u),tt(d,o,u)},p(d,u){u&1&&i!==(i=ft(d[1].quest_lodge)+"")&&G(o,i)},d(d){d&&Z(t),d&&Z(n),d&&Z(o)}}}function we(l){let t,s,n,i=ft(l[1].crowns)+"",o;return{c(){t=r("img"),n=_(),o=y(i),a(t,"width","25px"),a(t,"class","ms-2"),St(t.src,s="https://d36mxiodymuqjm.cloudfront.net/website/guilds/img_guild_crown_75.png")||a(t,"src",s),a(t,"alt","Crowns")},m(d,u){tt(d,t,u),tt(d,n,u),tt(d,o,u)},p(d,u){u&1&&i!==(i=ft(d[1].crowns)+"")&&G(o,i)},d(d){d&&Z(t),d&&Z(n),d&&Z(o)}}}function ye(l){let t,s,n,i,o=l[1].player+"",d,u,c,m,p,f=l[1].join_date+"",b,k,g,v,h=ft(l[1].collection_power)+"",$,w,C,x,L,N=ee[l[1].modern_league]+"",I,H,K,U=l[1].modern_rating+"",P,B,z,J,Q,j=ee[l[1].league]+"",A,D,O,at=l[1].rating+"",st,q,F,W,S,it,E,T=l[1].dec&&he(l),R=l[1].quest_lodge&&ve(l),Y=l[1].crowns&&we(l);return{c(){t=r("tr"),s=r("td"),n=r("div"),i=r("a"),d=y(o),c=_(),m=r("div"),p=y("joined: "),b=y(f),k=_(),g=r("td"),v=r("div"),$=y(h),w=_(),C=r("td"),x=r("div"),L=r("div"),I=y(N),H=_(),K=r("div"),P=y(U),B=_(),z=r("td"),J=r("div"),Q=r("div"),A=y(j),D=_(),O=r("div"),st=y(at),q=_(),F=r("td"),W=r("div"),T&&T.c(),S=_(),R&&R.c(),it=_(),Y&&Y.c(),E=_(),a(i,"class","text-decoration-none text-info"),a(i,"href",u="https://splinterlands.com/?p=collection&a="+l[1].player),a(i,"target","blank"),a(i,"title","view collections on splinterlands.com"),a(m,"class","text-muted"),a(n,"class","py-1 px-3 bg-dark"),a(s,"class","p-0"),a(v,"class","px-3 font-monospace text-center "),a(L,"class","text-muted"),a(L,"title","rating"),a(K,"class","me-2"),a(x,"class","px-3 font-monospace text-center"),a(Q,"class","text-muted"),a(Q,"title","rating"),a(O,"class",""),a(O,"title","league"),a(J,"class","px-3 font-monospace text-center"),a(W,"class","px-3 font-monospace me-3 me-2 text-nowrap"),a(t,"class","bg-dark")},m(et,lt){tt(et,t,lt),e(t,s),e(s,n),e(n,i),e(i,d),e(n,c),e(n,m),e(m,p),e(m,b),e(t,k),e(t,g),e(g,v),e(v,$),e(t,w),e(t,C),e(C,x),e(x,L),e(L,I),e(x,H),e(x,K),e(K,P),e(t,B),e(t,z),e(z,J),e(J,Q),e(Q,A),e(J,D),e(J,O),e(O,st),e(t,q),e(t,F),e(F,W),T&&T.m(W,null),e(W,S),R&&R.m(W,null),e(W,it),Y&&Y.m(W,null),e(t,E)},p(et,lt){lt&1&&o!==(o=et[1].player+"")&&G(d,o),lt&1&&u!==(u="https://splinterlands.com/?p=collection&a="+et[1].player)&&a(i,"href",u),lt&1&&f!==(f=et[1].join_date+"")&&G(b,f),lt&1&&h!==(h=ft(et[1].collection_power)+"")&&G($,h),lt&1&&N!==(N=ee[et[1].modern_league]+"")&&G(I,N),lt&1&&U!==(U=et[1].modern_rating+"")&&G(P,U),lt&1&&j!==(j=ee[et[1].league]+"")&&G(A,j),lt&1&&at!==(at=et[1].rating+"")&&G(st,at),et[1].dec?T?T.p(et,lt):(T=he(et),T.c(),T.m(W,S)):T&&(T.d(1),T=null),et[1].quest_lodge?R?R.p(et,lt):(R=ve(et),R.c(),R.m(W,it)):R&&(R.d(1),R=null),et[1].crowns?Y?Y.p(et,lt):(Y=we(et),Y.c(),Y.m(W,null)):Y&&(Y.d(1),Y=null)},d(et){et&&Z(t),T&&T.d(),R&&R.d(),Y&&Y.d()}}}function al(l){let t,s,n,i,o,d=l[0],u=[];for(let c=0;c<d.length;c+=1)u[c]=ye(be(l,d,c));return{c(){t=r("div"),s=r("table"),n=r("thead"),n.innerHTML=`<tr><th class="px-3">IGN</th> 
        <th class="px-3 text-center">CP</th> 
        <th class="px-3 text-center">Modern</th> 
        <th class="px-3 text-center">Wild</th> 
        <th class="px-3">Contributed</th></tr>`,i=_(),o=r("tbody");for(let c=0;c<u.length;c+=1)u[c].c();a(n,"class","sticky-top bg-darker"),a(s,"class","table table-sm align-middle mb-0"),a(t,"class","table-responsive max-h-500 border border-primary")},m(c,m){tt(c,t,m),e(t,s),e(s,n),e(s,i),e(s,o);for(let p=0;p<u.length;p+=1)u[p].m(o,null)},p(c,[m]){if(m&1){d=c[0];let p;for(p=0;p<d.length;p+=1){const f=be(c,d,p);u[p]?u[p].p(f,m):(u[p]=ye(f),u[p].c(),u[p].m(o,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=d.length}},i:ct,o:ct,d(c){c&&Z(t),Mt(u,c)}}}function il(l,t,s){let n;return ht(l,Yt,i=>s(0,n=i)),[n]}class rl extends Ct{constructor(t){super(),kt(this,t,il,al,$t,{})}}function ol(l){let t,s,n,i,o=l[0].guild_hall.level+"",d,u,c,m,p,f=l[0].quest_lodge.level+"",b,k,g,v,h,$=l[0].arena.level+"",w,C,x,L,N,I=l[0].barracks.level+"",H,K,U,P,B,z=l[0].guild_shop.level+"",J;return{c(){t=r("div"),s=r("div"),n=r("span"),n.textContent="Hall",i=_(),d=y(o),u=_(),c=r("div"),m=r("span"),m.textContent="Lodge",p=_(),b=y(f),k=_(),g=r("div"),v=r("span"),v.textContent="Arena",h=_(),w=y($),C=_(),x=r("div"),L=r("span"),L.textContent="Barracks",N=_(),H=y(I),K=_(),U=r("div"),P=r("span"),P.textContent="Shop",B=_(),J=y(z),a(n,"class","text-muted me-2"),a(s,"class","me-2 text-nowrap badge bg-primary"),a(m,"class","text-muted me-2"),a(c,"class","me-2 text-nowrap badge bg-primary"),a(v,"class","text-muted me-2"),a(g,"class","me-2 text-nowrap badge bg-primary"),a(L,"class","text-muted me-2"),a(x,"class","me-2 text-nowrap badge bg-primary"),a(P,"class","text-muted me-2"),a(U,"class","me-2 text-nowrap badge bg-primary"),a(t,"class","h5 d-flex flex-wrap")},m(Q,j){tt(Q,t,j),e(t,s),e(s,n),e(s,i),e(s,d),e(t,u),e(t,c),e(c,m),e(c,p),e(c,b),e(t,k),e(t,g),e(g,v),e(g,h),e(g,w),e(t,C),e(t,x),e(x,L),e(x,N),e(x,H),e(t,K),e(t,U),e(U,P),e(U,B),e(U,J)},p:ct,i:ct,o:ct,d(Q){Q&&Z(t)}}}function dl(l,t,s){let{buildings:n}=t;const i=JSON.parse(n);return l.$$set=o=>{"buildings"in o&&s(1,n=o.buildings)},[i,n]}class He extends Ct{constructor(t){super(),kt(this,t,dl,ol,$t,{buildings:1})}}function cl(l){let t,s,n;return{c(){t=r("div"),s=r("img"),St(s.src,n=l[3])||a(s,"src",n),a(s,"alt",l[1].decal),a(s,"class","guild-crest__decal svelte-16juu1e"),a(t,"class","guild-crest svelte-16juu1e"),a(t,"style",`background-image: url(${l[2]})`),Ot(t,"guild-crest--large",l[0]==="large")},m(i,o){tt(i,t,o),e(t,s)},p(i,[o]){o&1&&Ot(t,"guild-crest--large",i[0]==="large")},i:ct,o:ct,d(i){i&&Z(t)}}}function ul(l,t,s){let{data:n}=t,{size:i=""}=t;const o=JSON.parse(n).crest,d=`${ge}/guilds/banners/bg_banner_${o.banner}.png`,u=`${ge}/guilds/decals/img_guild_${o.decal}.png`;return l.$$set=c=>{"data"in c&&s(4,n=c.data),"size"in c&&s(0,i=c.size)},[i,o,d,u,n]}class Ke extends Ct{constructor(t){super(),kt(this,t,ul,cl,$t,{data:4,size:0})}}const fl=async()=>await(await fetch(`${ce}/guilds/list`)).json(),ml=async l=>await(await fetch(`${ce}/guilds/find?id=${l}`)).json(),pl=async l=>{const s=await(await fetch(`${Ie}/guilds/members?guild_id=${l}&status=active`)).json();return s?(s.forEach(n=>{const i=JSON.parse(n.data),{guild_hall:o=0,arena:d={DEC:0,CROWN:0},barracks:u={DEC:0,CROWN:0},guild_shop:c={DEC:0,CROWN:0},quest_lodge:m=0}=i.contributions;n.dec=o+d.DEC+u.DEC+c.DEC,n.quest_lodge=m,n.crowns=d.CROWN+u.CROWN+c.CROWN,n.join_date=new Date(n.join_date).toLocaleDateString()}),s.reverse()):[]},Je=async({tournament_id:l,id:t})=>await(await fetch(`${ce}/tournaments/find_brawl?id=${l}&guild_id=${t}`)).json(),_l=async(l,t,s)=>(await(await fetch(`${Ie}/guilds/brawl_records?guild_id=${l}&start_cycle=${t}&end_cycle=${s}`)).json()).results||[];function $e(l,t,s){const n=l.slice();return n[6]=t[s][0],n[7]=t[s][1],n[9]=s,n}function xe(l,t,s){const n=l.slice();return n[10]=t[s][0],n[11]=t[s][1],n}function ke(l){let t,s,n,i,o=l[11].fray_name+"",d,u,c,m,p=l[11].wins+"",f,b,k,g,v=l[11].losses+"",h,$,w,C,x=l[11].draws+"",L,N,I,H,K=l[11].total_battles+"",U,P,B,z,J=Number(l[11].wins/l[11].entered_battles*100).toFixed(2)+"",Q,j,A;return{c(){t=r("tr"),s=r("td"),n=r("div"),i=y("Fray "),d=y(o),u=_(),c=r("td"),m=r("div"),f=y(p),b=_(),k=r("td"),g=r("div"),h=y(v),$=_(),w=r("td"),C=r("div"),L=y(x),N=_(),I=r("td"),H=r("div"),U=y(K),P=_(),B=r("td"),z=r("div"),Q=y(J),j=y("%"),A=_(),a(n,"class","px-3 text-extra-small fray-cell text-muted svelte-d5ewdm"),a(m,"class","px-3 fray-cell text-muted svelte-d5ewdm"),a(g,"class","px-3 fray-cell text-muted svelte-d5ewdm"),a(C,"class","px-3 fray-cell text-muted svelte-d5ewdm"),a(H,"class","px-3 fray-cell text-muted svelte-d5ewdm"),a(z,"class","px-3 fray-cell text-muted svelte-d5ewdm")},m(D,O){tt(D,t,O),e(t,s),e(s,n),e(n,i),e(n,d),e(t,u),e(t,c),e(c,m),e(m,f),e(t,b),e(t,k),e(k,g),e(g,h),e(t,$),e(t,w),e(w,C),e(C,L),e(t,N),e(t,I),e(I,H),e(H,U),e(t,P),e(t,B),e(B,z),e(z,Q),e(z,j),e(t,A)},p(D,O){O&1&&o!==(o=D[11].fray_name+"")&&G(d,o),O&1&&p!==(p=D[11].wins+"")&&G(f,p),O&1&&v!==(v=D[11].losses+"")&&G(h,v),O&1&&x!==(x=D[11].draws+"")&&G(L,x),O&1&&K!==(K=D[11].total_battles+"")&&G(U,K),O&1&&J!==(J=Number(D[11].wins/D[11].entered_battles*100).toFixed(2)+"")&&G(Q,J)},d(D){D&&Z(t)}}}function Ce(l){let t,s,n,i=l[6]+"",o,d,u,c,m=l[7].wins+"",p,f,b,k,g=l[7].losses+"",v,h,$,w,C=l[7].draws+"",x,L,N,I,H=l[7].total_battles+"",K,U,P,B,z=Number(l[7].wins/l[7].entered_battles*100).toFixed(2)+"",J,Q,j,A,D,O,at,st=Object.entries(l[7].frays),q=[];for(let F=0;F<st.length;F+=1)q[F]=ke(xe(l,st,F));return{c(){t=r("tr"),s=r("td"),n=r("div"),o=y(i),d=_(),u=r("td"),c=r("div"),p=y(m),f=_(),b=r("td"),k=r("div"),v=y(g),h=_(),$=r("td"),w=r("div"),x=y(C),L=_(),N=r("td"),I=r("div"),K=y(H),U=_(),P=r("td"),B=r("div"),J=y(z),Q=y("%"),j=_(),A=r("tr"),D=r("td"),O=r("table");for(let F=0;F<q.length;F+=1)q[F].c();at=_(),a(n,"class","px-3 text-info"),a(s,"class","text-nowrap"),a(c,"class","px-3"),a(u,"class","text-nowrap"),a(k,"class","px-3"),a(b,"class","text-nowrap"),a(w,"class","px-3"),a($,"class","text-nowrap"),a(I,"class","px-3"),a(N,"class","text-nowrap"),a(B,"class","px-3"),a(P,"class","text-nowrap"),a(t,"role","button"),a(t,"data-bs-toggle","collapse"),a(t,"data-bs-target","#player-fray-result-"+l[9]),a(t,"aria-expanded","false"),a(O,"class","table table-sm mb-0 w-100 table-fixed svelte-d5ewdm"),a(D,"colspan","6"),a(A,"id","player-fray-result-"+l[9]),a(A,"class","accordion-collapse collapse")},m(F,W){tt(F,t,W),e(t,s),e(s,n),e(n,o),e(t,d),e(t,u),e(u,c),e(c,p),e(t,f),e(t,b),e(b,k),e(k,v),e(t,h),e(t,$),e($,w),e(w,x),e(t,L),e(t,N),e(N,I),e(I,K),e(t,U),e(t,P),e(P,B),e(B,J),e(B,Q),tt(F,j,W),tt(F,A,W),e(A,D),e(D,O);for(let S=0;S<q.length;S+=1)q[S].m(O,null);e(A,at)},p(F,W){if(W&1&&i!==(i=F[6]+"")&&G(o,i),W&1&&m!==(m=F[7].wins+"")&&G(p,m),W&1&&g!==(g=F[7].losses+"")&&G(v,g),W&1&&C!==(C=F[7].draws+"")&&G(x,C),W&1&&H!==(H=F[7].total_battles+"")&&G(K,H),W&1&&z!==(z=Number(F[7].wins/F[7].entered_battles*100).toFixed(2)+"")&&G(J,z),W&1){st=Object.entries(F[7].frays);let S;for(S=0;S<st.length;S+=1){const it=xe(F,st,S);q[S]?q[S].p(it,W):(q[S]=ke(it),q[S].c(),q[S].m(O,null))}for(;S<q.length;S+=1)q[S].d(1);q.length=st.length}},d(F){F&&Z(t),F&&Z(j),F&&Z(A),Mt(q,F)}}}function gl(l){let t,s,n,i,o,d,u,c,m,p,f=l[1].brawl_rank+"",b,k,g,v,h,$=l[1].wins+"",w,C,x,L,N,I=l[1].battles+"",H,K,U,P,B,z=l[1].win_rate+"",J,Q,j,A,D,O,at,st,q,F=Object.entries(l[0]),W=[];for(let S=0;S<F.length;S+=1)W[S]=Ce($e(l,F,S));return{c(){t=r("div"),s=r("div"),n=r("div"),i=r("button"),o=r("div"),d=r("div"),u=y(`Last 10 brawls\r
            `),c=r("span"),m=r("span"),m.textContent="Ave placement:",p=_(),b=y(f),k=_(),g=r("span"),v=r("span"),v.textContent="Wins:",h=_(),w=y($),C=_(),x=r("span"),L=r("span"),L.textContent="Battles:",N=_(),H=y(I),K=_(),U=r("span"),P=r("span"),P.textContent="Win rate:",B=_(),J=y(z),Q=y("%"),j=_(),A=r("div"),D=r("div"),O=r("table"),at=r("thead"),at.innerHTML=`<tr class="sticky-top bg-darker"><th class="px-3"></th> 
              <th class="px-3">Wins</th> 
              <th class="px-3">Losses</th> 
              <th class="px-3">Draws</th> 
              <th class="px-3">Battles</th> 
              <th class="px-3 text-nowrap">Win rate</th></tr>`,st=_(),q=r("tbody");for(let S=0;S<W.length;S+=1)W[S].c();a(m,"class","text-muted"),a(c,"class","ms-3 badge bg-primary"),a(v,"class","text-muted"),a(g,"class","ms-3 badge bg-primary"),a(L,"class","text-muted"),a(x,"class","ms-3 badge bg-primary"),a(P,"class","text-muted"),a(U,"class","ms-3 badge bg-primary"),a(d,"class","h5 mb-0"),a(o,"class","d-flex flex-wrap"),a(i,"class","accordion-button bg-dark"),a(i,"data-bs-toggle","collapse"),a(i,"data-bs-target","#player-brawl-result"),a(i,"aria-expanded","true"),a(i,"aria-controls","player-brawl-result"),a(n,"class","accordion-header"),a(n,"id","player-brawl-results-heading"),a(O,"class","table table-hover table-sm align-middle table-fixed mb-0 svelte-d5ewdm"),a(D,"class","table-responsive max-h-500 border border-primary"),a(A,"id","player-brawl-result"),a(A,"class","accordion-collapse collapse show"),a(s,"class","accordion-item"),a(t,"class","accordion accordion-flush mb-3")},m(S,it){tt(S,t,it),e(t,s),e(s,n),e(n,i),e(i,o),e(o,d),e(d,u),e(d,c),e(c,m),e(c,p),e(c,b),e(d,k),e(d,g),e(g,v),e(g,h),e(g,w),e(d,C),e(d,x),e(x,L),e(x,N),e(x,H),e(d,K),e(d,U),e(U,P),e(U,B),e(U,J),e(U,Q),e(s,j),e(s,A),e(A,D),e(D,O),e(O,at),e(O,st),e(O,q);for(let E=0;E<W.length;E+=1)W[E].m(q,null)},p(S,[it]){if(it&2&&f!==(f=S[1].brawl_rank+"")&&G(b,f),it&2&&$!==($=S[1].wins+"")&&G(w,$),it&2&&I!==(I=S[1].battles+"")&&G(H,I),it&2&&z!==(z=S[1].win_rate+"")&&G(J,z),it&1){F=Object.entries(S[0]);let E;for(E=0;E<F.length;E+=1){const T=$e(S,F,E);W[E]?W[E].p(T,it):(W[E]=Ce(T),W[E].c(),W[E].m(q,null))}for(;E<W.length;E+=1)W[E].d(1);W.length=F.length}},i:ct,o:ct,d(S){S&&Z(t),Mt(W,S)}}}function bl(l,t,s){let n;ht(l,Ft,m=>s(3,n=m));let i={},o={brawl_rank:0,battles:0,win_rate:0,draws:0,losses:0,wins:0},d;const u=(m,p)=>{var g;const f=((g=Te[p])==null?void 0:g.tier)||0;return f?nl[f][m]:""};return(async()=>{d=[...n.brawl_stats.results].reverse();const m={};d.forEach(p=>{s(1,o.brawl_rank+=p.brawl_rank,o),s(1,o.battles+=p.draws+p.losses+p.wins,o),s(1,o.wins+=p.wins,o)}),s(1,o.brawl_rank=Math.round(o.brawl_rank/d.length),o),s(1,o.win_rate=Math.round(o.wins/o.battles*100),o);for await(let p of d){const f=await Je({tournament_id:p.tournament_id,id:p.guild_id});p.brawl_info=f,f&&f.players&&f.players.forEach(b=>{const{brawl_level:k,draws:g,entered_battles:v,finish:h,fray_index:$,losses:w,meta_pts:C,total_battles:x,wins:L,player:N}=b;m[N]||(m[N]=[]),m[N]=[...m[N],{brawl_level:k,draws:g,entered_battles:v,finish:h,fray_index:$,losses:w,meta_pts:C,total_battles:x,wins:L}]})}for(const p in m)i[p]||s(0,i[p]={},i),m[p].reduce(function(f,b){return f||(f={draws:0,entered_battles:0,finish:0,losses:0,meta_pts:0,total_battles:0,wins:0,frays:{}},s(0,i[p]=f,i)),f.draws+=b.draws,f.entered_battles+=b.entered_battles,f.finish+=b.finish,f.losses+=b.losses,f.meta_pts+=b.meta_pts,f.total_battles+=b.total_battles,f.wins+=b.wins,f.frays[b.fray_index]||(f.frays[b.fray_index]={brawl_level:0,draws:0,entered_battles:0,finish:0,losses:0,meta_pts:0,total_battles:0,wins:0,fray_name:""}),f.frays[b.fray_index].draws+=b.draws,f.frays[b.fray_index].entered_battles+=b.entered_battles,f.frays[b.fray_index].finish+=b.finish,f.frays[b.fray_index].losses+=b.losses,f.frays[b.fray_index].meta_pts+=b.meta_pts,f.frays[b.fray_index].total_battles+=b.total_battles,f.frays[b.fray_index].wins+=b.wins,f.frays[b.fray_index].fray_name=u(b.fray_index,b.brawl_level),f},null)})(),[i,o]}class hl extends Ct{constructor(t){super(),kt(this,t,bl,gl,$t,{})}}function vl(l){let t;return{c(){t=r("div"),a(t,"class","spinner-border spinner-primary"),a(t,"role","status")},m(s,n){tt(s,t,n)},p:ct,i:ct,o:ct,d(s){s&&Z(t)}}}class wl extends Ct{constructor(t){super(),kt(this,t,null,vl,$t,{})}}function Ae(l,t,s){const n=l.slice();return n[2]=t[s],n}function yl(l){let t;return{c(){t=r("span"),t.textContent="\u{1F4A9}"},m(s,n){tt(s,t,n)},p:ct,d(s){s&&Z(t)}}}function $l(l){let t,s=l[0],n=[];for(let i=0;i<s.length;i+=1)n[i]=Se(Ae(l,s,i));return{c(){t=r("span");for(let i=0;i<n.length;i+=1)n[i].c()},m(i,o){tt(i,t,o);for(let d=0;d<n.length;d+=1)n[d].m(t,null)},p(i,o){if(o&1){const d=s.length;s=i[0];let u;for(u=d;u<s.length;u+=1)Ae(i,s,u),n[u]||(n[u]=Se(),n[u].c(),n[u].m(t,null));for(u=s.length;u<d;u+=1)n[u].d(1);n.length=s.length}},d(i){i&&Z(t),Mt(n,i)}}}function Se(l){let t;return{c(){t=y("\u2B50")},m(s,n){tt(s,t,n)},d(s){s&&Z(t)}}}function xl(l){let t;function s(o,d){return o[0].length?$l:yl}let n=s(l),i=n(l);return{c(){i.c(),t=Oe()},m(o,d){i.m(o,d),tt(o,t,d)},p(o,[d]){n===(n=s(o))&&i?i.p(o,d):(i.d(1),i=n(o),i&&(i.c(),i.m(t.parentNode,t)))},i:ct,o:ct,d(o){i.d(o),o&&Z(t)}}}function kl(l,t,s){let{level:n}=t,i=[];return de(()=>{var d;const o=((d=Te[n])==null?void 0:d.tier)||0;s(0,i=Array(o))}),l.$$set=o=>{"level"in o&&s(1,n=o.level)},[i,n]}class ue extends Ct{constructor(t){super(),kt(this,t,kl,xl,$t,{level:1})}}function Re(l,t,s){const n=l.slice();return n[1]=t[s],n[3]=s,n}function Ge(l){let t,s,n,i=l[1].name+"",o,d,u,c,m=l[3]+1+"",p,f,b,k,g=l[1].wins+"",v,h,$,w,C=l[1].losses+"",x,L,N,I,H=l[1].draws+"",K,U,P,B,z,J,Q=ft(l[1].other_payout)+"",j,A,D,O,at,st,q=ft(l[1].member_sps_payout)+"",F,W,S,it,E,T,R=ft(l[1].member_merits_payout)+"",Y,et;return{c(){t=r("tr"),s=r("td"),n=r("div"),o=y(i),d=_(),u=r("td"),c=r("div"),p=y(m),f=_(),b=r("td"),k=r("div"),v=y(g),h=_(),$=r("td"),w=r("div"),x=y(C),L=_(),N=r("td"),I=r("div"),K=y(H),U=_(),P=r("td"),B=r("div"),z=r("img"),j=y(Q),A=_(),D=r("td"),O=r("div"),at=r("img"),F=y(q),W=_(),S=r("td"),it=r("div"),E=r("img"),Y=y(R),et=_(),a(n,"class","px-2"),a(c,"class","px-2"),a(k,"class","px-2"),a(w,"class","px-2"),a(I,"class","px-2"),a(z,"width","25px"),a(z,"class","me-2"),St(z.src,J="https://d36mxiodymuqjm.cloudfront.net/website/guilds/img_guild_crown_75.png")||a(z,"src",J),a(z,"alt","Crowns"),a(B,"class","px-2"),a(at,"width","25px"),a(at,"class","me-2"),St(at.src,st="https://d36mxiodymuqjm.cloudfront.net/website/ui_elements/shop/cl/img_sps-shard_128.png")||a(at,"src",st),a(at,"alt","SPS"),a(O,"class","px-2"),a(E,"width","25px"),a(E,"class","me-2"),St(E.src,T="https://d36mxiodymuqjm.cloudfront.net/website/icons/img_merit_256.png")||a(E,"src",T),a(E,"alt","Merrits"),a(it,"class","px-2")},m(lt,mt){tt(lt,t,mt),e(t,s),e(s,n),e(n,o),e(t,d),e(t,u),e(u,c),e(c,p),e(t,f),e(t,b),e(b,k),e(k,v),e(t,h),e(t,$),e($,w),e(w,x),e(t,L),e(t,N),e(N,I),e(I,K),e(t,U),e(t,P),e(P,B),e(B,z),e(B,j),e(t,A),e(t,D),e(D,O),e(O,at),e(O,F),e(t,W),e(t,S),e(S,it),e(it,E),e(it,Y),e(t,et)},p(lt,mt){mt&1&&i!==(i=lt[1].name+"")&&G(o,i),mt&1&&g!==(g=lt[1].wins+"")&&G(v,g),mt&1&&C!==(C=lt[1].losses+"")&&G(x,C),mt&1&&H!==(H=lt[1].draws+"")&&G(K,H),mt&1&&Q!==(Q=ft(lt[1].other_payout)+"")&&G(j,Q),mt&1&&q!==(q=ft(lt[1].member_sps_payout)+"")&&G(F,q),mt&1&&R!==(R=ft(lt[1].member_merits_payout)+"")&&G(Y,R)},d(lt){lt&&Z(t)}}}function Cl(l){let t,s,n,i,o,d=l[0],u=[];for(let c=0;c<d.length;c+=1)u[c]=Ge(Re(l,d,c));return{c(){t=r("div"),s=r("table"),n=r("thead"),n.innerHTML=`<tr><th><div class="px-2">Guild</div></th> 
        <th><div class="px-2">Place</div></th> 
        <th><div class="px-2">Wins</div></th> 
        <th><div class="px-2">Losses</div></th> 
        <th><div class="px-2">Draws</div></th> 
        <th><div class="px-2">Crowns</div></th> 
        <th><div class="px-2">SPS</div></th> 
        <th><div class="px-2">Merits</div></th></tr>`,i=_(),o=r("tbody");for(let c=0;c<u.length;c+=1)u[c].c();a(n,"class","bg-darker"),a(s,"class","table table-sm small"),a(t,"class","p-3 bg-dark")},m(c,m){tt(c,t,m),e(t,s),e(s,n),e(s,i),e(s,o);for(let p=0;p<u.length;p+=1)u[p].m(o,null)},p(c,[m]){if(m&1){d=c[0];let p;for(p=0;p<d.length;p+=1){const f=Re(c,d,p);u[p]?u[p].p(f,m):(u[p]=Ge(f),u[p].c(),u[p].m(o,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=d.length}},i:ct,o:ct,d(c){c&&Z(t),Mt(u,c)}}}function Al(l,t,s){let{results:n}=t;return l.$$set=i=>{"results"in i&&s(0,n=i.results)},[n]}class Sl extends Ct{constructor(t){super(),kt(this,t,Al,Cl,$t,{results:0})}}function We(l,t,s){const n=l.slice();return n[9]=t[s][0],n[10]=t[s][1],n[12]=s,n}function Me(l,t,s){const n=l.slice();return n[13]=t[s],n}function De(l){let t,s,n,i=l[13].cycle+"",o,d,u,c,m=l[13].tournament_id+"",p,f,b,k,g,v,h,$,w=l[13].brawl_rank+"",C,x,L,N,I=l[13].wins+"",H,K,U,P,B=l[13].losses+"",z,J,Q,j,A=l[13].draws+"",D,O,at,st,q,F,W=ft(l[13].other_payout)+"",S,it,E,T,R,Y,et=ft(l[13].member_sps_payout)+"",lt,mt,Lt,xt,vt,Rt,Wt=ft(l[13].member_merits_payout)+"",Ut,Gt,wt,yt,Dt,pt,ot,jt,ut;return g=new ue({props:{level:l[13].brawl_level}}),pt=new Sl({props:{results:l[0]}}),{c(){t=r("tr"),s=r("td"),n=r("div"),o=y(i),d=_(),u=r("td"),c=r("div"),p=y(m),f=_(),b=r("td"),k=r("div"),bt(g.$$.fragment),v=_(),h=r("td"),$=r("div"),C=y(w),x=_(),L=r("td"),N=r("div"),H=y(I),K=_(),U=r("td"),P=r("div"),z=y(B),J=_(),Q=r("td"),j=r("div"),D=y(A),O=_(),at=r("td"),st=r("div"),q=r("img"),S=y(W),it=_(),E=r("td"),T=r("div"),R=r("img"),lt=y(et),mt=_(),Lt=r("td"),xt=r("div"),vt=r("img"),Ut=y(Wt),wt=_(),yt=r("tr"),Dt=r("td"),bt(pt.$$.fragment),ot=_(),a(n,"class","px-3"),a(c,"class","px-3 text-nowrap small"),a(k,"class","px-3 text-center"),a($,"class","px-3"),a(N,"class","px-3"),a(P,"class","px-3"),a(j,"class","px-3"),a(q,"width","25px"),a(q,"class","me-2"),St(q.src,F="https://d36mxiodymuqjm.cloudfront.net/website/guilds/img_guild_crown_75.png")||a(q,"src",F),a(q,"alt","Crowns"),a(st,"class","px-3"),a(R,"width","25px"),a(R,"class","me-2"),St(R.src,Y="https://d36mxiodymuqjm.cloudfront.net/website/ui_elements/shop/cl/img_sps-shard_128.png")||a(R,"src",Y),a(R,"alt","SPS"),a(T,"class","px-3"),a(vt,"width","25px"),a(vt,"class","me-2"),St(vt.src,Rt="https://d36mxiodymuqjm.cloudfront.net/website/icons/img_merit_256.png")||a(vt,"src",Rt),a(vt,"alt","Merrits"),a(xt,"class","px-3"),a(t,"role","button"),a(t,"data-bs-toggle","collapse"),a(t,"data-bs-target",Gt="#brawl-summary-"+l[13].tournament_id),a(t,"aria-expanded","false"),a(Dt,"colspan","10"),a(yt,"id",jt="brawl-summary-"+l[13].tournament_id),a(yt,"class","accordion-collapse collapse")},m(V,M){tt(V,t,M),e(t,s),e(s,n),e(n,o),e(t,d),e(t,u),e(u,c),e(c,p),e(t,f),e(t,b),e(b,k),_t(g,k,null),e(t,v),e(t,h),e(h,$),e($,C),e(t,x),e(t,L),e(L,N),e(N,H),e(t,K),e(t,U),e(U,P),e(P,z),e(t,J),e(t,Q),e(Q,j),e(j,D),e(t,O),e(t,at),e(at,st),e(st,q),e(st,S),e(t,it),e(t,E),e(E,T),e(T,R),e(T,lt),e(t,mt),e(t,Lt),e(Lt,xt),e(xt,vt),e(xt,Ut),tt(V,wt,M),tt(V,yt,M),e(yt,Dt),_t(pt,Dt,null),e(yt,ot),ut=!0},p(V,M){(!ut||M&1)&&i!==(i=V[13].cycle+"")&&G(o,i),(!ut||M&1)&&m!==(m=V[13].tournament_id+"")&&G(p,m);const dt={};M&1&&(dt.level=V[13].brawl_level),g.$set(dt),(!ut||M&1)&&w!==(w=V[13].brawl_rank+"")&&G(C,w),(!ut||M&1)&&I!==(I=V[13].wins+"")&&G(H,I),(!ut||M&1)&&B!==(B=V[13].losses+"")&&G(z,B),(!ut||M&1)&&A!==(A=V[13].draws+"")&&G(D,A),(!ut||M&1)&&W!==(W=ft(V[13].other_payout)+"")&&G(S,W),(!ut||M&1)&&et!==(et=ft(V[13].member_sps_payout)+"")&&G(lt,et),(!ut||M&1)&&Wt!==(Wt=ft(V[13].member_merits_payout)+"")&&G(Ut,Wt),(!ut||M&1&&Gt!==(Gt="#brawl-summary-"+V[13].tournament_id))&&a(t,"data-bs-target",Gt);const X={};M&1&&(X.results=V[0]),pt.$set(X),(!ut||M&1&&jt!==(jt="brawl-summary-"+V[13].tournament_id))&&a(yt,"id",jt)},i(V){ut||(nt(g.$$.fragment,V),nt(pt.$$.fragment,V),ut=!0)},o(V){rt(g.$$.fragment,V),rt(pt.$$.fragment,V),ut=!1},d(V){V&&Z(t),gt(g),V&&Z(wt),V&&Z(yt),gt(pt)}}}function Be(l){let t,s,n,i=l[9]+"",o,d,u,c,m=l[10].wins+"",p,f,b,k,g=l[10].losses+"",v,h,$,w,C=l[10].draws+"",x,L,N,I,H=l[10].total_battles+"",K,U,P,B,z=Number(l[10].wins/l[10].entered_battles*100).toFixed(2)+"",J,Q,j;return{c(){t=r("tr"),s=r("td"),n=r("div"),o=y(i),d=_(),u=r("td"),c=r("div"),p=y(m),f=_(),b=r("td"),k=r("div"),v=y(g),h=_(),$=r("td"),w=r("div"),x=y(C),L=_(),N=r("td"),I=r("div"),K=y(H),U=_(),P=r("td"),B=r("div"),J=y(z),Q=y("%"),j=_(),a(n,"class","px-3 text-info"),a(s,"class","text-nowrap"),a(c,"class","px-3"),a(u,"class","text-nowrap"),a(k,"class","px-3"),a(b,"class","text-nowrap"),a(w,"class","px-3"),a($,"class","text-nowrap"),a(I,"class","px-3"),a(N,"class","text-nowrap"),a(B,"class","px-3"),a(P,"class","text-nowrap")},m(A,D){tt(A,t,D),e(t,s),e(s,n),e(n,o),e(t,d),e(t,u),e(u,c),e(c,p),e(t,f),e(t,b),e(b,k),e(k,v),e(t,h),e(t,$),e($,w),e(w,x),e(t,L),e(t,N),e(N,I),e(I,K),e(t,U),e(t,P),e(P,B),e(B,J),e(B,Q),e(t,j)},p(A,D){D&2&&i!==(i=A[9]+"")&&G(o,i),D&2&&m!==(m=A[10].wins+"")&&G(p,m),D&2&&g!==(g=A[10].losses+"")&&G(v,g),D&2&&C!==(C=A[10].draws+"")&&G(x,C),D&2&&H!==(H=A[10].total_battles+"")&&G(K,H),D&2&&z!==(z=Number(A[10].wins/A[10].entered_battles*100).toFixed(2)+"")&&G(J,z)},d(A){A&&Z(t)}}}function Rl(l){let t,s,n,i,o,d,u,c,m,p,f=l[4].brawl_rank+"",b,k,g,v,h,$=l[4].wins+"",w,C,x,L,N,I=l[4].battles+"",H,K,U,P,B,z=l[4].win_rate+"",J,Q,j,A,D,O,at,st,q,F,W,S,it,E,T,R,Y,et,lt,mt,Lt,xt,vt,Rt,Wt,Ut,Gt,wt,yt,Dt,pt=l[0],ot=[];for(let M=0;M<pt.length;M+=1)ot[M]=De(Me(l,pt,M));const jt=M=>rt(ot[M],1,1,()=>{ot[M]=null});let ut=Object.entries(l[1]),V=[];for(let M=0;M<ut.length;M+=1)V[M]=Be(We(l,ut,M));return{c(){t=r("div"),s=r("div"),n=r("div"),i=r("button"),o=r("div"),d=r("div"),u=y(`Past brawls\r
            `),c=r("span"),m=r("span"),m.textContent="Ave placement:",p=_(),b=y(f),k=_(),g=r("span"),v=r("span"),v.textContent="Wins:",h=_(),w=y($),C=_(),x=r("span"),L=r("span"),L.textContent="Battles:",N=_(),H=y(I),K=_(),U=r("span"),P=r("span"),P.textContent="Win rate:",B=_(),J=y(z),Q=y("%"),j=_(),A=r("div"),D=r("div"),O=r("strong"),O.textContent="Cycle",at=_(),st=r("div"),q=r("input"),F=_(),W=r("div"),S=r("input"),it=_(),E=r("button"),E.textContent="Apply",T=_(),R=r("div"),Y=r("table"),et=r("thead"),et.innerHTML=`<tr class="bg-darker"><th class="px-3">Cycle</th> 
              <th class="px-3">ID</th> 
              <th class="px-3 text-center">Tier</th> 
              <th class="px-3">Place</th> 
              <th class="px-3">Wins</th> 
              <th class="px-3">Losses</th> 
              <th class="px-3">Draws</th> 
              <th class="px-3">Crowns</th> 
              <th class="px-3">SPS</th> 
              <th class="px-3">Merits</th></tr>`,lt=_(),mt=r("tbody");for(let M=0;M<ot.length;M+=1)ot[M].c();Lt=_(),xt=r("div"),vt=r("div"),Rt=r("table"),Wt=r("thead"),Wt.innerHTML=`<tr class="sticky-top bg-darker"><th class="px-3">Members</th> 
                <th class="px-3">Wins</th> 
                <th class="px-3">Losses</th> 
                <th class="px-3">Draws</th> 
                <th class="px-3">Battles</th> 
                <th class="px-3 text-nowrap">Win rate</th></tr>`,Ut=_(),Gt=r("tbody");for(let M=0;M<V.length;M+=1)V[M].c();a(m,"class","text-muted"),a(c,"class","ms-3 badge bg-primary"),a(v,"class","text-muted"),a(g,"class","ms-3 badge bg-primary"),a(L,"class","text-muted"),a(x,"class","ms-3 badge bg-primary"),a(P,"class","text-muted"),a(U,"class","ms-3 badge bg-primary"),a(d,"class","h5 mb-0"),a(o,"class","d-flex flex-wrap"),a(i,"class","accordion-button text-light bg-dark"),a(i,"type","button"),a(i,"data-bs-toggle","collapse"),a(i,"data-bs-target","#brawl-cycle"),a(i,"aria-expanded","true"),a(i,"aria-controls","guild-brawl-results"),a(n,"class","accordion-header"),a(n,"id","brawl-cycle-heading"),a(O,"class","mb-0 me-3"),a(q,"id","cycleStart"),a(q,"type","number"),a(q,"class","form-control form-control-sm bg-dark text-light"),a(q,"placeholder","From"),a(st,"class","me-2 d-flex align-items-center"),a(S,"id","cycleEnd"),a(S,"type","number"),a(S,"class","form-control form-control-sm bg-dark text-light"),a(S,"placeholder","To"),a(W,"class","me-2 d-flex align-items-center"),a(E,"class","btn btn-sm btn-primary"),a(D,"class","d-flex justify-content-end align-items-center px-3 mb-3"),a(Y,"class","table table-sm table-hover align-middle mb-0"),a(R,"class","table-responsive max-h-500 border border-primary"),a(Rt,"class","table table-sm align-middle table-fixed mb-0"),a(vt,"class","table-responsive max-h-500 border border-primary"),a(xt,"id","player-brawl-result"),a(xt,"class","accordion-collapse collapse show"),a(A,"id","brawl-cycle"),a(A,"class","accordion-collapse collapse show"),a(s,"class","accordion-item"),a(t,"class","accordion accordion-flush border border-primary mb-3")},m(M,dt){tt(M,t,dt),e(t,s),e(s,n),e(n,i),e(i,o),e(o,d),e(d,u),e(d,c),e(c,m),e(c,p),e(c,b),e(d,k),e(d,g),e(g,v),e(g,h),e(g,w),e(d,C),e(d,x),e(x,L),e(x,N),e(x,H),e(d,K),e(d,U),e(U,P),e(U,B),e(U,J),e(U,Q),e(s,j),e(s,A),e(A,D),e(D,O),e(D,at),e(D,st),e(st,q),Pt(q,l[2]),e(D,F),e(D,W),e(W,S),Pt(S,l[3]),e(D,it),e(D,E),e(A,T),e(A,R),e(R,Y),e(Y,et),e(Y,lt),e(Y,mt);for(let X=0;X<ot.length;X+=1)ot[X].m(mt,null);e(A,Lt),e(A,xt),e(xt,vt),e(vt,Rt),e(Rt,Wt),e(Rt,Ut),e(Rt,Gt);for(let X=0;X<V.length;X+=1)V[X].m(Gt,null);wt=!0,yt||(Dt=[Nt(q,"input",l[6]),Nt(S,"input",l[7]),Nt(E,"click",l[5])],yt=!0)},p(M,[dt]){if((!wt||dt&16)&&f!==(f=M[4].brawl_rank+"")&&G(b,f),(!wt||dt&16)&&$!==($=M[4].wins+"")&&G(w,$),(!wt||dt&16)&&I!==(I=M[4].battles+"")&&G(H,I),(!wt||dt&16)&&z!==(z=M[4].win_rate+"")&&G(J,z),dt&4&&ne(q.value)!==M[2]&&Pt(q,M[2]),dt&8&&ne(S.value)!==M[3]&&Pt(S,M[3]),dt&1){pt=M[0];let X;for(X=0;X<pt.length;X+=1){const Ht=Me(M,pt,X);ot[X]?(ot[X].p(Ht,dt),nt(ot[X],1)):(ot[X]=De(Ht),ot[X].c(),nt(ot[X],1),ot[X].m(mt,null))}for(qt(),X=pt.length;X<ot.length;X+=1)jt(X);It()}if(dt&2){ut=Object.entries(M[1]);let X;for(X=0;X<ut.length;X+=1){const Ht=We(M,ut,X);V[X]?V[X].p(Ht,dt):(V[X]=Be(Ht),V[X].c(),V[X].m(Gt,null))}for(;X<V.length;X+=1)V[X].d(1);V.length=ut.length}},i(M){if(!wt){for(let dt=0;dt<pt.length;dt+=1)nt(ot[dt]);wt=!0}},o(M){ot=ot.filter(Boolean);for(let dt=0;dt<ot.length;dt+=1)rt(ot[dt]);wt=!1},d(M){M&&Z(t),Mt(ot,M),Mt(V,M),yt=!1,Tt(Dt)}}}function Gl(l,t,s){let n;ht(l,Ft,b=>s(8,n=b));let i=[],o={},d="",u="",c={brawl_rank:0,battles:0,win_rate:0,draws:0,losses:0,wins:0};const m=async()=>{const b=n.id,k=d||n.brawl_stats.start_cycle,g=u||n.brawl_stats.end_cycle;if(Number(g)<Number(k)){alert("Invalid cycle from or cycle to value");return}s(0,i=await _l(b,k,g)),s(4,c={brawl_rank:0,battles:0,win_rate:0,draws:0,losses:0,wins:0}),s(1,o={}),i.forEach(h=>{s(4,c.brawl_rank+=h.brawl_rank,c),s(4,c.battles+=h.draws+h.losses+h.wins,c),s(4,c.wins+=h.wins,c)}),s(4,c.brawl_rank=Math.round(c.brawl_rank/i.length),c),s(4,c.win_rate=Math.round(c.wins/c.battles*100),c);const v={};for await(let h of i){const $=await Je({tournament_id:h.tournament_id,id:h.guild_id});h.brawl_info=$,$&&$.players&&$.players.forEach(w=>{const{brawl_level:C,draws:x,entered_battles:L,finish:N,fray_index:I,losses:H,meta_pts:K,total_battles:U,wins:P,player:B}=w;v[B]||(v[B]=[]),v[B]=[...v[B],{brawl_level:C,draws:x,entered_battles:L,finish:N,fray_index:I,losses:H,meta_pts:K,total_battles:U,wins:P}]})}for(const h in v)o[h]||s(1,o[h]={},o),v[h].reduce(($,w)=>($||($={draws:0,entered_battles:0,finish:0,losses:0,meta_pts:0,total_battles:0,wins:0,frays:{}},s(1,o[h]=$,o)),$.draws+=w.draws,$.entered_battles+=w.entered_battles,$.finish+=w.finish,$.losses+=w.losses,$.meta_pts+=w.meta_pts,$.total_battles+=w.total_battles,$.wins+=w.wins,$),null)};de(async()=>{m()});function p(){d=ne(this.value),s(2,d)}function f(){u=ne(this.value),s(3,u)}return[i,o,d,u,c,m,p,f]}class Wl extends Ct{constructor(t){super(),kt(this,t,Gl,Rl,$t,{})}}function Ne(l){let t,s,n,i,o=l[0].name+"",d,u,c,m,p,f,b,k,g,v,h,$,w,C,x,L,N=l[0].rank+"",I,H,K,U,P,B=ft(l[0].rating)+"",z,J,Q,j,A,D,O,at,st,q,F,W,S,it;b=new Ke({props:{data:l[0].data,size:"large"}}),v=new ue({props:{level:l[0].brawl_level}}),j=new He({props:{buildings:l[0].buildings}});let E=l[0].description&&Fe(l),T=l[1]&&l[1].length&&Le(l);return st=new hl({}),F=new Wl({}),{c(){t=r("div"),s=r("div"),n=r("div"),i=r("h2"),d=y(o),u=_(),c=r("button"),c.innerHTML='<span aria-hidden="true">\xD7</span>',m=_(),p=r("div"),f=r("div"),bt(b.$$.fragment),k=_(),g=r("h2"),bt(v.$$.fragment),h=_(),$=r("div"),w=r("div"),C=r("span"),x=y("Rank: "),L=r("strong"),I=y(N),H=_(),K=r("span"),U=y("Rating: \xA0"),P=r("strong"),z=y(B),J=_(),Q=r("div"),bt(j.$$.fragment),A=_(),E&&E.c(),D=_(),O=r("div"),T&&T.c(),at=_(),bt(st.$$.fragment),q=_(),bt(F.$$.fragment),a(i,"class","h2 text-info"),a(c,"class","btn btn-sm btn-primary ms-auto close"),a(c,"aria-label","close"),a(n,"class","d-flex py-2 px-3 align-items-center"),a(g,"class","h2 text-center"),a(L,"class","text-info"),a(C,"class","me-2"),a(P,"class","text-info"),a(w,"class","mb-2"),a(Q,"class","mb-2"),a($,"class","px-3"),a(p,"class","d-flex mb-4 p-3 rounded"),a(s,"class","bg-dark"),a(O,"class","accordion accordion-flush mb-3"),a(t,"class","mb-5")},m(R,Y){tt(R,t,Y),e(t,s),e(s,n),e(n,i),e(i,d),e(n,u),e(n,c),e(s,m),e(s,p),e(p,f),_t(b,f,null),e(f,k),e(f,g),_t(v,g,null),e(p,h),e(p,$),e($,w),e(w,C),e(C,x),e(C,L),e(L,I),e(w,H),e(w,K),e(K,U),e(K,P),e(P,z),e($,J),e($,Q),_t(j,Q,null),e($,A),E&&E.m($,null),e(t,D),e(t,O),T&&T.m(O,null),e(t,at),_t(st,t,null),e(t,q),_t(F,t,null),W=!0,S||(it=Nt(c,"click",l[2]),S=!0)},p(R,Y){(!W||Y&1)&&o!==(o=R[0].name+"")&&G(d,o);const et={};Y&1&&(et.data=R[0].data),b.$set(et);const lt={};Y&1&&(lt.level=R[0].brawl_level),v.$set(lt),(!W||Y&1)&&N!==(N=R[0].rank+"")&&G(I,N),(!W||Y&1)&&B!==(B=ft(R[0].rating)+"")&&G(z,B);const mt={};Y&1&&(mt.buildings=R[0].buildings),j.$set(mt),R[0].description?E?E.p(R,Y):(E=Fe(R),E.c(),E.m($,null)):E&&(E.d(1),E=null),R[1]&&R[1].length?T?(T.p(R,Y),Y&2&&nt(T,1)):(T=Le(R),T.c(),nt(T,1),T.m(O,null)):T&&(qt(),rt(T,1,1,()=>{T=null}),It())},i(R){W||(nt(b.$$.fragment,R),nt(v.$$.fragment,R),nt(j.$$.fragment,R),nt(T),nt(st.$$.fragment,R),nt(F.$$.fragment,R),W=!0)},o(R){rt(b.$$.fragment,R),rt(v.$$.fragment,R),rt(j.$$.fragment,R),rt(T),rt(st.$$.fragment,R),rt(F.$$.fragment,R),W=!1},d(R){R&&Z(t),gt(b),gt(v),gt(j),E&&E.d(),T&&T.d(),gt(st),gt(F),S=!1,it()}}}function Fe(l){let t,s=l[0].description+"",n;return{c(){t=r("div"),n=y(s),a(t,"class","small")},m(i,o){tt(i,t,o),e(t,n)},p(i,o){o&1&&s!==(s=i[0].description+"")&&G(n,s)},d(i){i&&Z(t)}}}function Le(l){let t,s,n,i,o,d,u,c=l[0].num_members+"",m,p,f,b,k;return b=new rl({}),{c(){t=r("div"),s=r("div"),n=r("button"),i=r("div"),o=y("Members "),d=r("span"),u=r("span"),u.textContent="total ",m=y(c),p=_(),f=r("div"),bt(b.$$.fragment),a(u,"class","text-muted"),a(d,"class","mx-3 badge bg-primary"),a(i,"class","h5 mb-0"),a(n,"class","accordion-button text-light bg-dark"),a(n,"data-bs-toggle","collapse"),a(n,"data-bs-target","#guild-members"),a(n,"aria-expanded","true"),a(n,"aria-controls","guild-members"),a(s,"class","accordion-header"),a(f,"id","guild-members"),a(f,"class","accordion-collapse collapse show"),a(t,"class","accordion-item")},m(g,v){tt(g,t,v),e(t,s),e(s,n),e(n,i),e(i,o),e(i,d),e(d,u),e(d,m),e(t,p),e(t,f),_t(b,f,null),k=!0},p(g,v){(!k||v&1)&&c!==(c=g[0].num_members+"")&&G(m,c)},i(g){k||(nt(b.$$.fragment,g),k=!0)},o(g){rt(b.$$.fragment,g),k=!1},d(g){g&&Z(t),gt(b)}}}function Ml(l){let t,s,n=l[0]&&Ne(l);return{c(){n&&n.c(),t=Oe()},m(i,o){n&&n.m(i,o),tt(i,t,o),s=!0},p(i,[o]){i[0]?n?(n.p(i,o),o&1&&nt(n,1)):(n=Ne(i),n.c(),nt(n,1),n.m(t.parentNode,t)):n&&(qt(),rt(n,1,1,()=>{n=null}),It())},i(i){s||(nt(n),s=!0)},o(i){rt(n),s=!1},d(i){n&&n.d(i),i&&Z(t)}}}function Dl(l,t,s){let n,i,o;return ht(l,Vt,u=>s(3,n=u)),ht(l,Ft,u=>s(0,i=u)),ht(l,Yt,u=>s(1,o=u)),[i,o,()=>{At(Yt,o=[],o),At(Ft,i=null,i),At(Vt,n="",n),oe("guild","")}]}class Bl extends Ct{constructor(t){super(),kt(this,t,Dl,Ml,$t,{})}}function Ue(l,t,s){const n=l.slice();return n[8]=t[s],n}function je(l){let t,s,n,i,o,d=l[8].name+"",u,c,m,p=l[8].rank+"",f,b,k,g,v,h,$=(Number(l[8].rating)/1e3).toFixed(1)+"",w,C,x,L,N,I,H,K=l[8].num_members+"",U,P,B,z,J;i=new Ke({props:{data:l[8].data}}),g=new ue({props:{level:l[8].brawl_level}}),N=new He({props:{buildings:l[8].buildings}});function Q(){return l[5](l[8])}return{c(){t=r("tr"),s=r("td"),n=r("div"),bt(i.$$.fragment),o=_(),u=y(d),c=_(),m=r("td"),f=y(p),b=_(),k=r("td"),bt(g.$$.fragment),v=_(),h=r("td"),w=y($),C=y("K"),x=_(),L=r("td"),bt(N.$$.fragment),I=_(),H=r("td"),U=y(K),P=_(),a(n,"class","px-3"),a(s,"class","text-nowrap"),a(m,"class","text-center"),a(k,"class","text-center"),a(h,"class","text-center"),a(H,"class","text-center"),a(t,"class","pointer"),Ot(t,"d-none",!String(l[8].name).trim().toLowerCase().includes(l[1].trim().toLowerCase()))},m(j,A){tt(j,t,A),e(t,s),e(s,n),_t(i,n,null),e(n,o),e(n,u),e(t,c),e(t,m),e(m,f),e(t,b),e(t,k),_t(g,k,null),e(t,v),e(t,h),e(h,w),e(h,C),e(t,x),e(t,L),_t(N,L,null),e(t,I),e(t,H),e(H,U),e(t,P),B=!0,z||(J=Nt(t,"click",Q),z=!0)},p(j,A){l=j;const D={};A&4&&(D.data=l[8].data),i.$set(D),(!B||A&4)&&d!==(d=l[8].name+"")&&G(u,d),(!B||A&4)&&p!==(p=l[8].rank+"")&&G(f,p);const O={};A&4&&(O.level=l[8].brawl_level),g.$set(O),(!B||A&4)&&$!==($=(Number(l[8].rating)/1e3).toFixed(1)+"")&&G(w,$);const at={};A&4&&(at.buildings=l[8].buildings),N.$set(at),(!B||A&4)&&K!==(K=l[8].num_members+"")&&G(U,K),A&6&&Ot(t,"d-none",!String(l[8].name).trim().toLowerCase().includes(l[1].trim().toLowerCase()))},i(j){B||(nt(i.$$.fragment,j),nt(g.$$.fragment,j),nt(N.$$.fragment,j),B=!0)},o(j){rt(i.$$.fragment,j),rt(g.$$.fragment,j),rt(N.$$.fragment,j),B=!1},d(j){j&&Z(t),gt(i),gt(g),gt(N),z=!1,J()}}}function Nl(l){let t,s,n,i,o,d,u,c,m,p,f,b,k,g,v=l[2],h=[];for(let w=0;w<v.length;w+=1)h[w]=je(Ue(l,v,w));const $=w=>rt(h[w],1,1,()=>{h[w]=null});return{c(){t=r("div"),s=r("div"),n=r("h1"),n.textContent="Splinterlands Guilds",i=_(),o=r("input"),d=_(),u=r("div"),c=r("table"),m=r("thead"),m.innerHTML=`<tr><th><div class="px-3">Guilds</div></th> 
          <th class="text-center">Rank</th> 
          <th class="text-center">Tier</th> 
          <th class="text-center">Rating</th> 
          <th class="text-center">Buildings</th> 
          <th class="text-center">Members</th></tr>`,p=_(),f=r("tbody");for(let w=0;w<h.length;w+=1)h[w].c();a(n,"class","h4 mb-0"),a(o,"class","form-control-sm"),a(o,"type","text"),a(o,"placeholder","Search"),a(s,"class","d-flex justify-content-between align-items-end mb-2"),a(m,"class","sticky-top bg-darker"),a(c,"class","table table-hover align-middle mb-0"),a(u,"class","table-responsive bg-dark max-h-500"),a(t,"class","mb-5 svelte-faikiu"),Ot(t,"disabled",l[0])},m(w,C){tt(w,t,C),e(t,s),e(s,n),e(s,i),e(s,o),Pt(o,l[1]),e(t,d),e(t,u),e(u,c),e(c,m),e(c,p),e(c,f);for(let x=0;x<h.length;x+=1)h[x].m(f,null);b=!0,k||(g=Nt(o,"input",l[4]),k=!0)},p(w,[C]){if(C&2&&o.value!==w[1]&&Pt(o,w[1]),C&14){v=w[2];let x;for(x=0;x<v.length;x+=1){const L=Ue(w,v,x);h[x]?(h[x].p(L,C),nt(h[x],1)):(h[x]=je(L),h[x].c(),nt(h[x],1),h[x].m(f,null))}for(qt(),x=v.length;x<h.length;x+=1)$(x);It()}C&1&&Ot(t,"disabled",w[0])},i(w){if(!b){for(let C=0;C<v.length;C+=1)nt(h[C]);b=!0}},o(w){h=h.filter(Boolean);for(let C=0;C<h.length;C+=1)rt(h[C]);b=!1},d(w){w&&Z(t),Mt(h,w),k=!1,g()}}}function Fl(l,t,s){let n,i,o,d,u;ht(l,zt,f=>s(0,n=f)),ht(l,Ft,f=>s(6,i=f)),ht(l,Vt,f=>s(1,o=f)),ht(l,Yt,f=>s(7,d=f)),ht(l,_e,f=>s(2,u=f)),de(async()=>{At(zt,n=!0,n);const f=await fl();_e.set(f);const k=new URLSearchParams(window.location.search).get("guild");k&&(await c(k),oe("guild",k)),At(zt,n=!1,n)});const c=async f=>{At(zt,n=!0,n),At(Ft,i=await ml(f),i),At(Yt,d=await pl(f),d),At(Vt,o=i.name,o),oe("guild",f),At(zt,n=!1,n)};function m(){o=this.value,Vt.set(o)}return[n,o,u,c,m,f=>c(f.id)]}class Ll extends Ct{constructor(t){super(),kt(this,t,Fl,Nl,$t,{})}}function Ee(l){let t,s;return t=new Bl({}),{c(){bt(t.$$.fragment)},m(n,i){_t(t,n,i),s=!0},i(n){s||(nt(t.$$.fragment,n),s=!0)},o(n){rt(t.$$.fragment,n),s=!1},d(n){gt(t,n)}}}function ze(l){let t,s,n;return s=new wl({}),{c(){t=r("div"),bt(s.$$.fragment),a(t,"class","text-center my-5")},m(i,o){tt(i,t,o),_t(s,t,null),n=!0},i(i){n||(nt(s.$$.fragment,i),n=!0)},o(i){rt(s.$$.fragment,i),n=!1},d(i){i&&Z(t),gt(s)}}}function Ul(l){let t,s,n,i,o,d,u,c,m,p,f,b,k;n=new Ll({});let g=l[0]&&!l[1]&&Ee(),v=l[1]&&ze();return{c(){t=r("main"),s=r("div"),bt(n.$$.fragment),i=_(),g&&g.c(),o=_(),v&&v.c(),d=_(),u=r("footer"),c=r("div"),m=y(`IGN:\r
        `),p=r("span"),p.textContent="NEVERMELTICE",a(p,"role","button"),a(p,"class","badge bg-primary text-secondary"),a(p,"title","click to copy"),a(c,"class","text-end text-muted my-5"),a(s,"class","container"),a(t,"class","bg-primary pt-3 text-body min-vh-100 font-monospace")},m(h,$){tt(h,t,$),e(t,s),_t(n,s,null),e(s,i),g&&g.m(s,null),e(s,o),v&&v.m(s,null),e(s,d),e(s,u),e(u,c),e(c,m),e(c,p),f=!0,b||(k=Nt(p,"click",jl),b=!0)},p(h,[$]){h[0]&&!h[1]?g?$&3&&nt(g,1):(g=Ee(),g.c(),nt(g,1),g.m(s,o)):g&&(qt(),rt(g,1,1,()=>{g=null}),It()),h[1]?v?$&2&&nt(v,1):(v=ze(),v.c(),nt(v,1),v.m(s,d)):v&&(qt(),rt(v,1,1,()=>{v=null}),It())},i(h){f||(nt(n.$$.fragment,h),nt(g),nt(v),f=!0)},o(h){rt(n.$$.fragment,h),rt(g),rt(v),f=!1},d(h){h&&Z(t),gt(n),g&&g.d(),v&&v.d(),b=!1,k()}}}function jl(){navigator.clipboard.writeText("nevermeltice"),alert("Copied!")}function El(l,t,s){let n,i;return ht(l,Ft,o=>s(0,n=o)),ht(l,zt,o=>s(1,i=o)),[n,i]}class zl extends Ct{constructor(t){super(),kt(this,t,El,Ul,$t,{})}}new zl({target:document.getElementById("app")});
