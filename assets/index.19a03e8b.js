(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function l(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=l(i);fetch(i.href,r)}})();function X(){}function At(t){return t()}function ut(){return Object.create(null)}function qe(t){t.forEach(At)}function Ht(t){return typeof t=="function"}function ge(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let ze;function Ke(t,e){return ze||(ze=document.createElement("a")),ze.href=e,t===ze.href}function Ut(t){return Object.keys(t).length===0}function Jt(t,...e){if(t==null)return X;const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function ue(t,e,l){t.$$.on_destroy.push(Jt(e,l))}function be(t,e,l){return t.set(l),e}function n(t,e){t.appendChild(e)}function M(t,e,l){t.insertBefore(e,l||null)}function G(t){t.parentNode.removeChild(t)}function Ee(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function o(t){return document.createElement(t)}function $(t){return document.createTextNode(t)}function _(){return $(" ")}function Vt(){return $("")}function Me(t,e,l,s){return t.addEventListener(e,l,s),()=>t.removeEventListener(e,l,s)}function a(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function Kt(t){return Array.from(t.childNodes)}function B(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function ct(t,e){t.value=e==null?"":e}function Ge(t,e,l){t.classList[l?"add":"remove"](e)}let je;function Re(t){je=t}function Qt(){if(!je)throw new Error("Function called outside component initialization");return je}function Dt(t){Qt().$$.on_mount.push(t)}const xe=[],dt=[],He=[],ft=[],Xt=Promise.resolve();let et=!1;function Yt(){et||(et=!0,Xt.then(Tt))}function tt(t){He.push(t)}const Ze=new Set;let Fe=0;function Tt(){const t=je;do{for(;Fe<xe.length;){const e=xe[Fe];Fe++,Re(e),Zt(e.$$)}for(Re(null),xe.length=0,Fe=0;dt.length;)dt.pop()();for(let e=0;e<He.length;e+=1){const l=He[e];Ze.has(l)||(Ze.add(l),l())}He.length=0}while(xe.length);for(;ft.length;)ft.pop()();et=!1,Ze.clear(),Re(t)}function Zt(t){if(t.fragment!==null){t.update(),qe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(tt)}}const Ue=new Set;let Le;function me(){Le={r:0,c:[],p:Le}}function _e(){Le.r||qe(Le.c),Le=Le.p}function T(t,e){t&&t.i&&(Ue.delete(t),t.i(e))}function K(t,e,l,s){if(t&&t.o){if(Ue.has(t))return;Ue.add(t),Le.c.push(()=>{Ue.delete(t),s&&(l&&t.d(1),s())}),t.o(e)}else s&&s()}function pe(t){t&&t.c()}function ce(t,e,l,s){const{fragment:i,on_mount:r,on_destroy:u,after_update:c}=t.$$;i&&i.m(e,l),s||tt(()=>{const f=r.map(At).filter(Ht);u?u.push(...f):qe(f),t.$$.on_mount=[]}),c.forEach(tt)}function de(t,e){const l=t.$$;l.fragment!==null&&(qe(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function el(t,e){t.$$.dirty[0]===-1&&(xe.push(t),Yt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function he(t,e,l,s,i,r,u,c=[-1]){const f=je;Re(t);const d=t.$$={fragment:null,ctx:null,props:r,update:X,not_equal:i,bound:ut(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:ut(),dirty:c,skip_bound:!1,root:e.target||f.$$.root};u&&u(d.root);let p=!1;if(d.ctx=l?l(t,e.props||{},(v,g,...k)=>{const m=k.length?k[0]:g;return d.ctx&&i(d.ctx[v],d.ctx[v]=m)&&(!d.skip_bound&&d.bound[v]&&d.bound[v](m),p&&el(t,v)),g}):[],d.update(),p=!0,qe(d.before_update),d.fragment=s?s(d.ctx):!1,e.target){if(e.hydrate){const v=Kt(e.target);d.fragment&&d.fragment.l(v),v.forEach(G)}else d.fragment&&d.fragment.c();e.intro&&T(t.$$.fragment),ce(t,e.target,e.anchor,e.customElement),Tt()}Re(f)}class ve{$destroy(){de(this,1),this.$destroy=X}$on(e,l){const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(l),()=>{const i=s.indexOf(l);i!==-1&&s.splice(i,1)}}$set(e){this.$$set&&!Ut(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ne=[];function We(t,e=X){let l;const s=new Set;function i(c){if(ge(t,c)&&(t=c,l)){const f=!Ne.length;for(const d of s)d[1](),Ne.push(d,t);if(f){for(let d=0;d<Ne.length;d+=2)Ne[d][0](Ne[d+1]);Ne.length=0}}}function r(c){i(c(t))}function u(c,f=X){const d=[c,f];return s.add(d),s.size===1&&(l=e(i)||X),c(t),()=>{s.delete(d),s.size===0&&(l(),l=null)}}return{set:i,update:r,subscribe:u}}const pt=We([]),Se=We(null),Be=We([]),Ie=We(!1),Je=We(null),lt="https://api2.splinterlands.com",Pt="https://game-api.splinterlands.io",mt="https://d36mxiodymuqjm.cloudfront.net/website",$e={0:"Novice",1:"Bronze 3",2:"Bronze 2",3:"Bronze 1",4:"Silver 3",5:"Silver 2",6:"Silver 1",7:"Gold 3",8:"Gold 2",9:"Gold 1",10:"Diamond 3",11:"Diamond 2",12:"Diamond 1",13:"Champion 3",14:"Champion 2",15:"Champion 1"},Ve=["Preparation Stage","Battle Stage","Result Stage"];function _t(t,e,l){const s=t.slice();return s[1]=e[l],s}function gt(t){let e=t[1].dec+"",l,s,i,r;return{c(){l=$(e),s=_(),i=o("img"),a(i,"width","25px"),a(i,"class","me-2"),Ke(i.src,r="https://d36mxiodymuqjm.cloudfront.net/website/guilds/img_dec.png")||a(i,"src",r),a(i,"alt","DEC")},m(u,c){M(u,l,c),M(u,s,c),M(u,i,c)},p(u,c){c&1&&e!==(e=u[1].dec+"")&&B(l,e)},d(u){u&&G(l),u&&G(s),u&&G(i)}}}function bt(t){let e=t[1].quest_lodge+"",l,s,i,r;return{c(){l=$(e),s=_(),i=o("img"),a(i,"width","25px"),a(i,"class","me-2"),Ke(i.src,r="https://d36mxiodymuqjm.cloudfront.net/website/guilds/img_quest_150.png")||a(i,"src",r),a(i,"alt","Quest")},m(u,c){M(u,l,c),M(u,s,c),M(u,i,c)},p(u,c){c&1&&e!==(e=u[1].quest_lodge+"")&&B(l,e)},d(u){u&&G(l),u&&G(s),u&&G(i)}}}function ht(t){let e=t[1].crowns+"",l,s,i,r;return{c(){l=$(e),s=_(),i=o("img"),a(i,"width","25px"),Ke(i.src,r="https://d36mxiodymuqjm.cloudfront.net/website/guilds/img_guild_crown_75.png")||a(i,"src",r),a(i,"alt","Crowns")},m(u,c){M(u,l,c),M(u,s,c),M(u,i,c)},p(u,c){c&1&&e!==(e=u[1].crowns+"")&&B(l,e)},d(u){u&&G(l),u&&G(s),u&&G(i)}}}function vt(t){let e,l,s,i,r=t[1].player+"",u,c,f,d,p,v=t[1].join_date+"",g,k,m,b,w=t[1].collection_power+"",P,L,y,C,D,U=t[1].modern_rating+"",J,W,A,N=$e[t[1].modern_league]+"",O,V,I,E,h,x=t[1].rating+"",z,S,q,j=$e[t[1].league]+"",Z,Y,ae,se,le,Q,fe,ee=t[1].dec&&gt(t),ne=t[1].quest_lodge&&bt(t),R=t[1].crowns&&ht(t);return{c(){e=o("tr"),l=o("td"),s=o("div"),i=o("a"),u=$(r),f=_(),d=o("div"),p=$("joined: "),g=$(v),k=_(),m=o("td"),b=o("div"),P=$(w),L=_(),y=o("td"),C=o("div"),D=o("span"),J=$(U),W=_(),A=o("span"),O=$(N),V=_(),I=o("td"),E=o("div"),h=o("span"),z=$(x),S=_(),q=o("span"),Z=$(j),Y=_(),ae=o("td"),se=o("div"),ee&&ee.c(),le=_(),ne&&ne.c(),Q=_(),R&&R.c(),fe=_(),a(i,"class","text-decoration-none"),a(i,"href",c="https://splinterlands.com/?p=collection&a="+t[1].player),a(i,"target","blank"),a(i,"title","view collections on splinterlands.com"),a(d,"class","text-muted"),a(s,"class","py-1 px-3 bg-dark"),a(l,"class","sticky-left p-0"),a(b,"class","px-3 font-monospace me-3 me-2"),a(D,"class","me-2"),a(A,"class","text-muted"),a(A,"title","rating"),a(C,"class","px-3 font-monospace me-3 me-2"),a(h,"class",""),a(h,"title","league"),a(q,"class","text-muted"),a(q,"title","rating"),a(E,"class","px-3 font-monospace me-3 me-2"),a(se,"class","px-3 font-monospace me-3 me-2 text-nowrap"),a(e,"class","bg-dark")},m(H,ie){M(H,e,ie),n(e,l),n(l,s),n(s,i),n(i,u),n(s,f),n(s,d),n(d,p),n(d,g),n(e,k),n(e,m),n(m,b),n(b,P),n(e,L),n(e,y),n(y,C),n(C,D),n(D,J),n(C,W),n(C,A),n(A,O),n(e,V),n(e,I),n(I,E),n(E,h),n(h,z),n(E,S),n(E,q),n(q,Z),n(e,Y),n(e,ae),n(ae,se),ee&&ee.m(se,null),n(se,le),ne&&ne.m(se,null),n(se,Q),R&&R.m(se,null),n(e,fe)},p(H,ie){ie&1&&r!==(r=H[1].player+"")&&B(u,r),ie&1&&c!==(c="https://splinterlands.com/?p=collection&a="+H[1].player)&&a(i,"href",c),ie&1&&v!==(v=H[1].join_date+"")&&B(g,v),ie&1&&w!==(w=H[1].collection_power+"")&&B(P,w),ie&1&&U!==(U=H[1].modern_rating+"")&&B(J,U),ie&1&&N!==(N=$e[H[1].modern_league]+"")&&B(O,N),ie&1&&x!==(x=H[1].rating+"")&&B(z,x),ie&1&&j!==(j=$e[H[1].league]+"")&&B(Z,j),H[1].dec?ee?ee.p(H,ie):(ee=gt(H),ee.c(),ee.m(se,le)):ee&&(ee.d(1),ee=null),H[1].quest_lodge?ne?ne.p(H,ie):(ne=bt(H),ne.c(),ne.m(se,Q)):ne&&(ne.d(1),ne=null),H[1].crowns?R?R.p(H,ie):(R=ht(H),R.c(),R.m(se,null)):R&&(R.d(1),R=null)},d(H){H&&G(e),ee&&ee.d(),ne&&ne.d(),R&&R.d()}}}function tl(t){let e,l,s,i,r,u=t[0],c=[];for(let f=0;f<u.length;f+=1)c[f]=vt(_t(t,u,f));return{c(){e=o("div"),l=o("table"),s=o("thead"),s.innerHTML=`<tr><th class="px-3">IGN</th> 
        <th class="px-3">CP</th> 
        <th class="px-3">Modern</th> 
        <th class="px-3">Wild</th> 
        <th class="px-3">Contributed</th></tr>`,i=_(),r=o("tbody");for(let f=0;f<c.length;f+=1)c[f].c();a(s,"class","sticky-top bg-dark"),a(l,"class","table table-sm align-middle mb-0"),a(e,"class","table-responsive max-h-500 border border-primary")},m(f,d){M(f,e,d),n(e,l),n(l,s),n(l,i),n(l,r);for(let p=0;p<c.length;p+=1)c[p].m(r,null)},p(f,[d]){if(d&1){u=f[0];let p;for(p=0;p<u.length;p+=1){const v=_t(f,u,p);c[p]?c[p].p(v,d):(c[p]=vt(v),c[p].c(),c[p].m(r,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=u.length}},i:X,o:X,d(f){f&&G(e),Ee(c,f)}}}function ll(t,e,l){let s;return ue(t,Be,i=>l(0,s=i)),[s]}class nl extends ve{constructor(e){super(),he(this,e,ll,tl,ge,{})}}function sl(t){let e,l,s,i,r=t[0].guild_hall.level+"",u,c,f,d,p,v=t[0].quest_lodge.level+"",g,k,m,b,w,P=t[0].arena.level+"",L,y,C,D,U,J=t[0].barracks.level+"",W,A,N,O,V,I=t[0].guild_shop.level+"",E;return{c(){e=o("div"),l=o("div"),s=o("span"),s.textContent="Hall",i=_(),u=$(r),c=_(),f=o("div"),d=o("span"),d.textContent="Lodge",p=_(),g=$(v),k=_(),m=o("div"),b=o("span"),b.textContent="Arena",w=_(),L=$(P),y=_(),C=o("div"),D=o("span"),D.textContent="Barracks",U=_(),W=$(J),A=_(),N=o("div"),O=o("span"),O.textContent="Shop",V=_(),E=$(I),a(s,"class","small text-muted me-2"),a(l,"class","me-2 text-nowrap badge bg-dark"),a(d,"class","small text-muted me-2"),a(f,"class","me-2 text-nowrap badge bg-dark"),a(b,"class","small text-muted me-2"),a(m,"class","me-2 text-nowrap badge bg-dark"),a(D,"class","small text-muted me-2"),a(C,"class","me-2 text-nowrap badge bg-dark"),a(O,"class","small text-muted me-2"),a(N,"class","me-2 text-nowrap badge bg-dark"),a(e,"class","d-flex flex-wrap")},m(h,x){M(h,e,x),n(e,l),n(l,s),n(l,i),n(l,u),n(e,c),n(e,f),n(f,d),n(f,p),n(f,g),n(e,k),n(e,m),n(m,b),n(m,w),n(m,L),n(e,y),n(e,C),n(C,D),n(C,U),n(C,W),n(e,A),n(e,N),n(N,O),n(N,V),n(N,E)},p:X,i:X,o:X,d(h){h&&G(e)}}}function il(t,e,l){let{buildings:s}=e;const i=JSON.parse(s);return t.$$set=r=>{"buildings"in r&&l(1,s=r.buildings)},[i,s]}class al extends ve{constructor(e){super(),he(this,e,il,sl,ge,{buildings:1})}}function rl(t){let e,l,s;return{c(){e=o("div"),l=o("img"),Ke(l.src,s=t[3])||a(l,"src",s),a(l,"alt",t[1].decal),a(l,"class","guild-crest__decal svelte-1vkkaiw"),a(e,"class","guild-crest svelte-1vkkaiw"),a(e,"style",`background-image: url(${t[2]})`),Ge(e,"guild-crest--large",t[0]==="large")},m(i,r){M(i,e,r),n(e,l)},p(i,[r]){r&1&&Ge(e,"guild-crest--large",i[0]==="large")},i:X,o:X,d(i){i&&G(e)}}}function ol(t,e,l){let{data:s}=e,{size:i=""}=e;const r=JSON.parse(s).crest,u=`${mt}/guilds/banners/bg_banner_${r.banner}.png`,c=`${mt}/guilds/decals/img_guild_${r.decal}.png`;return t.$$set=f=>{"data"in f&&l(4,s=f.data),"size"in f&&l(0,i=f.size)},[i,r,u,c,s]}class zt extends ve{constructor(e){super(),he(this,e,ol,rl,ge,{data:4,size:0})}}const ul=async()=>await(await fetch(`${lt}/guilds/list`)).json(),cl=async t=>await(await fetch(`${lt}/guilds/find?id=${t}`)).json(),dl=async t=>{const l=await(await fetch(`${Pt}/guilds/members?guild_id=${t}&status=active`)).json();return l?(l.forEach(s=>{const i=JSON.parse(s.data),{guild_hall:r=0,arena:u={DEC:0,CROWN:0},barracks:c={DEC:0,CROWN:0},guild_shop:f={DEC:0,CROWN:0},quest_lodge:d=0}=i.contributions;s.dec=r+u.DEC+c.DEC+f.DEC,s.quest_lodge=d,s.crowns=u.CROWN+c.CROWN+f.CROWN,s.join_date=new Date(s.join_date).toLocaleDateString()}),l.reverse()):[]},Ft=async({tournament_id:t,id:e})=>await(await fetch(`${lt}/tournaments/find_brawl?id=${t}&guild_id=${e}`)).json(),fl=async t=>await(await fetch(`${Pt}/players/details?name=${t}`)).json();function wt(t,e,l){const s=t.slice();return s[4]=e[l][0],s[5]=e[l][1],s}function kt(t){let e,l,s,i=t[4]+"",r,u,c,f,d=t[5].wins+"",p,v,g,k,m=t[5].losses+"",b,w,P,L,y=t[5].draws+"",C,D,U,J,W=t[5].total_battles+"",A,N,O,V,I=Number(t[5].wins/t[5].entered_battles*100).toFixed(2)+"",E,h,x;return{c(){e=o("tr"),l=o("td"),s=o("div"),r=$(i),u=_(),c=o("td"),f=o("div"),p=$(d),v=_(),g=o("td"),k=o("div"),b=$(m),w=_(),P=o("td"),L=o("div"),C=$(y),D=_(),U=o("td"),J=o("div"),A=$(W),N=_(),O=o("td"),V=o("div"),E=$(I),h=$("%"),x=_(),a(s,"class","py-1 px-3 bg-dark"),a(l,"class","text-nowrap sticky-left p-0"),a(f,"class","px-3"),a(c,"class","text-nowrap"),a(k,"class","px-3"),a(g,"class","text-nowrap"),a(L,"class","px-3"),a(P,"class","text-nowrap"),a(J,"class","px-3"),a(U,"class","text-nowrap"),a(V,"class","px-3"),a(O,"class","text-nowrap")},m(z,S){M(z,e,S),n(e,l),n(l,s),n(s,r),n(e,u),n(e,c),n(c,f),n(f,p),n(e,v),n(e,g),n(g,k),n(k,b),n(e,w),n(e,P),n(P,L),n(L,C),n(e,D),n(e,U),n(U,J),n(J,A),n(e,N),n(e,O),n(O,V),n(V,E),n(V,h),n(e,x)},p(z,S){S&1&&i!==(i=z[4]+"")&&B(r,i),S&1&&d!==(d=z[5].wins+"")&&B(p,d),S&1&&m!==(m=z[5].losses+"")&&B(b,m),S&1&&y!==(y=z[5].draws+"")&&B(C,y),S&1&&W!==(W=z[5].total_battles+"")&&B(A,W),S&1&&I!==(I=Number(z[5].wins/z[5].entered_battles*100).toFixed(2)+"")&&B(E,I)},d(z){z&&G(e)}}}function pl(t){let e,l,s,i,r,u,c,f,d=t[1].brawl_rank+"",p,v,g,k,m=t[1].wins+"",b,w,P,L,y=t[1].battles+"",C,D,U,J,W=t[1].win_rate+"",A,N,O,V,I,E,h,x,z,S=Object.entries(t[0]),q=[];for(let j=0;j<S.length;j+=1)q[j]=kt(wt(t,S,j));return{c(){e=o("div"),l=o("div"),l.textContent="Stats for the last 10 brawls",s=_(),i=o("button"),i.innerHTML='<span aria-hidden="true" class="dropdown-toggle"></span>',r=_(),u=o("div"),c=o("span"),f=$("Ave rank: "),p=$(d),v=_(),g=o("span"),k=$("Wins: "),b=$(m),w=_(),P=o("span"),L=$("Battles: "),C=$(y),D=_(),U=o("span"),J=$("Win rate: "),A=$(W),N=$("%"),O=_(),V=o("div"),I=o("div"),E=o("table"),h=o("thead"),h.innerHTML=`<tr class="sticky-top bg-dark"><th class="px-3 bg-dark"></th> 
          <th class="px-3 bg-dark">Wins</th> 
          <th class="px-3 bg-dark">Losses</th> 
          <th class="px-3 bg-dark">Draws</th> 
          <th class="px-3 bg-dark">Battles</th> 
          
          <th class="px-3 bg-dark">Win rate</th></tr>`,x=_(),z=o("tbody");for(let j=0;j<q.length;j+=1)q[j].c();a(l,"class","h5"),a(i,"class","btn btn-sm btn-primary ms-auto"),a(i,"type","button"),a(i,"data-bs-toggle","collapse"),a(i,"data-bs-target","#guild-brawl-result"),a(i,"aria-expanded","true"),a(i,"aria-controls","guild-brawl-result"),a(c,"class",""),a(g,"class","ms-3"),a(P,"class","ms-3"),a(U,"class","ms-3"),a(u,"class","px-2 mt-2 bg-primary flex-grow-1 w-100"),a(e,"class","accordion-header d-flex flex-wrap align-items-center py-2 px-3"),a(E,"class","table table-sm align-middle mb-0"),a(I,"class","table-responsive max-h-500 border border-primary"),a(V,"id","guild-brawl-result"),a(V,"class","accordion-collapse collapse show")},m(j,Z){M(j,e,Z),n(e,l),n(e,s),n(e,i),n(e,r),n(e,u),n(u,c),n(c,f),n(c,p),n(u,v),n(u,g),n(g,k),n(g,b),n(u,w),n(u,P),n(P,L),n(P,C),n(u,D),n(u,U),n(U,J),n(U,A),n(U,N),M(j,O,Z),M(j,V,Z),n(V,I),n(I,E),n(E,h),n(E,x),n(E,z);for(let Y=0;Y<q.length;Y+=1)q[Y].m(z,null)},p(j,[Z]){if(Z&2&&d!==(d=j[1].brawl_rank+"")&&B(p,d),Z&2&&m!==(m=j[1].wins+"")&&B(b,m),Z&2&&y!==(y=j[1].battles+"")&&B(C,y),Z&2&&W!==(W=j[1].win_rate+"")&&B(A,W),Z&1){S=Object.entries(j[0]);let Y;for(Y=0;Y<S.length;Y+=1){const ae=wt(j,S,Y);q[Y]?q[Y].p(ae,Z):(q[Y]=kt(ae),q[Y].c(),q[Y].m(z,null))}for(;Y<q.length;Y+=1)q[Y].d(1);q.length=S.length}},i:X,o:X,d(j){j&&G(e),j&&G(O),j&&G(V),Ee(q,j)}}}function ml(t,e,l){let s;ue(t,Se,c=>l(2,s=c));let i={},r={brawl_rank:0,battles:0,win_rate:0,draws:0,losses:0,wins:0};return(async()=>{const c=s.brawl_stats.results,f={};c.forEach(d=>{l(1,r.brawl_rank+=d.brawl_rank,r),l(1,r.battles+=d.draws+d.losses+d.wins,r),l(1,r.wins+=d.wins,r)}),l(1,r.brawl_rank=Math.round(r.brawl_rank/c.length),r),l(1,r.win_rate=Math.round(r.wins/r.battles*100),r);for await(let d of c){const p=await Ft({tournament_id:d.tournament_id,id:d.guild_id});p&&p.players&&p.players.forEach(v=>{const{brawl_level:g,draws:k,entered_battles:m,finish:b,fray_index:w,losses:P,meta_pts:L,total_battles:y,wins:C,player:D}=v;f[D]||(f[D]=[]),f[D]=[...f[D],{brawl_level:g,draws:k,entered_battles:m,finish:b,fray_index:w,losses:P,meta_pts:L,total_battles:y,wins:C}]})}for(const d in f)i[d]||l(0,i[d]={},i),f[d].reduce(function(p,v){return p||(p={brawl_level:0,draws:0,entered_battles:0,finish:0,losses:0,meta_pts:0,total_battles:0,wins:0},l(0,i[d]=p,i)),p.brawl_level+=v.brawl_level,p.draws+=v.draws,p.entered_battles+=v.entered_battles,p.finish+=v.finish,p.losses+=v.losses,p.meta_pts+=v.meta_pts,p.total_battles+=v.total_battles,p.wins+=v.wins,p},null)})(),[i,r]}class _l extends ve{constructor(e){super(),he(this,e,ml,pl,ge,{})}}function gl(t){let e;return{c(){e=o("span"),e.textContent="--",a(e,"class","text-muted")},m(l,s){M(l,e,s)},d(l){l&&G(e)}}}function bl(t){let e;return{c(){e=o("span"),e.textContent="\u2022",a(e,"class","text-warning me-1")},m(l,s){M(l,e,s)},d(l){l&&G(e)}}}function hl(t){let e;return{c(){e=o("span"),e.textContent="\u2022",a(e,"class","text-danger me-1")},m(l,s){M(l,e,s)},d(l){l&&G(e)}}}function vl(t){let e;return{c(){e=o("span"),e.textContent="\u2022",a(e,"class","text-success me-1")},m(l,s){M(l,e,s)},d(l){l&&G(e)}}}function wl(t){let e;return{c(){e=o("span"),a(e,"class","small text-muted")},m(l,s){M(l,e,s)},p:X,d(l){l&&G(e)}}}function kl(t){let e,l,s;return{c(){e=o("span"),e.textContent=`${t[1].player}`,a(e,"class","small text-muted"),a(e,"role","button"),a(e,"data-bs-toggle","modal"),a(e,"data-bs-target","#playerInfo")},m(i,r){M(i,e,r),l||(s=Me(e,"click",t[5]),l=!0)},p:X,d(i){i&&G(e),l=!1,s()}}}function $l(t){let e,l;function s(d,p){return d[0]===1?vl:d[0]===2?hl:d[0]===3?bl:gl}let i=s(t),r=i(t);function u(d,p){return d[1]&&d[1].player?kl:wl}let f=u(t)(t);return{c(){e=o("div"),r.c(),l=_(),f.c(),a(e,"class","text-nowrap")},m(d,p){M(d,e,p),r.m(e,null),n(e,l),f.m(e,null)},p(d,[p]){i!==(i=s(d))&&(r.d(1),r=i(d),r&&(r.c(),r.m(e,l))),f.p(d,p)},i:X,o:X,d(d){d&&G(e),r.d(),f.d()}}}function yl(t,e,l){let s;ue(t,Je,p=>l(6,s=p));let{players:i,champion:r}=e;const u=i.find(p=>p.fray_index===r.fray_index);console.log(i,u,r);let c=0;u&&r.defeated&&(r.defeated.includes(u.player)&&(c=1),!r.defeated.includes(u.player)&&u.defeated&&u.defeated.includes(r.player)&&(c=2),c||(c=3));const f=async p=>{const v=await fl(p.player);be(Je,s=v,s)},d=()=>f(u);return t.$$set=p=>{"players"in p&&l(3,i=p.players),"champion"in p&&l(4,r=p.champion)},[c,u,f,i,r,d]}class Cl extends ve{constructor(e){super(),he(this,e,yl,$l,ge,{players:3,champion:4})}}function Ll(t){let e;return{c(){e=o("div"),a(e,"class","spinner-border spinner-primary"),a(e,"role","status")},m(l,s){M(l,e,s)},p:X,i:X,o:X,d(l){l&&G(e)}}}class nt extends ve{constructor(e){super(),he(this,e,null,Ll,ge,{})}}function $t(t,e,l){const s=t.slice();return s[7]=e[l],s}function yt(t,e,l){const s=t.slice();return s[10]=e[l],s}function Ct(t,e,l){const s=t.slice();return s[10]=e[l],s}function Lt(t){let e,l,s;return l=new nt({}),{c(){e=o("div"),pe(l.$$.fragment),a(e,"class","text-center p-2")},m(i,r){M(i,e,r),ce(l,e,null),s=!0},i(i){s||(T(l.$$.fragment,i),s=!0)},o(i){K(l.$$.fragment,i),s=!1},d(i){i&&G(e),de(l)}}}function St(t){let e,l,s,i,r,u=(t[1][t[0].guildId]||"--")+"",c,f,d,p,v,g,k,m,b,w,P,L,y,C,D,U,J=t[2],W=[];for(let h=0;h<J.length;h+=1)W[h]=Nt(Ct(t,J,h));let A=t[0].players,N=[];for(let h=0;h<A.length;h+=1)N[h]=Et($t(t,A,h));const O=h=>K(N[h],1,1,()=>{N[h]=null}),V=[Nl,Sl],I=[];function E(h,x){return h[4]?0:1}return L=E(t),y=I[L]=V[L](t),{c(){e=o("div"),l=o("table"),s=o("thead"),i=o("tr"),r=o("th"),c=$(u),f=_();for(let h=0;h<W.length;h+=1)W[h].c();d=_(),p=o("tbody");for(let h=0;h<N.length;h+=1)N[h].c();v=_(),g=o("div"),k=o("div"),m=o("div"),b=o("div"),w=o("button"),P=_(),y.c(),a(r,"class","text-nowrap sticky-left px-3 bg-dark"),a(i,"class","sticky-top bg-dark"),a(l,"class","table table-sm align-middle mb-0"),a(e,"class","table-responsive max-h-500 border border-primary"),a(w,"type","button"),a(w,"class","btn-close float-end"),a(w,"data-bs-dismiss","modal"),a(w,"aria-label","Close"),a(b,"class","modal-body"),a(m,"class","modal-content"),a(k,"class","modal-dialog modal-dialog-centered"),a(g,"class","modal fade"),a(g,"id","playerInfo"),a(g,"tabindex","-1"),a(g,"aria-labelledby","playerInfoLabel"),a(g,"aria-hidden","true")},m(h,x){M(h,e,x),n(e,l),n(l,s),n(s,i),n(i,r),n(r,c),n(i,f);for(let z=0;z<W.length;z+=1)W[z].m(i,null);n(l,d),n(l,p);for(let z=0;z<N.length;z+=1)N[z].m(p,null);M(h,v,x),M(h,g,x),n(g,k),n(k,m),n(m,b),n(b,w),n(b,P),I[L].m(b,null),C=!0,D||(U=Me(w,"click",t[6]),D=!0)},p(h,x){if((!C||x&3)&&u!==(u=(h[1][h[0].guildId]||"--")+"")&&B(c,u),x&6){J=h[2];let S;for(S=0;S<J.length;S+=1){const q=Ct(h,J,S);W[S]?W[S].p(q,x):(W[S]=Nt(q),W[S].c(),W[S].m(i,null))}for(;S<W.length;S+=1)W[S].d(1);W.length=J.length}if(x&5){A=h[0].players;let S;for(S=0;S<A.length;S+=1){const q=$t(h,A,S);N[S]?(N[S].p(q,x),T(N[S],1)):(N[S]=Et(q),N[S].c(),T(N[S],1),N[S].m(p,null))}for(me(),S=A.length;S<N.length;S+=1)O(S);_e()}let z=L;L=E(h),L===z?I[L].p(h,x):(me(),K(I[z],1,1,()=>{I[z]=null}),_e(),y=I[L],y?y.p(h,x):(y=I[L]=V[L](h),y.c()),T(y,1),y.m(b,null))},i(h){if(!C){for(let x=0;x<A.length;x+=1)T(N[x]);T(y),C=!0}},o(h){N=N.filter(Boolean);for(let x=0;x<N.length;x+=1)K(N[x]);K(y),C=!1},d(h){h&&G(e),Ee(W,h),Ee(N,h),h&&G(v),h&&G(g),I[L].d(),D=!1,U()}}}function Nt(t){let e,l=(t[1][t[10].guildId]||"--")+"",s,i;return{c(){e=o("th"),s=$(l),i=_(),a(e,"class","px-3 bg-dark text-nowrap")},m(r,u){M(r,e,u),n(e,s),n(e,i)},p(r,u){u&6&&l!==(l=(r[1][r[10].guildId]||"--")+"")&&B(s,l)},d(r){r&&G(e)}}}function It(t){let e,l,s,i;return s=new Cl({props:{players:t[10].players,champion:t[7]}}),{c(){e=o("td"),l=o("div"),pe(s.$$.fragment),a(l,"class","px-3")},m(r,u){M(r,e,u),n(e,l),ce(s,l,null),i=!0},p(r,u){const c={};u&4&&(c.players=r[10].players),u&1&&(c.champion=r[7]),s.$set(c)},i(r){i||(T(s.$$.fragment,r),i=!0)},o(r){K(s.$$.fragment,r),i=!1},d(r){r&&G(e),de(s)}}}function Et(t){let e,l,s,i,r=t[7].player+"",u,c,f,d,p=t[7].wins+"",v,g,k,m,b=t[7].losses+"",w,P,L,y,C=t[7].draws+"",D,U,J,W,A,N=t[2],O=[];for(let I=0;I<N.length;I+=1)O[I]=It(yt(t,N,I));const V=I=>K(O[I],1,1,()=>{O[I]=null});return{c(){e=o("tr"),l=o("td"),s=o("div"),i=o("span"),u=$(r),c=_(),f=o("span"),d=o("span"),v=$(p),g=$(" W"),k=_(),m=o("span"),w=$(b),P=$(" L"),L=_(),y=o("span"),D=$(C),U=$(" D"),J=_();for(let I=0;I<O.length;I+=1)O[I].c();W=_(),a(i,"class","me-2"),a(d,"class","text-success ms-1"),a(m,"class","text-danger ms-1"),a(y,"class","text-warning ms-1"),a(f,"class","ms-auto text-muted badge"),a(s,"class","py-1 px-3 d-flex flex-wrap text-nowrap bg-dark"),a(l,"class","p-0 sticky-left")},m(I,E){M(I,e,E),n(e,l),n(l,s),n(s,i),n(i,u),n(s,c),n(s,f),n(f,d),n(d,v),n(d,g),n(f,k),n(f,m),n(m,w),n(m,P),n(f,L),n(f,y),n(y,D),n(y,U),n(e,J);for(let h=0;h<O.length;h+=1)O[h].m(e,null);n(e,W),A=!0},p(I,E){if((!A||E&1)&&r!==(r=I[7].player+"")&&B(u,r),(!A||E&1)&&p!==(p=I[7].wins+"")&&B(v,p),(!A||E&1)&&b!==(b=I[7].losses+"")&&B(w,b),(!A||E&1)&&C!==(C=I[7].draws+"")&&B(D,C),E&5){N=I[2];let h;for(h=0;h<N.length;h+=1){const x=yt(I,N,h);O[h]?(O[h].p(x,E),T(O[h],1)):(O[h]=It(x),O[h].c(),T(O[h],1),O[h].m(e,W))}for(me(),h=N.length;h<O.length;h+=1)V(h);_e()}},i(I){if(!A){for(let E=0;E<N.length;E+=1)T(O[E]);A=!0}},o(I){O=O.filter(Boolean);for(let E=0;E<O.length;E+=1)K(O[E]);A=!1},d(I){I&&G(e),Ee(O,I)}}}function Sl(t){let e,l;return e=new nt({}),{c(){pe(e.$$.fragment)},m(s,i){ce(e,s,i),l=!0},p:X,i(s){l||(T(e.$$.fragment,s),l=!0)},o(s){K(e.$$.fragment,s),l=!1},d(s){de(e,s)}}}function Nl(t){let e,l,s,i=t[4].name+"",r,u,c,f,d,p=t[4].collection_power+"",v,g,k,m,b,w,P,L,y,C,D,U,J=$e[t[4].league]+"",W,A,N,O,V,I=t[4].rating+"",E,h,x,z,S,q=Number(t[4].wins/t[4].battles*100).toFixed(2)+"",j,Z,Y,ae,se,le,Q,fe,ee,ne,R=$e[t[4].modern_league]+"",H,ie,we,ke,st,Ae=t[4].modern_rating+"",Qe,it,ye,De,at,Te=Number(t[4].modern_wins/t[4].modern_battles*100).toFixed(2)+"",Xe,rt,Ye,Oe,Ce,ot,Pe,re=t[4].title_post&&Gt(t),oe=t[4].champion_points&&Mt(t);return{c(){e=o("p"),l=o("span"),l.textContent="Name:",s=_(),r=$(i),u=_(),c=o("p"),f=o("span"),f.textContent="Collection power:",d=_(),v=$(p),g=_(),re&&re.c(),k=_(),oe&&oe.c(),m=_(),b=o("div"),w=o("div"),P=o("div"),P.textContent="Wild",L=_(),y=o("div"),C=o("div"),D=o("span"),D.textContent="League:",U=_(),W=$(J),A=_(),N=o("div"),O=o("span"),O.textContent="Rating:",V=_(),E=$(I),h=_(),x=o("div"),z=o("span"),z.textContent="Win rate:",S=_(),j=$(q),Z=$("%"),Y=_(),ae=o("div"),se=o("div"),se.textContent="Modern",le=_(),Q=o("div"),fe=o("div"),ee=o("span"),ee.textContent="League:",ne=_(),H=$(R),ie=_(),we=o("div"),ke=o("span"),ke.textContent="Rating:",st=_(),Qe=$(Ae),it=_(),ye=o("div"),De=o("span"),De.textContent="Win rate:",at=_(),Xe=$(Te),rt=$("%"),Ye=_(),Oe=o("div"),Ce=o("a"),ot=$("View collections on splinterlands.com"),a(l,"class","text-muted me-2"),a(f,"class","text-muted me-2"),a(P,"class","card-header"),a(D,"class","text-muted me-2"),a(C,"class","list-group-item"),a(O,"class","text-muted me-2"),a(N,"class","list-group-item"),a(z,"class","text-muted me-2"),a(x,"class","list-group-item"),a(y,"class","list-group list-group-flush"),a(w,"class","card flex-fill"),a(se,"class","card-header"),a(ee,"class","text-muted me-2"),a(fe,"class","list-group-item"),a(ke,"class","text-muted me-2"),a(we,"class","list-group-item"),a(De,"class","text-muted me-2"),a(ye,"class","list-group-item"),a(Q,"class","list-group list-group-flush"),a(ae,"class","card flex-fill"),a(b,"class","d-md-flex"),a(Ce,"class","text-info text-decoration-none"),a(Ce,"href",Pe="https://splinterlands.com/?p=collection&a="+t[4].name),a(Ce,"target","blank"),a(Oe,"class","mt-3")},m(F,te){M(F,e,te),n(e,l),n(e,s),n(e,r),M(F,u,te),M(F,c,te),n(c,f),n(c,d),n(c,v),M(F,g,te),re&&re.m(F,te),M(F,k,te),oe&&oe.m(F,te),M(F,m,te),M(F,b,te),n(b,w),n(w,P),n(w,L),n(w,y),n(y,C),n(C,D),n(C,U),n(C,W),n(y,A),n(y,N),n(N,O),n(N,V),n(N,E),n(y,h),n(y,x),n(x,z),n(x,S),n(x,j),n(x,Z),n(b,Y),n(b,ae),n(ae,se),n(ae,le),n(ae,Q),n(Q,fe),n(fe,ee),n(fe,ne),n(fe,H),n(Q,ie),n(Q,we),n(we,ke),n(we,st),n(we,Qe),n(Q,it),n(Q,ye),n(ye,De),n(ye,at),n(ye,Xe),n(ye,rt),M(F,Ye,te),M(F,Oe,te),n(Oe,Ce),n(Ce,ot)},p(F,te){te&16&&i!==(i=F[4].name+"")&&B(r,i),te&16&&p!==(p=F[4].collection_power+"")&&B(v,p),F[4].title_post?re?re.p(F,te):(re=Gt(F),re.c(),re.m(k.parentNode,k)):re&&(re.d(1),re=null),F[4].champion_points?oe?oe.p(F,te):(oe=Mt(F),oe.c(),oe.m(m.parentNode,m)):oe&&(oe.d(1),oe=null),te&16&&J!==(J=$e[F[4].league]+"")&&B(W,J),te&16&&I!==(I=F[4].rating+"")&&B(E,I),te&16&&q!==(q=Number(F[4].wins/F[4].battles*100).toFixed(2)+"")&&B(j,q),te&16&&R!==(R=$e[F[4].modern_league]+"")&&B(H,R),te&16&&Ae!==(Ae=F[4].modern_rating+"")&&B(Qe,Ae),te&16&&Te!==(Te=Number(F[4].modern_wins/F[4].modern_battles*100).toFixed(2)+"")&&B(Xe,Te),te&16&&Pe!==(Pe="https://splinterlands.com/?p=collection&a="+F[4].name)&&a(Ce,"href",Pe)},i:X,o:X,d(F){F&&G(e),F&&G(u),F&&G(c),F&&G(g),re&&re.d(F),F&&G(k),oe&&oe.d(F),F&&G(m),F&&G(b),F&&G(Ye),F&&G(Oe)}}}function Gt(t){let e,l,s,i=t[4].title_post+"",r;return{c(){e=o("p"),l=o("span"),l.textContent="title:",s=_(),r=$(i),a(l,"class","text-muted me-2")},m(u,c){M(u,e,c),n(e,l),n(e,s),n(e,r)},p(u,c){c&16&&i!==(i=u[4].title_post+"")&&B(r,i)},d(u){u&&G(e)}}}function Mt(t){let e,l,s,i=t[4].champion_points+"",r;return{c(){e=o("p"),l=o("span"),l.textContent="Champion points:",s=_(),r=$(i),a(l,"class","text-muted me-2")},m(u,c){M(u,e,c),n(e,l),n(e,s),n(e,r)},p(u,c){c&16&&i!==(i=u[4].champion_points+"")&&B(r,i)},d(u){u&&G(e)}}}function Il(t){let e,l,s,i,r=Ve[t[5].tournament_status]+"",u,c,f,d,p,v,g,k=t[3]&&Lt(),m=t[0]&&t[5]&&!t[3]&&St(t);return{c(){e=o("div"),l=o("div"),s=o("strong"),s.textContent="Current Brawl",i=$(" : "),u=$(r),c=_(),f=o("button"),f.innerHTML='<span aria-hidden="true" class="dropdown-toggle"></span>',d=_(),p=o("div"),k&&k.c(),v=_(),m&&m.c(),a(f,"class","btn btn-sm btn-primary ms-auto"),a(f,"type","button"),a(f,"data-bs-toggle","collapse"),a(f,"data-bs-target","#guild-brawl-latest"),a(f,"aria-expanded","true"),a(f,"aria-controls","guild-brawl-result"),a(e,"class","accordion-header d-flex align-items-center py-2 px-3"),a(p,"id","guild-brawl-latest"),a(p,"class","accordion-collapse collapse show")},m(b,w){M(b,e,w),n(e,l),n(l,s),n(l,i),n(l,u),n(e,c),n(e,f),M(b,d,w),M(b,p,w),k&&k.m(p,null),n(p,v),m&&m.m(p,null),g=!0},p(b,[w]){(!g||w&32)&&r!==(r=Ve[b[5].tournament_status]+"")&&B(u,r),b[3]?k?w&8&&T(k,1):(k=Lt(),k.c(),T(k,1),k.m(p,v)):k&&(me(),K(k,1,1,()=>{k=null}),_e()),b[0]&&b[5]&&!b[3]?m?(m.p(b,w),w&41&&T(m,1)):(m=St(b),m.c(),T(m,1),m.m(p,null)):m&&(me(),K(m,1,1,()=>{m=null}),_e())},i(b){g||(T(k),T(m),g=!0)},o(b){K(k),K(m),g=!1},d(b){b&&G(e),b&&G(d),b&&G(p),k&&k.d(),m&&m.d()}}}function El(t,e,l){let s,i;ue(t,Je,p=>l(4,s=p)),ue(t,Se,p=>l(5,i=p));let r=null,u={},c=[],f=!1;return Dt(async()=>{l(3,f=!0);const p=JSON.parse(i.tournament_data);for await(let v of p.guilds){const g=await Ft({tournament_id:i.tournament_id,id:v});v===i.id?l(0,r={guildId:v,...g}):l(2,c=[...c,{guildId:v,players:g.players}])}r.guilds.forEach(v=>{l(1,u[v.id]=v.name,u)}),l(3,f=!1)}),[r,u,c,f,s,i,()=>be(Je,s=null,s)]}class Gl extends ve{constructor(e){super(),he(this,e,El,Il,ge,{})}}function Ot(t){let e,l,s,i=t[0].name+"",r,u,c,f,d,p,v,g,k,m,b,w=t[0].rank+"",P,L,y,C,D=t[0].rating+"",U,J,W,A,N,O,V,I,E,h,x,z,S,q,j,Z,Y,ae,se;p=new zt({props:{data:t[0].data,size:"large"}}),A=new al({props:{buildings:t[0].buildings}});let le=t[0].description&&xt(t),Q=t[1]&&t[1].length&&Rt(t);x=new _l({});const fe=[xl,Ol,Ml],ee=[];function ne(R,H){return R[0].tournament_status?0:R[0].tournament_status===0?1:2}return j=ne(t),Z=ee[j]=fe[j](t),{c(){e=o("div"),l=o("div"),s=o("h2"),r=$(i),u=_(),c=o("button"),c.innerHTML='<span aria-hidden="true">\xD7</span>',f=_(),d=o("div"),pe(p.$$.fragment),v=_(),g=o("div"),k=o("div"),m=o("span"),b=$("Rank: "),P=$(w),L=_(),y=o("span"),C=$("Rating: "),U=$(D),J=_(),W=o("div"),pe(A.$$.fragment),N=_(),le&&le.c(),O=_(),V=o("div"),Q&&Q.c(),I=_(),E=o("div"),h=o("div"),pe(x.$$.fragment),z=_(),S=o("div"),q=o("div"),Z.c(),a(s,"class","h5"),a(c,"class","btn btn-sm btn-primary py-0 ms-auto close"),a(c,"aria-label","close"),a(l,"class","d-flex bg-dark py-2 px-3"),a(m,"class","me-2"),a(k,"class","mb-2"),a(W,"class","mb-2"),a(g,"class","px-3"),a(d,"class","d-flex mb-4 p-3 bg-black rounded"),a(V,"class","accordion mb-3"),a(h,"class","accordion-item"),a(E,"class","accordion mb-3"),a(q,"class","accordion-item"),a(S,"class","accordion mb-3"),a(e,"class","mb-5")},m(R,H){M(R,e,H),n(e,l),n(l,s),n(s,r),n(l,u),n(l,c),n(e,f),n(e,d),ce(p,d,null),n(d,v),n(d,g),n(g,k),n(k,m),n(m,b),n(m,P),n(k,L),n(k,y),n(y,C),n(y,U),n(g,J),n(g,W),ce(A,W,null),n(g,N),le&&le.m(g,null),n(e,O),n(e,V),Q&&Q.m(V,null),n(e,I),n(e,E),n(E,h),ce(x,h,null),n(e,z),n(e,S),n(S,q),ee[j].m(q,null),Y=!0,ae||(se=Me(c,"click",t[2]),ae=!0)},p(R,H){(!Y||H&1)&&i!==(i=R[0].name+"")&&B(r,i);const ie={};H&1&&(ie.data=R[0].data),p.$set(ie),(!Y||H&1)&&w!==(w=R[0].rank+"")&&B(P,w),(!Y||H&1)&&D!==(D=R[0].rating+"")&&B(U,D);const we={};H&1&&(we.buildings=R[0].buildings),A.$set(we),R[0].description?le?le.p(R,H):(le=xt(R),le.c(),le.m(g,null)):le&&(le.d(1),le=null),R[1]&&R[1].length?Q?(Q.p(R,H),H&2&&T(Q,1)):(Q=Rt(R),Q.c(),T(Q,1),Q.m(V,null)):Q&&(me(),K(Q,1,1,()=>{Q=null}),_e());let ke=j;j=ne(R),j===ke?ee[j].p(R,H):(me(),K(ee[ke],1,1,()=>{ee[ke]=null}),_e(),Z=ee[j],Z?Z.p(R,H):(Z=ee[j]=fe[j](R),Z.c()),T(Z,1),Z.m(q,null))},i(R){Y||(T(p.$$.fragment,R),T(A.$$.fragment,R),T(Q),T(x.$$.fragment,R),T(Z),Y=!0)},o(R){K(p.$$.fragment,R),K(A.$$.fragment,R),K(Q),K(x.$$.fragment,R),K(Z),Y=!1},d(R){R&&G(e),de(p),de(A),le&&le.d(),Q&&Q.d(),de(x),ee[j].d(),ae=!1,se()}}}function xt(t){let e,l=t[0].description+"",s;return{c(){e=o("div"),s=$(l),a(e,"class","small")},m(i,r){M(i,e,r),n(e,s)},p(i,r){r&1&&l!==(l=i[0].description+"")&&B(s,l)},d(i){i&&G(e)}}}function Rt(t){let e,l,s,i,r,u=t[0].num_members+"",c,f,d,p,v,g,k;return g=new nl({}),{c(){e=o("div"),l=o("div"),s=o("span"),s.textContent="Members",i=_(),r=o("span"),c=$(u),f=_(),d=o("button"),d.innerHTML='<span aria-hidden="true" class="dropdown-toggle"></span>',p=_(),v=o("div"),pe(g.$$.fragment),a(s,"class","h5"),a(r,"class","mx-3 badge bg-primary"),a(d,"class","btn btn-sm btn-primary ms-auto"),a(d,"type","button"),a(d,"data-bs-toggle","collapse"),a(d,"data-bs-target","#guild-members"),a(d,"aria-expanded","true"),a(d,"aria-controls","guild-members"),a(l,"class","accordion-header d-flex align-items-center py-2 px-3"),a(v,"id","guild-members"),a(v,"class","accordion-collapse collapse show"),a(e,"class","accordion-item")},m(m,b){M(m,e,b),n(e,l),n(l,s),n(l,i),n(l,r),n(r,c),n(l,f),n(l,d),n(e,p),n(e,v),ce(g,v,null),k=!0},p(m,b){(!k||b&1)&&u!==(u=m[0].num_members+"")&&B(c,u)},i(m){k||(T(g.$$.fragment,m),k=!0)},o(m){K(g.$$.fragment,m),k=!1},d(m){m&&G(e),de(g)}}}function Ml(t){let e;return{c(){e=o("div"),e.textContent="No participation",a(e,"class","h1 text-center")},m(l,s){M(l,e,s)},p:X,i:X,o:X,d(l){l&&G(e)}}}function Ol(t){let e,l=Ve[t[0].tournament_status]+"",s;return{c(){e=o("div"),s=$(l),a(e,"class","h1 text-center")},m(i,r){M(i,e,r),n(e,s)},p(i,r){r&1&&l!==(l=Ve[i[0].tournament_status]+"")&&B(s,l)},i:X,o:X,d(i){i&&G(e)}}}function xl(t){let e,l;return e=new Gl({}),{c(){pe(e.$$.fragment)},m(s,i){ce(e,s,i),l=!0},p:X,i(s){l||(T(e.$$.fragment,s),l=!0)},o(s){K(e.$$.fragment,s),l=!1},d(s){de(e,s)}}}function Rl(t){let e,l,s=t[0]&&Ot(t);return{c(){s&&s.c(),e=Vt()},m(i,r){s&&s.m(i,r),M(i,e,r),l=!0},p(i,[r]){i[0]?s?(s.p(i,r),r&1&&T(s,1)):(s=Ot(i),s.c(),T(s,1),s.m(e.parentNode,e)):s&&(me(),K(s,1,1,()=>{s=null}),_e())},i(i){l||(T(s),l=!0)},o(i){K(s),l=!1},d(i){s&&s.d(i),i&&G(e)}}}function jl(t,e,l){let s,i;return ue(t,Se,u=>l(0,s=u)),ue(t,Be,u=>l(1,i=u)),[s,i,()=>{be(Be,i=[],i),be(Se,s=null,s)}]}class Bl extends ve{constructor(e){super(),he(this,e,jl,Rl,ge,{})}}function jt(t,e,l){const s=t.slice();return s[9]=e[l],s}function Bt(t){let e,l,s,i=t[9].rank+"",r,u,c,f,d,p,v=t[9].name+"",g,k,m,b=t[9].owner+"",w,P,L,y=t[9].level+"",C,D,U,J=t[9].rating+"",W,A,N,O=t[9].num_members+"",V,I,E,h,x;f=new zt({props:{data:t[9].data}});function z(){return t[5](t[9])}return{c(){e=o("tr"),l=o("td"),s=o("span"),r=$(i),u=_(),c=o("td"),pe(f.$$.fragment),d=_(),p=o("td"),g=$(v),k=_(),m=o("div"),w=$(b),P=_(),L=o("td"),C=$(y),D=_(),U=o("td"),W=$(J),A=_(),N=o("td"),V=$(O),I=_(),a(s,"class","badge bg-primary"),a(l,"class","text-center"),a(c,"class","sticky-left text-center"),a(m,"class","small text-muted"),a(L,"class","text-center"),a(U,"class","text-center"),a(N,"class","text-center"),a(e,"class","pointer"),Ge(e,"d-none",!String(t[9].name).trim().toLowerCase().includes(t[0].trim().toLowerCase()))},m(S,q){M(S,e,q),n(e,l),n(l,s),n(s,r),n(e,u),n(e,c),ce(f,c,null),n(e,d),n(e,p),n(p,g),n(p,k),n(p,m),n(m,w),n(e,P),n(e,L),n(L,C),n(e,D),n(e,U),n(U,W),n(e,A),n(e,N),n(N,V),n(e,I),E=!0,h||(x=Me(e,"click",z),h=!0)},p(S,q){t=S,(!E||q&4)&&i!==(i=t[9].rank+"")&&B(r,i);const j={};q&4&&(j.data=t[9].data),f.$set(j),(!E||q&4)&&v!==(v=t[9].name+"")&&B(g,v),(!E||q&4)&&b!==(b=t[9].owner+"")&&B(w,b),(!E||q&4)&&y!==(y=t[9].level+"")&&B(C,y),(!E||q&4)&&J!==(J=t[9].rating+"")&&B(W,J),(!E||q&4)&&O!==(O=t[9].num_members+"")&&B(V,O),q&5&&Ge(e,"d-none",!String(t[9].name).trim().toLowerCase().includes(t[0].trim().toLowerCase()))},i(S){E||(T(f.$$.fragment,S),E=!0)},o(S){K(f.$$.fragment,S),E=!1},d(S){S&&G(e),de(f),h=!1,x()}}}function ql(t){let e,l,s,i,r,u,c,f,d,p,v,g,k,m,b=t[2],w=[];for(let L=0;L<b.length;L+=1)w[L]=Bt(jt(t,b,L));const P=L=>K(w[L],1,1,()=>{w[L]=null});return{c(){e=o("div"),l=o("div"),s=o("h1"),s.textContent="Splinterlands Guilds",i=_(),r=o("input"),u=_(),c=o("div"),f=o("table"),d=o("thead"),d.innerHTML=`<tr><th class="text-center svelte-1oulo3m">Rank</th> 
          <th class="sticky-left bg-primary text-center svelte-1oulo3m">Guilds</th> 
          <th class="svelte-1oulo3m"></th> 
          <th class="text-center svelte-1oulo3m">Level</th> 
          <th class="text-center svelte-1oulo3m">Rating</th> 
          
          <th class="text-center svelte-1oulo3m">Members</th></tr>`,p=_(),v=o("tbody");for(let L=0;L<w.length;L+=1)w[L].c();a(s,"class","h4 mb-0"),a(r,"class","form-control-sm"),a(r,"type","text"),a(r,"placeholder","Search"),a(l,"class","d-flex justify-content-between align-items-end mb-2"),a(d,"class","sticky-top bg-primary"),a(f,"class","table table-hover align-middle mb-0 svelte-1oulo3m"),a(c,"class","table-responsive max-h-500"),a(e,"class","mb-5 svelte-1oulo3m"),Ge(e,"disabled",t[1])},m(L,y){M(L,e,y),n(e,l),n(l,s),n(l,i),n(l,r),ct(r,t[0]),n(e,u),n(e,c),n(c,f),n(f,d),n(f,p),n(f,v);for(let C=0;C<w.length;C+=1)w[C].m(v,null);g=!0,k||(m=Me(r,"input",t[4]),k=!0)},p(L,[y]){if(y&1&&r.value!==L[0]&&ct(r,L[0]),y&13){b=L[2];let C;for(C=0;C<b.length;C+=1){const D=jt(L,b,C);w[C]?(w[C].p(D,y),T(w[C],1)):(w[C]=Bt(D),w[C].c(),T(w[C],1),w[C].m(v,null))}for(me(),C=b.length;C<w.length;C+=1)P(C);_e()}y&2&&Ge(e,"disabled",L[1])},i(L){if(!g){for(let y=0;y<b.length;y+=1)T(w[y]);g=!0}},o(L){w=w.filter(Boolean);for(let y=0;y<w.length;y+=1)K(w[y]);g=!1},d(L){L&&G(e),Ee(w,L),k=!1,m()}}}function Wl(t,e,l){let s,i,r,u;ue(t,Ie,g=>l(1,s=g)),ue(t,Se,g=>l(6,i=g)),ue(t,Be,g=>l(7,r=g)),ue(t,pt,g=>l(2,u=g));let c="";const f=g=>{const k=new URL(window.location.href),m=k.searchParams;m.set("guild",g),k.search=m.toString(),window.history.pushState("","",k.search)};Dt(async()=>{be(Ie,s=!0,s);const g=await ul();pt.set(g);const m=new URLSearchParams(window.location.search).get("guild");m&&(await d(m),f(m)),be(Ie,s=!1,s)});const d=async g=>{be(Ie,s=!0,s),be(Se,i=await cl(g),i),be(Be,r=await dl(g),r),l(0,c=i.name),f(g),be(Ie,s=!1,s)};function p(){c=this.value,l(0,c)}return[c,s,u,d,p,g=>d(g.id)]}class Al extends ve{constructor(e){super(),he(this,e,Wl,ql,ge,{})}}function qt(t){let e,l;return e=new Bl({}),{c(){pe(e.$$.fragment)},m(s,i){ce(e,s,i),l=!0},i(s){l||(T(e.$$.fragment,s),l=!0)},o(s){K(e.$$.fragment,s),l=!1},d(s){de(e,s)}}}function Wt(t){let e,l,s;return l=new nt({}),{c(){e=o("div"),pe(l.$$.fragment),a(e,"class","text-center my-5")},m(i,r){M(i,e,r),ce(l,e,null),s=!0},i(i){s||(T(l.$$.fragment,i),s=!0)},o(i){K(l.$$.fragment,i),s=!1},d(i){i&&G(e),de(l)}}}function Dl(t){let e,l,s,i,r,u,c,f,d,p,v,g,k;s=new Al({});let m=t[0]&&!t[1]&&qt(),b=t[1]&&Wt();return{c(){e=o("main"),l=o("div"),pe(s.$$.fragment),i=_(),m&&m.c(),r=_(),b&&b.c(),u=_(),c=o("footer"),f=o("div"),d=$(`IGN:\r
        `),p=o("span"),p.textContent="NEVERMELTICE",a(p,"role","button"),a(p,"class","badge bg-primary text-secondary"),a(p,"title","click to copy"),a(f,"class","text-end text-muted my-5"),a(l,"class","container"),a(e,"class","bg-dar pt-3 text-body")},m(w,P){M(w,e,P),n(e,l),ce(s,l,null),n(l,i),m&&m.m(l,null),n(l,r),b&&b.m(l,null),n(l,u),n(l,c),n(c,f),n(f,d),n(f,p),v=!0,g||(k=Me(p,"click",Tl),g=!0)},p(w,[P]){w[0]&&!w[1]?m?P&3&&T(m,1):(m=qt(),m.c(),T(m,1),m.m(l,r)):m&&(me(),K(m,1,1,()=>{m=null}),_e()),w[1]?b?P&2&&T(b,1):(b=Wt(),b.c(),T(b,1),b.m(l,u)):b&&(me(),K(b,1,1,()=>{b=null}),_e())},i(w){v||(T(s.$$.fragment,w),T(m),T(b),v=!0)},o(w){K(s.$$.fragment,w),K(m),K(b),v=!1},d(w){w&&G(e),de(s),m&&m.d(),b&&b.d(),g=!1,k()}}}function Tl(){navigator.clipboard.writeText("nevermeltice"),alert("Copied!")}function Pl(t,e,l){let s,i;return ue(t,Se,r=>l(0,s=r)),ue(t,Ie,r=>l(1,i=r)),[s,i]}class zl extends ve{constructor(e){super(),he(this,e,Pl,Dl,ge,{})}}new zl({target:document.getElementById("app")});
